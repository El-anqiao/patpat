!function(t,i){var e="createTouch"in document||"ontouchstart"in t||0,s=document.documentElement||document.getElementsByTagName("html")[0],n="WebkitTransition"in s.style||"MsTransition"in s.style||"MozTransition"in s.style||"OTransition"in s.style||"transition"in s.style||0,h=e?"touchstart":"mousedown",o=e?"touchmove":"mousemove",r=e?"touchend":"mouseup",a=function(t){this.opt=this.parse_args(t),this.container=this.$(this.opt.id);try{if("ul"==this.container.nodeName.toLowerCase()?(this.element=this.container,this.container=this.element.parentNode):this.element=this.container.getElementsByTagName("ul")[0],"undefined"==typeof this.element)throw new Error('Can\'t find "ul"');for(var i=0;i<this.instance.length;i++)if(this.instance[i]==this.container)throw new Error("An instance is running");this.instance.push(this.container),this.setup()}catch(e){this.status=-1,this.errorInfo=e.message}};a.prototype={_default:{id:"slider",fx:"ease-out",auto:0,speed:600,timeout:5e3,className:"",direction:"left",mouseWheel:!1,before:new Function,after:new Function},instance:[],$:function(t){return document.getElementById(t)},$E:function(t,i,e){for(var s=[],n=e.getElementsByTagName(i),h=0,o=n.length;h<o;h++)new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(n[h].className)&&s.push(n[h]);return s},isIE:function(){return!-[1]},css:function(){var t=function(t){switch(t){case"float":return"cssFloat"in document.body.style?"cssFloat":"styleFloat";case"opacity":return"opacity"in document.body.style?"opacity":{get:function(t,i){var e=i.filter;return e&&e.indexOf("opacity")>=0&&parseFloat(e.match(/opacity=([^)]*)/i)[1])/100+""||"1"},set:function(t,i){t.style.filter="alpha(opacity="+100*i+")",t.style.zoom=1}};default:for(var i=t.split("-"),e=1;e<i.length;e++)i[e]=i[e].substring(0,1).toUpperCase()+i[e].substring(1);return t=i.join("")}},i=function(i,e){e=t(e);var s=i.style[e];if(!s){var n=document.defaultView&&document.defaultView.getComputedStyle&&getComputedStyle(i,null)||i.currentStyle||i.style;s="string"==typeof e?n[e]:e.get(i,n)}return"auto"==s?"":s},e=function(i,e){var s;for(var n in e)s=t(n),"string"==typeof s?i.style[s]=e[n]:s.set(i,e[n])};return function(t,s){return"string"==typeof s?i(t,s):e(t,s)}}(),parse_args:function(t){var i={},e=Object.prototype.toString;if(t&&"[object Object]"==e.call(t))for(var s in this._default)i[s]="undefined"==typeof t[s]?this._default[s]:"[object Number]"==e.call(this._default[s])?parseInt(100*parseFloat(t[s]))/100:t[s];else i=this._default;return i},addListener:function(t,i,e,s){return t.addEventListener?(t.addEventListener(i,e,s),!0):!!t.attachEvent&&(t.attachEvent("on"+i,e),!0)},getMousePoint:function(i){var s=y=0,n=document.documentElement,h=document.body;if(i||(i=t.event),t.pageYoffset?(s=t.pageXOffset,y=t.pageYOffset):(s=(n&&n.scrollLeft||h&&h.scrollLeft||0)-(n&&n.clientLeft||h&&h.clientLeft||0),y=(n&&n.scrollTop||h&&h.scrollTop||0)-(n&&n.clientTop||h&&h.clientTop||0)),e&&i.touches.length){var o=i.touches[0];s+=o.clientX,y+=o.clientY}else s+=i.clientX,y+=i.clientY;return{x:s,y:y}},bind:function(t,i){return function(){return t.apply(i,arguments)}},preventDefault:function(i){t.event?t.event.returnValue=!1:i.preventDefault()},setup:function(){if(this.status=0,this.slides=this.opt.className?this.$E(this.opt.className,"li",this.element):this.element.getElementsByTagName("li"),this.length=this.slides.length,this.opt.timeout=Math.max(this.opt.timeout,this.opt.speed),this.touching=!!e,this.css3transition=!!n,this.index=this.opt.auto<0||this.opt.auto>=this.length?0:this.opt.auto,!(this.length<2)){switch(this.opt.direction){case"up":this.direction="up",this.vertical=!0;break;case"down":this.direction="down",this.vertical=!0;break;case"right":this.direction="right",this.vertical=!1;break;default:this.direction="left",this.vertical=!1}this.resize(),this.begin(),this.addListener(this.element,h,this.bind(this._start,this),!1),this.addListener(document,o,this.bind(this._move,this),!1),this.addListener(document,r,this.bind(this._end,this),!1),this.addListener(this.element,"webkitTransitionEnd",this.bind(this._transitionend,this),!1),this.addListener(this.element,"msTransitionEnd",this.bind(this._transitionend,this),!1),this.addListener(this.element,"oTransitionEnd",this.bind(this._transitionend,this),!1),this.addListener(this.element,"transitionend",this.bind(this._transitionend,this),!1),this.addListener(t,"resize",this.bind(function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.bind(this.resize,this),100)},this),!1),this.addListener(this.element,"mousewheel",this.bind(this.mouseScroll,this),!1),this.addListener(this.element,"DOMMouseScroll",this.bind(this.mouseScroll,this),!1)}},resize:function(){var i,e=parseInt($(t).width()-40);parseInt($(t).width()-20),parseInt($(t).width());this.css(this.container,{overflow:"hidden",visibility:"hidden",listStyle:"none",position:"relative"}),this.width=this.container.clientWidth-parseInt(this.css(this.container,"padding-left"))-parseInt(this.css(this.container,"padding-right")),this.height=this.container.clientHeight-parseInt(this.css(this.container,"padding-top"))-parseInt(this.css(this.container,"padding-bottom")),i={position:"relative",webkitTransitionDuration:"0ms",MozTransitionDuration:"0ms",msTransitionDuration:"0ms",OTransitionDuration:"0ms",transitionDuration:"0ms"},this.vertical?(i.height=this.height*this.length+"px",i.top=-this.height*this.index+"px",this.css(this.container,{height:this.height+"px"})):(i.width=this.width*this.length+"px",i.left=-this.width*this.index+"px"),this.css(this.element,i);for(var s=0;s<this.slides.length;s++)this.css(this.slides[s],{width:e+"px","float":"left"});this.css(this.container,{visibility:"visible"})},slide:function(i,e){var s=this.vertical?"top":"left",h=this.vertical?"height":"width";i=i<0?this.length-1:i>=this.length?0:i,e="undefined"==typeof e?this.opt.speed:parseInt(e);var o=this.element,r=null,a=o.style,l=this,c=0,d=parseInt(a[s])||0,u=-i*this[h]-d,p=Math.abs(u)<this[h]?Math.ceil(Math.abs(u)/this[h]*e/10):e/10,f=function(t,i,e,s){return-e*((t=t/s-1)*t*t*t-1)+i},m=function(){if(c<p&&!n)c++,a[s]=Math.ceil(f(c,d,u,p))+"px",r=setTimeout(m,10);else{var e=parseInt(l[h]*i);if(e>$(t).width()-10){var o=e-60;a[s]="-"+o+"px"}else a[s]=-l[h]*i+"px";l.index=i,n||l._transitionend(),l.pause(),l.begin()}};a.WebkitTransition=a.MozTransition=a.msTransition=a.OTransition=a.transition=s+" "+10*p+"ms "+this.opt.fx,this.opt.before.call(this,i,this.slides[this.index]),m()},begin:function(){return!!(this.timer||this.opt.auto<0)||(this.timer=setTimeout(this.bind(function(){"left"==this.direction||"up"==this.direction?this.next():this.prev()},this),this.opt.timeout),void(this.status=1))},pause:function(){clearInterval(this.timer),this.timer=null,this.status=2},stop:function(){this.pause(),this.index=0,this.slide(0),this.status=0},prev:function(t){t="undefined"==typeof t?t=1:t%this.length;var i=t>this.index?this.length+this.index-t:this.index-t;this.slide(i)},next:function(t){"undefined"==typeof t&&(t=1),this.slide((this.index+t)%this.length)},_start:function(t){this.touching||this.preventDefault(t),this.element.onclick=null,this.startPos=this.getMousePoint(t);var i=this.element.style;i.webkitTransitionDuration=i.MozTransitionDuration=i.msTransitionDuration=i.OTransitionDuration=i.transitionDuration="0ms",this.scrolling=1,this.startTime=new Date},_move:function(t){if(!(!this.scrolling||t.touches&&t.touches.length>1||t.scale&&1!==t.scale)){var i=this.vertical?"top":"left",e=this.vertical?"height":"width",s=this.vertical?"y":"x",n=this.vertical?"x":"y";this.endPos=this.getMousePoint(t);var h=this.endPos[s]-this.startPos[s];2===this.scrolling||Math.abs(h)>=Math.abs(this.endPos[n]-this.startPos[n])?(this.preventDefault(t),this.pause(),h/=!this.index&&h>0||this.index==this.length-1&&h<0?Math.abs(h)/this[e]+1:1,this.element.style[i]=-this.index*this[e]+h+"px",0!=h&&(this.scrolling=2)):this.scrolling=0}},_end:function(t){if("undefined"!=typeof this.scrolling){try{var i=this.vertical?"y":"x",e=this.vertical?"height":"width",s=this.endPos[i]-this.startPos[i];2===this.scrolling&&(this.element.onclick=new Function("return false;"))}catch(n){s=0}(new Date-this.startTime<250&&Math.abs(s)>.1*this[e]||Math.abs(s)>this[e]/2)&&(s<0&&this.index+1<this.length||s>0&&this.index>0)?s>0?this.prev():this.next():this.slide(this.index),delete this.scrolling,delete this.startPos,delete this.endPos,delete this.startTime,this.opt.auto>=0&&this.begin()}},mouseScroll:function(i){if(this.opt.mouseWheel){this.preventDefault(i),i=i||t.event;var e=i.wheelDelta||i.detail&&i.detail*-1||0;e/Math.abs(e);e>0?this.next():this.prev()}},_transitionend:function(t){this.opt.after.call(this,this.index,this.slides[this.index])}},t.TouchSlider=a}(window,void 0);
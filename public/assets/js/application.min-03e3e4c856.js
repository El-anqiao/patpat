function datewithsp(t,e){if(isNaN(t))return"";var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=new Date(1e3*t),r=n[o.getMonth()],a=i[o.getDay()],s="0"+o.getDate(),l=o.getHours(),c="0"+o.getMinutes(),u="0"+o.getSeconds(),d="";return 0==e?d=a+","+r+" "+s.substr(-2)+", "+o.getFullYear()+" "+l+":"+c.substr(-2)+":"+u.substr(-2):1==e?d=r+" "+s.substr(-2)+", "+o.getFullYear():2==e?d=l+":"+c.substr(-2)+":"+u.substr(-2):3==e&&(d=o.getFullYear()+"-"+r+"-"+s.substr(-2)),d}function mdyhms_datewithsp(t){return datewithsp(t,0)}function mdy_datewithsp(t){return datewithsp(t,1)}function hms_datewithsp(t){return datewithsp(t,2)}function ymd_datewithsp(t){return datewithsp(t,3)}function timeAgoWithSp(t,e){if(isNaN(t))return"";var e=e||["Just now","seconds ago","A minute ago","minutes ago","An hour ago","hours ago","Yesterday"],n=Date.parse(new Date);n/=1e3;var i=n-t,o=i/60;if(i<5)return e[0];if(i<60)return Math.ceil(i)+" "+e[1];if(i<120)return e[2];if(o<60)return Math.ceil(o)+" "+e[3];if(o<120)return e[4];if(o<1440){var r=Math.floor(o/60);return Math.ceil(r)+" "+e[5]}return o<2880?e[6]:mdy_datewithsp(t)}function leftTime(t){if(isNaN(t))return"";var e=60,n=1440;if(t<e)return t>1?Math.ceil(t)+" minutes":Math.ceil(t)+" minute";if(t<n){var i=t/e;return i>1?Math.ceil(i)+" hours":Math.ceil(i)+" hour"}var o=t/n;return o>1?Math.ceil(o)+" days":Math.ceil(o)+" day"}function preg_redHighlightPrice(t){var e=/\$([0-9]+)[.]?([0-9]+)/,n=t.match(e);if(null!=n){var i=n[0],o="<span class='text-primary'>"+i+"</span>",n=t.replace(i,o);return n}return t}function errorsDiv(t){var e='<div class="alert alert-danger alert-dismissable" role="alert">';e+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',e+="<ul>";var n;for(n in t)e+="<li>"+t[n]+"</li>";return e+="</ul>",e+="</div>"}function currencyUnit(){var t=$(".currency_display_symbol").text();return t}function formatPrice(t){var e=$(".currency_display_symbol").text(),n=parseFloat($(".currency_exchange_rate").text()),i=parseFloat(t)*n;return e+i.toFixed(2)}function replaceReg(t){var e=new RegExp("("+t+")","g");return e}function replaceSpecialChar(t){var e=replaceReg(" ");t=t.replace(e,"-");var e=replaceReg("/");t=t.replace(e,"-");var e=replaceReg("'");return t=t.replace(e,"")}function getEventUrl(t,e,n){t=replaceSpecialChar(t),e=replaceSpecialChar(e);var i="/"+t+"/event/"+e;return i+="?event_id="+n}function getProductUrl(t,e,n,i){if(t=replaceSpecialChar(t),e=replaceSpecialChar(e),"empty"!=t){var o="/"+t+"/product/"+e;o+="?event_id="+n+"&product_id="+i}else{var o="/product/"+e;o+="?event_id="+n+"&product_id="+i}return o}function getCategoryUrl(t,e){t=replaceSpecialChar(t);var n="/category/"+t;return n+="?category_id="+e}function isEmail(t){var e=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return e.test(t)}function getCountryNameByIsoCode(t){var e={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia ",AO:"Angola ",AR:"Argentina ",AT:"Austria ",AU:"Australia ",AZ:"Azerbaijan ",BB:"Barbados ",BD:"Bangladesh ",BE:"Belgium ",BF:"Burkina,faso ",BG:"Bulgaria ",BH:"Bahrain ",BI:"urundi ",BJ:"Benin ",BL:"Palestine ",BN:"Brunei ",BO:"Bolivia ",BR:"Brazil ",BS:"Bahamas ",BW:"Botswana ",BY:"Belarus ",BZ:"Belize ",CA:"Canada ",CF:"Central African Republic ",CG:"Congo ",CH:"Switzerland ",CL:"Chile ",CM:"Cameroon ",CN:"China ",CO:"Colombia ",CR:"Costa Rica ",CS:"Czech ",CU:"Cuba ",CY:"Cyprus ",CZ:"Czech Republic ",DE:"Germany ",DJ:"Djibouti ",DK:"Denmark ",DZ:"Algeria ",EC:"Ecuador ",EE:"Estonia ",EG:"Egypt ",ES:"Spain ",ET:"Ethiopia ",FI:"Finland ",FJ:"Fiji ",FR:"France ",GA:"Gabon ",GB:"United Kingdom ",GD:"Grenada ",GE:"Georgia ",GF:"French Guiana ",GH:"Ghana ",GI:"Gibraltar ",GM:"Gambia ",GN:"Guinea ",GR:"Greece ",GT:"Guatemala ",GU:"Guam ",GY:"Guyana ",HK:"Hongkong ",HN:"Honduras ",HT:"Haiti ",HU:"Hungary ",ID:"Indonesia ",IE:"Ireland ",IL:"Israel ",IN:"India ",IQ:"Iraq ",IR:"Iran ",IS:"Iceland ",IT:"Italy ",JM:"Jamaica ",JO:"Jordan ",JP:"Japan ",KE:"Kenya ",KG:"Kyrgyzstan ",KH:"Kampuchea (Cambodia ) ",KP:"North Korea ",KR:"Korea ",KT:"Republic of Ivory Coast ",KW:"Kuwait ",KZ:"Kazakhstan",LA:"Laos ",LB:"Lebanon ",LC:"St.Lucia ",LI:"Liechtenstein ",LK:"Sri Lanka ",LR:"Liberia ",LS:"Lesotho ",LT:"Lithuania ",LU:"Luxembourg ",LV:"Latvia ",LY:"Libya ",MA:"Morocco ",MC:"Monaco ",MD:"Moldova, Republic of ",MG:"Madagascar ",ML:"Mali ",MM:"Burma ",MN:"Mongolia ",MO:"Macao ",MS:"Montserrat Is ",MT:"Malta ",MU:"Mauritius ",MV:"Maldives ",MW:"Malawi ",MX:"Mexico ",MY:"Malaysia ",MZ:"Mozambique ",NA:"Namibia ",NE:"Niger ",NG:"Nigeria ",NI:"Nicaragua ",NL:"Netherlands ",NO:"Norway ",NP:"Nepal ",NR:"Nauru ",NZ:"New Zealand ",OM:"Oman ",PA:"Panama ",PE:"Peru ",PF:"French Polynesia ",PG:"Papua New Cuinea ",PH:"Philippines ",PK:"Pakistan ",PL:"Poland ",PR:"Puerto Rico ",PT:"Portugal ",PY:"Paraguay ",QA:"Qatar ",RO:"Romania ",RU:"Russia ",SA:"Saudi Arabia ",SB:"Solomon Is ",SC:"Seychelles ",SD:"Sudan ",SE:"Sweden ",SG:"Singapore ",SI:"Slovenia ",SK:"Slovakia ",SL:"Sierra Leone ",SM:"San Marino ",SN:"Senegal ",SO:"Somali ",SR:"Suriname ",ST:"Sao Tome and Principe ",SV:"EI Salvador ",SY:"Syria ",SZ:"Swaziland ",TD:"Chad ",TG:"Togo ",TH:"Thailand ",TJ:"Tajikstan ",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VC:"Saint Vincent",VE:"Venezuela",VN:"Vietnam",YE:"Yemen",YU:"Yugoslavia",ZA:"South Africa",ZM:"Zambia",ZR:"Zaire",ZW:"Zimbabwe"};return e.hasOwnProperty(t)?e[t].replace(/^\s+|\s+$/g,""):"C2"==t?"China":"United States"}function imgPutAll(t){$.each($(t),function(){var t,e,n=document.createElement("img");n.src=$(this).attr("src"),t=n.width,e=n.height,t>e?$(this).addClass("horizontal"):$(this).addClass("vertical")})}function endingTime(t,e){function n(t){var e=t/1e3,n=parseInt(e/86400),e=e%86400,i="0"+parseInt(e/3600),e=e%3600,o="0"+parseInt(e/60),r="0"+parseInt(e%60);return{day:n,hour:i.substr(-2),minute:o.substr(-2),second:r.substr(-2)}}function i(t){var e=n(t);r.html(e.day),a.html(e.hour),s.html(e.minute),l.html(e.second)}function o(){if(t<1e3){if(e>=1e3)return $("#end-time").parent(".end-time-bigbox").siblings("p.font-medium").text("Free shipping countdown"),$("#end-time .start-buy").addClass("strat-buy-block"),i(e),endingTime(e),!1;e<1e3&&(e=0,$("#end-time").addClass("activity_ending"),$("#end-time").parent(".end-time-bigbox").siblings("p.font-medium").text("Free Shipping Ended"),$("#end-time .start-buy").removeClass("strat-buy-block"))}i(t)}var t=t,e=e?e:t,r=$(".end-time-days>.time"),a=$(".end-time-hours>.time"),s=$(".end-time-minutes>.time"),l=$(".end-time-seconds>.time");o(t,e)}function productDownTime(){function t(t){var e=t/1e3,n=parseInt(e/86400),e=e%86400,i="0"+parseInt(e/3600),e=e%3600,o="0"+parseInt(e/60),r="0"+parseInt(e%60);return{day:n,hour:i.substr(-2),minute:o.substr(-2),second:r.substr(-2)}}function e(e){var n=t(e);i.html(n.day),o.html(n.hour),r.html(n.minute),a.html(n.second),n.day<=1&&$(".time-days").text(" day ")}function n(){s=parseInt((new Date).getTime()/1e3),l=1e3*($(".end-time").data("end_time")-s),l<1e3&&($(".end-time-bigbox").fadeOut(),clearInterval(c)),e(l),$(".end-time-bigbox").css("display","block")}var i=$(".end-time-days"),o=$(".end-time-hours"),r=$(".end-time-minutes"),a=$(".end-time-seconds"),s=parseInt((new Date).getTime()/1e3),l=1e3*($(".end-time").data("end_time")-s);if(l<=0)return!1;$(".end-time-bigbox").fadeIn();var c=setInterval(n,1e3)}function impression(t){var e=$("."+t),n=e.eq(0).outerHeight()/3,i=[],o=[];e.each(function(){o.push($(this).offset().top+n)}),$(window).resize(function(){n=e.eq(0).outerHeight()/3,o=[],e.each(function(){var t=$(this);o.push(t.offset().top+n)}),i=[]});var r,a,s=$(window).height(),l=s;o.forEach(function(t,e){return!(t>=l)&&void(r=e)}),a=r+1,$(window).scroll(function(){var t=$(document).scrollTop();i.push(t),l=s+Math.max.apply(null,i),o.forEach(function(t,e){return!(t>=l)&&void(r=e)}),a=r+1});var c;$("a").on("click",function(){$(this).parents("."+t).length>=1&&(c=$(this).attr("href"))});var u=[];$(window).unload(function(){for(var t=0;t<a;t++)u.push(e.eq(t).data("id"));var n={visitedProduct:u,productHref:c,productHoverTime:productHoverTime},i=JSON.stringify(n);window.track_data=i})}function start(t,e,n){null!=timeFun&&window.clearInterval(timeFun),timeFun=window.setInterval(add,1e3,t,e,n)}function end(t,e,n){null!=timeFun&&(window.clearInterval(timeFun),timeFun=null)}function add(t,e,n){times[e]=times[e]+n,productHoverTime[t.getAttribute("data-id")]=times[e]}function resizewindow(){var t=window.matchMedia("(min-width: 768px)");t.matches?($("#search-inner").show(),$("#search-inner").removeClass("active")):$(window).scroll(function(){$("#search-inner").hide(),$("#search-inner").removeClass("active")});var e=$(window).height(),n=e-($("#site-top-bar").outerHeight()+$("#site-header").outerHeight()+$("#site-nav").outerHeight()+$("#site-footer").outerHeight()+$("#site-footer-bottom").outerHeight()),i=n-100;$(".container-middle").css({minHeight:i+"px"}),$("#site-main").css({minHeight:n+"px"})}function moveBottom(t,e,n,i,o){function r(){p-=d,p<=0&&(p=0),o.css({top:p}),e.css({marginTop:-p*u})}function a(){p+=d,p>h-f&&(p=h-f),o.css({top:p}),e.css({marginTop:-p*u})}var s=t.outerHeight(),l=n.outerHeight()+parseInt(n.css("marginBottom")),c=l*n.length-parseInt(n.css("marginBottom"))+1;e.css("height",c);var u=c/s,d=20,p=0;u>1&&i.css("display","block");var h=i.outerHeight(),f=h/u;o.css("height",f),o.mousedown(function(t){var n=t.pageY,i=o.position().top;t.preventDefault(),$(document).mousemove(function(t){var r=t.pageY;p=r-n+i,p<=0&&(p=0),p>h-f&&(p=h-f),o.css({top:p}),e.css({marginTop:-p*u})}),$(document).mouseup(function(){$(this).off("mousemove"),$(this).off("mouseup")})}),t.mouseover(function(){$(document).keydown(function(t){t.preventDefault();var e=t.keyCode;38!=e&&40!=e||(38==e?r():40==e&&a())})}),t.mouseout(function(){$(document).off("keydown")})}function previewImage(t){var e=260,n=380,i=document.getElementById("user-img-box");if(t.files&&t.files[0]){i.innerHTML="<img id=user-img>";var o=document.getElementById("user-img");o.onload=function(){var t=clacImgZoomParam(e,n,o.offsetWidth,o.offsetHeight);o.width=t.width,o.height=t.height,o.style.marginTop=t.top+"px"};var r=new FileReader;r.onload=function(t){o.src=t.target.result},r.readAsDataURL(t.files[0])}else{var a='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="';t.select();var s=document.selection.createRange().text;i.innerHTML="<img id=user-img>";var o=document.getElementById("user-img");o.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src=s;var l=clacImgZoomParam(e,n,o.offsetWidth,o.offsetHeight);status="rect:"+l.top+","+l.left+","+l.width+","+l.height,i.innerHTML="<div id=divhead style='width:"+l.width+"px;height:"+l.height+"px;margin-top:"+l.top+"px;"+a+s+"\"'></div>"}}function clacImgZoomParam(t,e,n,i){var o={top:0,left:0,width:n,height:i};return(n>t||i>e)&&(rateWidth=n/t,rateHeight=i/e,rateWidth>rateHeight?(o.width=t,o.height=Math.round(i/rateWidth)):(o.width=Math.round(n/rateHeight),o.height=e)),o.left=Math.round((t-o.width)/2),o.top=Math.round((e-o.height)/2),o}function i_slide(t,e){function n(t){var e,n=d.length;for(d.eq(t).attr("class","on"),d.eq(t).find(".icon").show(),d.eq(t).siblings("li").find(".bg").hide(),d.eq(t).siblings("li").find(".info").hide(),i=1;i<=h;i++){e=t+i,n-=i,e==p&&(e=0),d.eq(e).css("z-index",n),d.eq(e).attr("class","right"),d.eq(e).animate({left:x,width:C,height:T,top:k},g);var o=t-i;o==-1&&(o=p-1),d.eq(o).attr("class","left"),d.eq(o).css("z-index",n),d.eq(o).animate({left:"0px",width:C,height:T,top:k},g)}p%2==0&&(d.eq(e+1).attr("class","mid"),d.eq(e+1).css("z-index",n-2),d.eq(e+1).animate({left:x,width:C,height:T,top:k},g)),d.eq(t).css("z-index",parseInt(p)+3),d.eq(t).animate({left:b,width:v,height:y,top:w},g)}function o(t){var e=0;for(i=0;i<t.length;i++){var n=t[i];$(n).hasClass("on")&&(e=i)}return e}function r(){a+=1,a==p&&(a=0)}var a,s,l={speed:"5000",a_speed:"500",conuntW:"670",countH:"230",w1:"230",h1:"230",w2:"200",h2:"200"},c=t.find("ul.slide_img"),u=t.find(".i_btn"),d=(c.find(".on"),c.children("li")),p=(c.children("li.on"),d.length),h=parseInt(p/2),f=$.extend(l,e||{}),m=f.speed,g=f.a_speed,v=(f.conuntW,f.countH,f.w1),y=f.h1,b=(f.conuntW-f.w1)/2,w=(f.countH-f.h1)/2,x=f.conuntW-f.w2,k=(f.countH-f.h2)/2,C=f.w2,T=f.h2;p%2==0&&(h-=1),a=parseInt(o(d)),n(a),T1=setTimeout(function(){r(),n(a)},0);u.unbind("click").click(function(){a=parseInt(o(d));var t=$(this).attr("tip");0==t?0==a?a=p-1:a-=1:a==p-1?a=0:a+=1,n(a)}),c.on("click","li.on .icon",function(){clearInterval(s),$(this).hide(),$(this).siblings(".info").show(),$(this).siblings(".bg").show()}),d.on("click",".info i",function(){return $(this).parent(".info").siblings(".icon").show(),$(this).parent(".info").hide(),$(this).parent(".info").siblings(".bg").hide(),a=parseInt(o(d)),setTimeout(function(){s=setInterval(function(){r(),n(a)},m)},300),!1})}if(function(t,e,n,i,o,r,a){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,r=e.createElement(n),a=e.getElementsByTagName(n)[0],r.async=1,r.src=i,a.parentNode.insertBefore(r,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-75983586-1","auto"),ga("send","pageview"),"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t,e,n){function i(n){var i=e.console;r[n]||(r[n]=!0,t.migrateWarnings.push(n),i&&i.warn&&!t.migrateMute&&(i.warn("JQMIGRATE: "+n),t.migrateTrace&&i.trace&&i.trace()))}function o(e,n,o,r){if(Object.defineProperty)try{return void Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return i(r),o},set:function(t){i(r),o=t}})}catch(a){}t._definePropertyBroken=!0,e[n]=o}t.migrateVersion="1.3.0";var r={};t.migrateWarnings=[],!t.migrateMute&&e.console&&e.console.log&&e.console.log("JQMIGRATE: Logging is active"),t.migrateTrace===n&&(t.migrateTrace=!0),t.migrateReset=function(){r={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=t("<input/>",{size:1}).attr("size")&&t.attrFn,s=t.attr,l=t.attrHooks.value&&t.attrHooks.value.get||function(){return null},c=t.attrHooks.value&&t.attrHooks.value.set||function(){return n},u=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,h=/^(?:checked|selected)$/i;o(t,"attrFn",a||{},"jQuery.attrFn is deprecated"),t.attr=function(e,o,r,l){var c=o.toLowerCase(),f=e&&e.nodeType;return l&&(s.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated"),e&&!d.test(f)&&(a?o in a:t.isFunction(t.fn[o])))?t(e)[o](r):("type"===o&&r!==n&&u.test(e.nodeName)&&e.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!t.attrHooks[c]&&p.test(c)&&(t.attrHooks[c]={get:function(e,i){var o,r=t.prop(e,i);return r===!0||"boolean"!=typeof r&&(o=e.getAttributeNode(i))&&o.nodeValue!==!1?i.toLowerCase():n},set:function(e,n,i){var o;return n===!1?t.removeAttr(e,i):(o=t.propFix[i]||i,o in e&&(e[o]=!0),e.setAttribute(i,i.toLowerCase())),i}},h.test(c)&&i("jQuery.fn.attr('"+c+"') might use property instead of attribute")),s.call(t,e,o,r))},t.attrHooks.value={get:function(t,e){var n=(t.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),e in t?t.value:null)},set:function(t,e){var n=(t.nodeName||"").toLowerCase();return"button"===n?c.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value', val) no longer sets properties"),void(t.value=e))}};var f,m,g=t.fn.init,v=t.parseJSON,y=/^\s*</,b=/^([^<]*)(<[\w\W]+>)([^>]*)$/;t.fn.init=function(e,o,r){var a,s;return e&&"string"==typeof e&&!t.isPlainObject(o)&&(a=b.exec(t.trim(e)))&&a[0]&&(y.test(e)||i("$(html) HTML strings must start with '<' character"),a[3]&&i("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),t.error("JQMIGRATE: Invalid selector string (XSS)")),o&&o.context&&(o=o.context),t.parseHTML)?g.call(this,t.parseHTML(a[2],o&&o.ownerDocument||o||document,!0),o,r):("#"===e&&(i("jQuery( '#' ) is not a valid selector"),e=[]),s=g.apply(this,arguments),e&&e.selector!==n?(s.selector=e.selector,s.context=e.context):(s.selector="string"==typeof e?e:"",e&&(s.context=e.nodeType?e:o||document)),s)},t.fn.init.prototype=t.fn,t.parseJSON=function(t){return t?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(f=t.uaMatch(navigator.userAgent),m={},f.browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),t.browser=m),o(t,"browser",t.browser,"jQuery.browser is deprecated"),t.boxModel=t.support.boxModel="CSS1Compat"===document.compatMode,o(t,"boxModel",t.boxModel,"jQuery.boxModel is deprecated"),o(t.support,"boxModel",t.support.boxModel,"jQuery.support.boxModel is deprecated"),t.sub=function(){function e(t,n){return new e.fn.init(t,n)}t.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,o){var r=t.fn.init.call(this,i,o,n);return r instanceof e?r:e(r)},e.fn.init.prototype=e.fn;var n=e(document);return i("jQuery.sub() is deprecated"),e},t.fn.size=function(){return i("jQuery.fn.size() is deprecated; use the .length property"),this.length};var w=!1;t.swap&&t.each(["height","width","reliableMarginRight"],function(e,n){var i=t.cssHooks[n]&&t.cssHooks[n].get;i&&(t.cssHooks[n].get=function(){var t;return w=!0,t=i.apply(this,arguments),w=!1,t})}),t.swap=function(t,e,n,o){var r,a,s={};w||i("jQuery.swap() is undocumented and deprecated");for(a in e)s[a]=t.style[a],t.style[a]=e[a];r=n.apply(t,o||[]);for(a in e)t.style[a]=s[a];return r},t.ajaxSetup({converters:{"text json":t.parseJSON}});var x=t.fn.data;t.fn.data=function(e){var o,r,a=this[0];return!a||"events"!==e||1!==arguments.length||(o=t.data(a,e),r=t._data(a,e),o!==n&&o!==r||r===n)?x.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),r)};var k=/\/(java|ecma)script/i;t.clean||(t.clean=function(e,n,o,r){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i("jQuery.clean() is deprecated");var a,s,l,c,u=[];if(t.merge(u,t.buildFragment(e,n).childNodes),o)for(l=function(t){return!t.type||k.test(t.type)?r?r.push(t.parentNode?t.parentNode.removeChild(t):t):o.appendChild(t):void 0},a=0;null!=(s=u[a]);a++)t.nodeName(s,"script")&&l(s)||(o.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(c=t.grep(t.merge([],s.getElementsByTagName("script")),l),u.splice.apply(u,[a+1,0].concat(c)),a+=c.length));return u});var C=t.event.add,T=t.event.remove,S=t.event.trigger,$=t.fn.toggle,_=t.fn.live,A=t.fn.die,I=t.fn.load,E="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=new RegExp("\\b(?:"+E+")\\b"),O=/(?:^|\s)hover(\.\S+|)\b/,R=function(e){return"string"!=typeof e||t.event.special.hover?e:(O.test(e)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),e&&e.replace(O,"mouseenter$1 mouseleave$1"))};t.event.props&&"attrChange"!==t.event.props[0]&&t.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),t.event.dispatch&&o(t.event,"handle",t.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),t.event.add=function(t,e,n,o,r){t!==document&&D.test(e)&&i("AJAX events should be attached to document: "+e),C.call(this,t,R(e||""),n,o,r)},t.event.remove=function(t,e,n,i,o){T.call(this,t,R(e)||"",n,i,o)},t.each(["load","unload","error"],function(e,n){t.fn[n]=function(){var t=Array.prototype.slice.call(arguments,0);return i("jQuery.fn."+n+"() is deprecated"),"load"===n&&"string"==typeof arguments[0]?I.apply(this,arguments):(t.splice(0,0,n),arguments.length?this.bind.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),t.fn.toggle=function(e,n){if(!t.isFunction(e)||!t.isFunction(n))return $.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,r=e.guid||t.guid++,a=0,s=function(n){var i=(t._data(this,"lastToggle"+e.guid)||0)%a;return t._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),o[i].apply(this,arguments)||!1};for(s.guid=r;a<o.length;)o[a++].guid=r;return this.click(s)},t.fn.live=function(e,n,o){return i("jQuery.fn.live() is deprecated"),_?_.apply(this,arguments):(t(this.context).on(e,this.selector,n,o),this)},t.fn.die=function(e,n){return i("jQuery.fn.die() is deprecated"),A?A.apply(this,arguments):(t(this.context).off(e,this.selector||"**",n),this)},t.event.trigger=function(t,e,n,o){return n||D.test(t)||i("Global events are undocumented and deprecated"),S.call(this,t,e,n||document,o)},t.each(E.split("|"),function(e,n){t.event.special[n]={setup:function(){var e=this;return e!==document&&(t.event.add(document,n+"."+t.guid,function(){t.event.trigger(n,Array.prototype.slice.call(arguments,1),e,!0)}),t._data(this,n,t.guid++)),!1},teardown:function(){return this!==document&&t.event.remove(document,n+"."+t._data(this,n)),!1}}}),t.event.special.ready={setup:function(){i("'ready' event is deprecated")}};var N=t.fn.andSelf||t.fn.addBack,P=t.fn.find;if(t.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),N.apply(this,arguments)},t.fn.find=function(t){var e=P.apply(this,arguments);return e.context=this.context,e.selector=this.selector?this.selector+" "+t:t,e},t.Callbacks){var M=t.Deferred,L=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];t.Deferred=function(e){var n=M(),o=n.promise();return n.pipe=o.pipe=function(){var e=arguments;return i("deferred.pipe() is deprecated"),t.Deferred(function(i){t.each(L,function(r,a){var s=t.isFunction(e[r])&&e[r];n[a[1]](function(){var e=s&&s.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a[0]+"With"](this===o?i.promise():this,s?[e]:arguments)})}),e=null}).promise()},n.isResolved=function(){return i("deferred.isResolved is deprecated"),"resolved"===n.state()},n.isRejected=function(){return i("deferred.isRejected is deprecated"),"rejected"===n.state()},e&&e.call(n,n),n}}}(jQuery,window),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t(r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),r="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:r.slide;o||i.data("bs.carousel",o=new n(this,r)),"number"==typeof e?o.to(e):a?o[a]():r.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(n+o)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||n.data("bs.collapse",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");
if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),a=r.data("bs.collapse"),s=a?"toggle":o.data();n.call(r,s)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(r).each(function(){var i=t(this),o=e(i),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),a=r.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&o.find(r).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new n(this,a)),"string"==typeof e?r[e](i):a.show&&r.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(r,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.tooltip",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=r[0].offsetWidth,p=r[0].offsetHeight;if(c){var h=s,f=this.getPosition(this.$viewport);s="bottom"==s&&u.bottom+p>f.bottom?"top":"top"==s&&u.top-p<f.top?"bottom":"right"==s&&u.right+d>f.width?"left":"left"==s&&u.left-d<f.left?"right":s,r.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,u,d,p);this.applyPlacement(m,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var d=/top|bottom/.test(n),p=d?2*u.left-o+l:2*u.top-r+c,h=d?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(p,i[0][h],d)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,s,r)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+n;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.popover",o=new n(this,r)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,r)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=i.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.affix"),r="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(t-i>=o+a)&&"bottom";var s=null==this.affixed,l=s?o:r.top,c=s?a:e;return null!=n&&n>=o?"top":null!=i&&l+c>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var s=this.getState(a,e,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-r})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=g[f.locale];return e?e[t]:g.en[t]}function o(t,n,i){t.stopPropagation(),t.preventDefault();var o=e.isFunction(i)&&i.call(n,t)===!1;o||n.modal("hide")}function r(t){var e,n=0;for(e in t)n++;return n}function a(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function s(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},f,t),t.buttons||(t.buttons={}),n=t.buttons,i=r(n),a(n,function(t,o,r){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=2>=i&&r===i-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function c(t,n,i){return e.extend(!0,{},t,l(n,i))}function u(t,e,n,i){var o={className:"bootbox-"+t,buttons:d.apply(null,e)};return p(c(o,i,n),e)}function d(){for(var t={},e=0,n=arguments.length;n>e;e++){var o=arguments[e],r=o.toLowerCase(),a=o.toUpperCase();t[r]={label:i(a)}}return t}function p(t,e){var i={};return a(e,function(t,e){i[e]=!0}),a(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var h={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,i,o,r,s,l,u;if(r=e(h.form),i={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},t=p(c(i,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n||t.show,t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=s.val();break;case"checkbox":var i=s.find("input:checked");n=[],a(i,function(t,i){n.push(e(i).val())})}return t.callback.call(this,n);},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!h.inputs[t.inputType])throw new Error("invalid prompt type");switch(s=e(h.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":s.val(t.value);break;case"select":var f={};if(u=t.inputOptions||[],!e.isArray(u))throw new Error("Please pass an array of input options");if(!u.length)throw new Error("prompt with select requires options");a(u,function(t,i){var o=s;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(f[i.group]||(f[i.group]=e("<optgroup/>").attr("label",i.group)),o=f[i.group]),o.append("<option value='"+i.value+"'>"+i.text+"</option>")}),a(f,function(t,e){s.append(e)}),s.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");s=e("<div/>"),a(u,function(n,i){var o=e(h.inputs[t.inputType]);o.find("input").attr("value",i.value),o.find("label").append(i.text),a(g,function(t,e){e===i.value&&o.find("input").prop("checked",!0)}),s.append(o)})}return t.placeholder&&s.attr("placeholder",t.placeholder),t.pattern&&s.attr("pattern",t.pattern),t.maxlength&&s.attr("maxlength",t.maxlength),r.append(s),r.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=m.dialog(t),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){s.focus()}),l===!0&&o.modal("show"),o},m.dialog=function(t){t=s(t);var i=e(h.dialog),r=i.find(".modal-dialog"),l=i.find(".modal-body"),c=t.buttons,u="",d={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(a(c,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",d[t]=e.callback}),l.find(".bootbox-body").html(t.message),t.animate===!0&&i.addClass("fade"),t.className&&i.addClass(t.className),"large"===t.size?r.addClass("modal-lg"):"small"===t.size&&r.addClass("modal-sm"),t.title&&l.before(h.header),t.closeButton){var p=e(h.closeButton);t.title?i.find(".modal-header").prepend(p):p.css("margin-top","-10px").prependTo(l)}return t.title&&i.find(".modal-title").html(t.title),u.length&&(l.after(h.footer),i.find(".modal-footer").html(u)),i.on("hidden.bs.modal",function(t){t.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&i.on("click.dismiss.bs.modal",function(t){i.children(".modal-backdrop").length&&(t.currentTarget=i.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&i.trigger("escape.close.bb")}),i.on("escape.close.bb",function(t){d.onEscape&&o(t,i,d.onEscape)}),i.on("click",".modal-footer button",function(t){var n=e(this).data("bb-handler");o(t,i,d[n])}),i.on("click",".bootbox-close-button",function(t){o(t,i,d.onEscape)}),i.on("keyup",function(t){27===t.which&&i.trigger("escape.close.bb")}),e(t.container).append(i),i.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&i.modal("show"),i},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(f,t)},m.hideAll=function(){return e(".bootbox").modal("hide"),m};var g={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return m.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),g[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},m},m.removeLocale=function(t){return delete g[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(n){return t(n||e)},m}),!function(t){t(["jquery"],function(t){return function(){function e(t,e,n){return f({type:x.error,iconClass:m().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=m()),v=t("#"+e.containerId),v.length?v:(n&&(v=d(e)),v)}function i(t,e,n){return f({type:x.info,iconClass:m().iconClasses.info,message:t,optionsOverride:n,title:e})}function o(t){y=t}function r(t,e,n){return f({type:x.success,iconClass:m().iconClasses.success,message:t,optionsOverride:n,title:e})}function a(t,e,n){return f({type:x.warning,iconClass:m().iconClasses.warning,message:t,optionsOverride:n,title:e})}function s(t){var e=m();v||n(e),u(t,e)||c(e)}function l(e){var i=m();return v||n(i),e&&0===t(":focus",e).length?void g(e):void(v.children().length&&v.remove())}function c(e){for(var n=v.children(),i=n.length-1;i>=0;i--)u(t(n[i]),e)}function u(e,n){return!(!e||0!==t(":focus",e).length)&&(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){g(e)}}),!0)}function d(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(t(e.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function h(t){y&&y(t)}function f(e){function i(e){return!t(":focus",u).length||e?(clearTimeout(x.intervalId),u[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){g(u),s.onHidden&&"hidden"!==k.state&&s.onHidden(),k.state="hidden",k.endTime=new Date,h(k)}})):void 0}function o(){(s.timeOut>0||s.extendedTimeOut>0)&&(c=setTimeout(i,s.extendedTimeOut),x.maxHideTime=parseFloat(s.extendedTimeOut),x.hideEta=(new Date).getTime()+x.maxHideTime)}function r(){clearTimeout(c),x.hideEta=0,u.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}function a(){var t=(x.hideEta-(new Date).getTime())/x.maxHideTime*100;f.width(t+"%")}var s=m(),l=e.iconClass||s.iconClass;if("undefined"!=typeof e.optionsOverride&&(s=t.extend(s,e.optionsOverride),l=e.optionsOverride.iconClass||l),s.preventDuplicates){if(e.message===b)return;b=e.message}w++,v=n(s,!0);var c=null,u=t("<div/>"),d=t("<div/>"),p=t("<div/>"),f=t("<div/>"),y=t(s.closeHtml),x={intervalId:null,hideEta:null,maxHideTime:null},k={toastId:w,state:"visible",startTime:new Date,options:s,map:e};return e.iconClass&&u.addClass(s.toastClass).addClass(l),e.title&&(d.append(e.title).addClass(s.titleClass),u.append(d)),e.message&&(p.append(e.message).addClass(s.messageClass),u.append(p)),s.closeButton&&(y.addClass("toast-close-button").attr("role","button"),u.prepend(y)),s.progressBar&&(f.addClass("toast-progress"),u.prepend(f)),u.hide(),s.newestOnTop?v.prepend(u):v.append(u),u[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),s.timeOut>0&&(c=setTimeout(i,s.timeOut),x.maxHideTime=parseFloat(s.timeOut),x.hideEta=(new Date).getTime()+x.maxHideTime,s.progressBar&&(x.intervalId=setInterval(a,10))),u.hover(r,o),!s.onclick&&s.tapToDismiss&&u.click(i),s.closeButton&&y&&y.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),i(!0)}),s.onclick&&u.click(function(){s.onclick(),i()}),h(k),s.debug&&console&&void 0,u}function m(){return t.extend({},p(),k.options)}function g(t){v||(v=n()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),b=void 0))}var v,y,b,w=0,x={error:"error",info:"info",success:"success",warning:"warning"},k={clear:s,remove:l,error:e,getContainer:n,info:i,options:{},subscribe:o,success:r,version:"2.1.0",warning:a};return k}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),!function(t,e,n){"use strict";!function i(t,e,n){function o(a,s){if(!e[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=e[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,i,t,e,n)}return e[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(i,o,r){var a=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(r,"__esModule",{value:!0});var s,l,c,u,d=i("./modules/handle-dom"),p=i("./modules/utils"),h=i("./modules/handle-swal-dom"),f=i("./modules/handle-click"),m=i("./modules/handle-key"),g=a(m),v=i("./modules/default-params"),y=a(v),b=i("./modules/set-params"),w=a(b);r["default"]=c=u=function(){function i(t){var e=o;return e[t]===n?y["default"][t]:e[t]}var o=arguments[0];if(d.addClass(e.body,"stop-scrolling"),h.resetInput(),o===n)return p.logStr("SweetAlert expects at least 1 attribute!"),!1;var r=p.extend({},y["default"]);switch(typeof o){case"string":r.title=o,r.text=arguments[1]||"",r.type=arguments[2]||"";break;case"object":if(o.title===n)return p.logStr('Missing "title" argument!'),!1;r.title=o.title;for(var a in y["default"])r[a]=i(a);r.confirmButtonText=r.showCancelButton?"Confirm":y["default"].confirmButtonText,r.confirmButtonText=i("confirmButtonText"),r.doneFunction=arguments[1]||null;break;default:return p.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof o),!1}w["default"](r),h.fixVerticalPosition(),h.openModal(arguments[1]);for(var c=h.getModal(),m=c.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(t){return f.handleButton(t,r,c)},x=0;x<m.length;x++)for(var k=0;k<v.length;k++){var C=v[k];m[x][C]=b}h.getOverlay().onclick=b,s=t.onkeydown;var T=function(t){return g["default"](t,r,c)};t.onkeydown=T,t.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},u.enableButtons()},c.setDefaults=u.setDefaults=function(t){if(!t)throw new Error("userParams is required");if("object"!=typeof t)throw new Error("userParams has to be a object");p.extend(y["default"],t)},c.close=u.close=function(){var i=h.getModal();d.fadeOut(h.getOverlay(),5),d.fadeOut(i,5),d.removeClass(i,"showSweetAlert"),d.addClass(i,"hideSweetAlert"),d.removeClass(i,"visible");var o=i.querySelector(".sa-icon.sa-success");d.removeClass(o,"animate"),d.removeClass(o.querySelector(".sa-tip"),"animateSuccessTip"),d.removeClass(o.querySelector(".sa-long"),"animateSuccessLong");var r=i.querySelector(".sa-icon.sa-error");d.removeClass(r,"animateErrorIcon"),d.removeClass(r.querySelector(".sa-x-mark"),"animateXMark");var a=i.querySelector(".sa-icon.sa-warning");return d.removeClass(a,"pulseWarning"),d.removeClass(a.querySelector(".sa-body"),"pulseWarningIns"),d.removeClass(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var t=i.getAttribute("data-custom-class");d.removeClass(i,t)},300),d.removeClass(e.body,"stop-scrolling"),t.onkeydown=s,t.previousActiveElement&&t.previousActiveElement.focus(),l=n,clearTimeout(i.timeout),!0},c.showInputError=u.showInputError=function(t){var e=h.getModal(),n=e.querySelector(".sa-input-error");d.addClass(n,"show");var i=e.querySelector(".sa-error-container");d.addClass(i,"show"),i.querySelector("p").innerHTML=t,setTimeout(function(){c.enableButtons()},1),e.querySelector("input").focus()},c.resetInputError=u.resetInputError=function(t){if(t&&13===t.keyCode)return!1;var e=h.getModal(),n=e.querySelector(".sa-input-error");d.removeClass(n,"show");var i=e.querySelector(".sa-error-container");d.removeClass(i,"show")},c.disableButtons=u.disableButtons=function(){var t=h.getModal(),e=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");e.disabled=!0,n.disabled=!0},c.enableButtons=u.enableButtons=function(){var t=h.getModal(),e=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");e.disabled=!1,n.disabled=!1},"undefined"!=typeof t?t.sweetAlert=t.swal=c:p.logStr("SweetAlert is a frontend module!"),o.exports=r["default"]},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n["default"]=i,e.exports=n["default"]},{}],3:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils"),r=(e("./handle-swal-dom"),e("./handle-dom")),a=function(e,n,i){function a(t){f&&n.confirmButtonColor&&(h.style.backgroundColor=t)}var c,u,d,p=e||t.event,h=p.target||p.srcElement,f=-1!==h.className.indexOf("confirm"),m=-1!==h.className.indexOf("sweet-overlay"),g=r.hasClass(i,"visible"),v=n.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(f&&n.confirmButtonColor&&(c=n.confirmButtonColor,u=o.colorLuminance(c,-.04),d=o.colorLuminance(c,-.14)),p.type){case"mouseover":a(u);break;case"mouseout":a(c);break;case"mousedown":a(d);break;case"mouseup":a(u);break;case"focus":var y=i.querySelector("button.confirm"),b=i.querySelector("button.cancel");f?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var w=i===h,x=r.isDescendant(i,h);if(!w&&!x&&g&&!n.allowOutsideClick)break;f&&v&&g?s(i,n):v&&g||m?l(i,n):r.isDescendant(i,h)&&"BUTTON"===h.tagName&&sweetAlert.close()}},s=function(t,e){var n=!0;r.hasClass(t,"show-input")&&(n=t.querySelector("input").value,n||(n="")),e.doneFunction(n),e.closeOnConfirm&&sweetAlert.close(),e.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(t,e){var n=String(e.doneFunction).replace(/\s/g,""),i="function("===n.substring(0,9)&&")"!==n.substring(9,10);i&&e.doneFunction(!1),e.closeOnCancel&&sweetAlert.close()};i["default"]={handleButton:a,handleConfirm:s,handleCancel:l},n.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,i,o){Object.defineProperty(o,"__esModule",{value:!0});var r=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},a=function(t,e){r(t,e)||(t.className+=" "+e)},s=function(t,e){var n=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(r(t,e)){for(;n.indexOf(" "+e+" ")>=0;)n=n.replace(" "+e+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}},l=function(t){var n=e.createElement("div");return n.appendChild(e.createTextNode(t)),n.innerHTML},c=function(t){t.style.opacity="",t.style.display="block"},u=function(t){if(t&&!t.length)return c(t);for(var e=0;e<t.length;++e)c(t[e])},d=function(t){t.style.opacity="",t.style.display="none"},p=function(t){if(t&&!t.length)return d(t);for(var e=0;e<t.length;++e)d(t[e])},h=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},f=function(t){t.style.left="-9999px",t.style.display="block";var e,n=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((n+e)/2)+"px"},m=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var n=+new Date,i=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity+(new Date-n)/100,n=+new Date,+t.style.opacity<1&&setTimeout(i,e)});i()}t.style.display="block"},g=function(t,e){e=e||16,t.style.opacity=1;var n=+new Date,i=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity-(new Date-n)/100,n=+new Date,+t.style.opacity>0?setTimeout(i,e):t.style.display="none"});i()},v=function(n){if("function"==typeof MouseEvent){var i=new MouseEvent("click",{view:t,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(e.createEvent){var o=e.createEvent("MouseEvents");o.initEvent("click",!1,!1),n.dispatchEvent(o)}else e.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},y=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):t.event&&t.event.hasOwnProperty("cancelBubble")&&(t.event.cancelBubble=!0)};o.hasClass=r,o.addClass=a,o.removeClass=s,o.escapeHtml=l,o._show=c,o.show=u,o._hide=d,o.hide=p,o.isDescendant=h,o.getTopMargin=f,o.fadeIn=m,o.fadeOut=g,o.fireClick=v,o.stopEventPropagation=y},{}],5:[function(e,i,o){Object.defineProperty(o,"__esModule",{value:!0});var r=e("./handle-dom"),a=e("./handle-swal-dom"),s=function(e,i,o){var s=e||t.event,l=s.keyCode||s.which,c=o.querySelector("button.confirm"),u=o.querySelector("button.cancel"),d=o.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var p=s.target||s.srcElement,h=-1,f=0;f<d.length;f++)if(p===d[f]){h=f;break}9===l?(p=-1===h?c:h===d.length-1?d[0]:d[h+1],r.stopEventPropagation(s),p.focus(),i.confirmButtonColor&&a.setFocusStyle(p,i.confirmButtonColor)):13===l?("INPUT"===p.tagName&&(p=c,c.focus()),p=-1===h?c:n):27===l&&i.allowEscapeKey===!0?(p=u,r.fireClick(p,s)):p=n}};o["default"]=s,i.exports=o["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,i,o){var r=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(o,"__esModule",{value:!0});var a=n("./utils"),s=n("./handle-dom"),l=n("./default-params"),c=r(l),u=n("./injected-html"),d=r(u),p=".sweet-alert",h=".sweet-overlay",f=function(){var t=e.createElement("div");for(t.innerHTML=d["default"];t.firstChild;)e.body.appendChild(t.firstChild)},m=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=e.querySelector(p);return t||(f(),t=m()),t}),g=function(){var t=m();return t?t.querySelector("input"):void 0},v=function(){return e.querySelector(h)},y=function(t,e){var n=a.hexToRgb(e);t.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(n){var i=m();s.fadeIn(v(),10),s.show(i),s.addClass(i,"showSweetAlert"),s.removeClass(i,"hideSweetAlert"),t.previousActiveElement=e.activeElement;var o=i.querySelector("button.confirm");o.focus(),setTimeout(function(){s.addClass(i,"visible")},500);var r=i.getAttribute("data-timer");if("null"!==r&&""!==r){var a=n;i.timeout=setTimeout(function(){var t=(a||null)&&"true"===i.getAttribute("data-has-done-function");t?a(null):sweetAlert.close()},r)}},w=function(){var t=m(),e=g();s.removeClass(t,"show-input"),e.value=c["default"].inputValue,e.setAttribute("type",c["default"].inputType),e.setAttribute("placeholder",c["default"].inputPlaceholder),x()},x=function(t){if(t&&13===t.keyCode)return!1;var e=m(),n=e.querySelector(".sa-input-error");s.removeClass(n,"show");var i=e.querySelector(".sa-error-container");s.removeClass(i,"show")},k=function(){var t=m();t.style.marginTop=s.getTopMargin(m())};o.sweetAlertInitialize=f,o.getModal=m,o.getOverlay=v,o.getInput=g,o.setFocusStyle=y,o.openModal=b,o.resetInput=w,o.resetInputError=x,o.fixVerticalPosition=k},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n["default"]=i,e.exports=n["default"]},{}],8:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});var o=t("./utils"),r=t("./handle-swal-dom"),a=t("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(t){var e=r.getModal(),i=e.querySelector("h2"),l=e.querySelector("p"),c=e.querySelector("button.cancel"),u=e.querySelector("button.confirm");if(i.innerHTML=t.html?t.title:a.escapeHtml(t.title).split("\n").join("<br>"),l.innerHTML=t.html?t.text:a.escapeHtml(t.text||"").split("\n").join("<br>"),t.text&&a.show(l),t.customClass)a.addClass(e,t.customClass),e.setAttribute("data-custom-class",t.customClass);else{var d=e.getAttribute("data-custom-class");a.removeClass(e,d),e.setAttribute("data-custom-class","")}if(a.hide(e.querySelectorAll(".sa-icon")),t.type&&!o.isIE8()){var p=function(){for(var i=!1,o=0;o<s.length;o++)if(t.type===s[o]){i=!0;break}if(!i)return logStr("Unknown alert type: "+t.type),{v:!1};var l=["success","error","warning","info"],c=n;-1!==l.indexOf(t.type)&&(c=e.querySelector(".sa-icon.sa-"+t.type),a.show(c));var u=r.getInput();switch(t.type){case"success":a.addClass(c,"animate"),a.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),a.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":a.addClass(c,"animateErrorIcon"),a.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":a.addClass(c,"pulseWarning"),a.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),a.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":u.setAttribute("type",t.inputType),u.value=t.inputValue,u.setAttribute("placeholder",t.inputPlaceholder),a.addClass(e,"show-input"),setTimeout(function(){u.focus(),u.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof p)return p.v}if(t.imageUrl){var h=e.querySelector(".sa-icon.sa-custom");h.style.backgroundImage="url("+t.imageUrl+")",a.show(h);var f=80,m=80;if(t.imageSize){var g=t.imageSize.toString().split("x"),v=g[0],y=g[1];v&&y?(f=v,m=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}h.setAttribute("style",h.getAttribute("style")+"width:"+f+"px; height:"+m+"px")}e.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?c.style.display="inline-block":a.hide(c),e.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?u.style.display="inline-block":a.hide(u),t.cancelButtonText&&(c.innerHTML=a.escapeHtml(t.cancelButtonText)),t.confirmButtonText&&(u.innerHTML=a.escapeHtml(t.confirmButtonText)),t.confirmButtonColor&&(u.style.backgroundColor=t.confirmButtonColor,u.style.borderLeftColor=t.confirmLoadingButtonColor,u.style.borderRightColor=t.confirmLoadingButtonColor,r.setFocusStyle(u,t.confirmButtonColor)),e.setAttribute("data-allow-outside-click",t.allowOutsideClick);var b=!!t.doneFunction;e.setAttribute("data-has-done-function",b),t.animation?"string"==typeof t.animation?e.setAttribute("data-animation",t.animation):e.setAttribute("data-animation","pop"):e.setAttribute("data-animation","none"),e.setAttribute("data-timer",t.timer)};i["default"]=l,e.exports=i["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});var o=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},r=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},a=function(){return t.attachEvent&&!t.addEventListener},s=function(e){t.console&&t.console.log("SweetAlert: "+e)},l=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,i,o="#";for(i=0;3>i;i++)n=parseInt(t.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),o+=("00"+n).substr(n.length);return o};i.extend=o,i.hexToRgb=r,i.isIE8=a,i.logStr=s,i.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(t,e,n,i){var o=t(e);t.fn.lazyload=function(r){function a(){var e=0;l.each(function(){var n=t(this);if(!c.skip_invisible||n.is(":visible"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else n.trigger("appear"),e=0})}var s,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(i!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),i!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),t.extend(c,r)),s=c.container===i||c.container===e?o:t(c.container),0===c.event.indexOf("scroll")&&s.bind(c.event,function(){return a()}),this.each(function(){var e=this,n=t(e);e.loaded=!1,n.attr("src")!==i&&n.attr("src")!==!1||n.is("img")&&n.attr("src",c.placeholder),n.one("appear",function(){if(!this.loaded){if(c.appear){var i=l.length;c.appear.call(e,i,c)}t("<img />").bind("load",function(){var i=n.attr("data-"+c.data_attribute);n.is("img")?n.attr("src",i):n.css("background-image","url('"+i+"')"),n[c.effect](c.effect_speed),e.loaded=!0;var o=t.grep(l,function(t){return!t.loaded});if(l=t(o),c.load){var r=l.length;c.load.call(e,r,c)}}).attr("src",n.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&n.bind(c.event,function(){e.loaded||n.trigger("appear")})}),o.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(n).ready(function(){a()}),this},t.belowthefold=function(n,r){var a;return a=r.container===i||r.container===e?(e.innerHeight?e.innerHeight:o.height())+o.scrollTop():t(r.container).offset().top+t(r.container).height(),a<=t(n).offset().top-r.threshold},t.rightoffold=function(n,r){var a;return a=r.container===i||r.container===e?o.width()+o.scrollLeft():t(r.container).offset().left+t(r.container).width(),a<=t(n).offset().left-r.threshold},t.abovethetop=function(n,r){var a;return a=r.container===i||r.container===e?o.scrollTop():t(r.container).offset().top,a>=t(n).offset().top+r.threshold+t(n).height()},t.leftofbegin=function(n,r){var a;return a=r.container===i||r.container===e?o.scrollLeft():t(r.container).offset().left,a>=t(n).offset().left+r.threshold+t(n).width()},t.inviewport=function(e,n){return!(t.rightoffold(e,n)||t.leftofbegin(e,n)||t.belowthefold(e,n)||t.abovethetop(e,n))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),function(t){t.fn.activeNavigation=function(e){var n,i,o=window.location.pathname,r=[];t(e).find("a").each(function(){n=t(this).attr("href").lastIndexOf("."),i=n>=0?t(this).attr("href").substr(0,n):t(this).attr("href"),o.indexOf(i)>-1&&r.push(t(this))}),r.length&&(r.sort(function(t,e){return e.attr("href").length-t.attr("href").length}),r[0].closest("li").addClass("active"))}}(jQuery),!function(t,e){var n,i={},o=function(t,e){var n,i,o;if("string"==typeof t)return s(t);for(n=[],i=t.length,o=0;i>o;o++)n.push(s(t[o]));return e.apply(null,n)},r=function(t,e,n){2===arguments.length&&(n=e,e=null),o(e||[],function(){a(t,n,arguments)})},a=function(t,e,n){var r,a={exports:e};"function"==typeof e&&(n.length||(n=[o,a.exports,a]),r=e.apply(null,n),void 0!==r&&(a.exports=r)),i[t]=a.exports},s=function(e){var n=i[e]||t[e];if(!n)throw new Error("`"+e+"` is undefined");return n},l=function(t){var e,n,o,r,a,s;s=function(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)};for(e in i)if(n=t,i.hasOwnProperty(e)){for(o=e.split("/"),a=s(o.pop());r=s(o.shift());)n[r]=n[r]||{},n=n[r];n[a]=i[e]}return t},c=function(n){return t.__dollar=n,l(e(t,r,o))};"object"==typeof module&&"object"==typeof module.exports?module.exports=c():"function"==typeof define&&define.amd?define(["jquery"],c):(n=t.WebUploader,t.WebUploader=c(),t.WebUploader.noConflict=function(){t.WebUploader=n})}(window,function(t,e,n){return e("dollar-third",[],function(){var e=t.__dollar||t.jQuery||t.Zepto;if(!e)throw new Error("jQuery or Zepto not found!");return e}),e("dollar",["dollar-third"],function(t){return t}),e("promise-third",["dollar"],function(t){return{Deferred:t.Deferred,when:t.when,isPromise:function(t){return t&&"function"==typeof t.then}}}),e("promise",["promise-third"],function(t){return t}),e("base",["dollar","promise"],function(e,n){function i(t){return function(){return s.apply(t,arguments)}}function o(t,e){return function(){return t.apply(e,arguments)}}function r(t){var e;return Object.create?Object.create(t):(e=function(){},e.prototype=t,new e)}var a=function(){},s=Function.call;return{version:"0.1.5",
$:e,Deferred:n.Deferred,isPromise:n.isPromise,when:n.when,browser:function(t){var e={},n=t.match(/WebKit\/([\d.]+)/),i=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),o=t.match(/MSIE\s([\d\.]+)/)||t.match(/(?:trident)(?:.*rv:([\w.]+))?/i),r=t.match(/Firefox\/([\d.]+)/),a=t.match(/Safari\/([\d.]+)/),s=t.match(/OPR\/([\d.]+)/);return n&&(e.webkit=parseFloat(n[1])),i&&(e.chrome=parseFloat(i[1])),o&&(e.ie=parseFloat(o[1])),r&&(e.firefox=parseFloat(r[1])),a&&(e.safari=parseFloat(a[1])),s&&(e.opera=parseFloat(s[1])),e}(navigator.userAgent),os:function(t){var e={},n=t.match(/(?:Android);?[\s\/]+([\d.]+)?/),i=t.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(e.android=parseFloat(n[1])),i&&(e.ios=parseFloat(i[1].replace(/_/g,"."))),e}(navigator.userAgent),inherits:function(t,n,i){var o;return"function"==typeof n?(o=n,n=null):o=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return t.apply(this,arguments)},e.extend(!0,o,t,i||{}),o.__super__=t.prototype,o.prototype=r(t.prototype),n&&e.extend(!0,o.prototype,n),o},noop:a,bindFn:o,log:function(){return t.console?o(console.log,console):a}(),nextTick:function(){return function(t){setTimeout(t,1)}}(),slice:i([].slice),guid:function(){var t=0;return function(e){for(var n=(+new Date).toString(32),i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(e||"wu_")+n+(t++).toString(32)}}(),formatSize:function(t,e,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&t>1024;)t/=1024;return("B"===i?t:t.toFixed(e||2))+i}}}),e("mediator",["base"],function(t){function e(t,e,n,i){return r.grep(t,function(t){return!(!t||e&&t.e!==e||n&&t.cb!==n&&t.cb._cb!==n||i&&t.ctx!==i)})}function n(t,e,n){r.each((t||"").split(s),function(t,i){n(i,e)})}function i(t,e){for(var n,i=!1,o=-1,r=t.length;++o<r;)if(n=t[o],n.cb.apply(n.ctx2,e)===!1){i=!0;break}return!i}var o,r=t.$,a=[].slice,s=/\s+/;return o={on:function(t,e,i){var o,r=this;return e?(o=this._events||(this._events=[]),n(t,e,function(t,e){var n={e:t};n.cb=e,n.ctx=i,n.ctx2=i||r,n.id=o.length,o.push(n)}),this):this},once:function(t,e,i){var o=this;return e?(n(t,e,function(t,e){var n=function(){return o.off(t,n),e.apply(i||o,arguments)};n._cb=e,o.on(t,n,i)}),o):o},off:function(t,i,o){var a=this._events;return a?t||i||o?(n(t,i,function(t,n){r.each(e(a,t,n,o),function(){delete a[this.id]})}),this):(this._events=[],this):this},trigger:function(t){var n,o,r;return this._events&&t?(n=a.call(arguments,1),o=e(this._events,t),r=e(this._events,"all"),i(o,n)&&i(r,arguments)):this}},r.extend({installTo:function(t){return r.extend(t,o)}},o)}),e("uploader",["base","mediator"],function(t,e){function n(t){this.options=i.extend(!0,{},n.options,t),this._init(this.options)}var i=t.$;return n.options={},e.installTo(n.prototype),i.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(t,e){n.prototype[t]=function(){return this.request(e,arguments)}}),i.extend(n.prototype,{state:"pending",_init:function(t){var e=this;e.request("init",t,function(){e.state="ready",e.trigger("ready")})},option:function(t,e){var n=this.options;return arguments.length>1?void(i.isPlainObject(e)&&i.isPlainObject(n[t])?i.extend(n[t],e):n[t]=e):t?n[t]:n},getStats:function(){var t=this.request("get-stats");return t?{successNum:t.numOfSuccess,progressNum:t.numOfProgress,cancelNum:t.numOfCancel,invalidNum:t.numOfInvalid,uploadFailNum:t.numOfUploadFailed,queueNum:t.numOfQueue,interruptNum:t.numofInterrupt}:{}},trigger:function(t){var n=[].slice.call(arguments,1),o=this.options,r="on"+t.substring(0,1).toUpperCase()+t.substring(1);return!(e.trigger.apply(this,arguments)===!1||i.isFunction(o[r])&&o[r].apply(this,n)===!1||i.isFunction(this[r])&&this[r].apply(this,n)===!1||e.trigger.apply(e,[this,t].concat(n))===!1)},destroy:function(){this.request("destroy",arguments),this.off()},request:t.noop}),t.create=n.create=function(t){return new n(t)},t.Uploader=n,n}),e("runtime/runtime",["base","mediator"],function(t,e){function n(e){this.options=i.extend({container:document.body},e),this.uid=t.guid("rt_")}var i=t.$,o={},r=function(t){for(var e in t)if(t.hasOwnProperty(e))return e;return null};return i.extend(n.prototype,{getContainer:function(){var t,e,n=this.options;return this._container?this._container:(t=i(n.container||document.body),e=i(document.createElement("div")),e.attr("id","rt_"+this.uid),e.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),t.append(e),t.addClass("webuploader-container"),this._container=e,this._parent=t,e)},init:t.noop,exec:t.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),n.orders="html5,flash",n.addRuntime=function(t,e){o[t]=e},n.hasRuntime=function(t){return!!(t?o[t]:r(o))},n.create=function(t,e){var a,s;if(e=e||n.orders,i.each(e.split(/\s*,\s*/g),function(){return o[this]?(a=this,!1):void 0}),a=a||r(o),!a)throw new Error("Runtime Error");return s=new o[a](t)},e.installTo(n.prototype),n}),e("runtime/client",["base","mediator","runtime/runtime"],function(t,e,n){function i(e,i){var r,a=t.Deferred();this.uid=t.guid("client_"),this.runtimeReady=function(t){return a.done(t)},this.connectRuntime=function(e,s){if(r)throw new Error("already connected!");return a.done(s),"string"==typeof e&&o.get(e)&&(r=o.get(e)),r=r||o.get(null,i),r?(t.$.extend(r.options,e),r.__promise.then(a.resolve),r.__client++):(r=n.create(e,e.runtimeOrder),r.__promise=a.promise(),r.once("ready",a.resolve),r.init(),o.add(r),r.__client=1),i&&(r.__standalone=i),r},this.getRuntime=function(){return r},this.disconnectRuntime=function(){r&&(r.__client--,r.__client<=0&&(o.remove(r),delete r.__promise,r.destroy()),r=null)},this.exec=function(){if(r){var n=t.slice(arguments);return e&&n.unshift(e),r.exec.apply(this,n)}},this.getRuid=function(){return r&&r.uid},this.destroy=function(t){return function(){t&&t.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var o;return o=function(){var t={};return{add:function(e){t[e.uid]=e},get:function(e,n){var i;if(e)return t[e];for(i in t)if(!n||!t[i].__standalone)return t[i];return null},remove:function(e){delete t[e.uid]}}}(),e.installTo(i.prototype),i}),e("lib/dnd",["base","mediator","runtime/client"],function(t,e,n){function i(t){t=this.options=o.extend({},i.options,t),t.container=o(t.container),t.container.length&&n.call(this,"DragAndDrop")}var o=t.$;return i.options={accept:null,disableGlobalDnd:!1},t.inherits(n,{constructor:i,init:function(){var t=this;t.connectRuntime(t.options,function(){t.exec("init"),t.trigger("ready")})}}),e.installTo(i.prototype),i}),e("widgets/widget",["base","uploader"],function(t,e){function n(t){if(!t)return!1;var e=t.length,n=o.type(t);return!(1!==t.nodeType||!e)||("array"===n||"function"!==n&&"string"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t))}function i(t){this.owner=t,this.options=t.options}var o=t.$,r=e.prototype._init,a=e.prototype.destroy,s={},l=[];return o.extend(i.prototype,{init:t.noop,invoke:function(t,e){var n=this.responseMap;return n&&t in n&&n[t]in this&&o.isFunction(this[n[t]])?this[n[t]].apply(this,e):s},request:function(){return this.owner.request.apply(this.owner,arguments)}}),o.extend(e.prototype,{_init:function(){var t=this,e=t._widgets=[],n=t.options.disableWidgets||"";return o.each(l,function(i,o){(!n||!~n.indexOf(o._name))&&e.push(new o(t))}),r.apply(t,arguments)},request:function(e,i,o){var r,a,l,c,u=0,d=this._widgets,p=d&&d.length,h=[],f=[];for(i=n(i)?i:[i];p>u;u++)r=d[u],a=r.invoke(e,i),a!==s&&(t.isPromise(a)?f.push(a):h.push(a));return o||f.length?(l=t.when.apply(t,f),c=l.pipe?"pipe":"then",l[c](function(){var e=t.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){e.resolve(n)},1),e.promise()})[o?c:"done"](o||t.noop)):h[0]},destroy:function(){a.apply(this,arguments),this._widgets=null}}),e.register=i.register=function(e,n){var r,a={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(n=e,o.each(n,function(t){return"_"===t[0]||"name"===t?void("name"===t&&(a.name=n.name)):void(a[t.replace(/[A-Z]/g,"-$&").toLowerCase()]=t)})):a=o.extend(a,e),n.responseMap=a,r=t.inherits(i,n),r._name=a.name,l.push(r),r},e.unRegister=i.unRegister=function(t){if(t&&"anonymous"!==t)for(var e=l.length;e--;)l[e]._name===t&&l.splice(e,1)},i}),e("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(t,e,n){var i=t.$;return e.options.dnd="",e.register({name:"dnd",init:function(e){if(e.dnd&&"html5"===this.request("predict-runtime-type")){var o,r=this,a=t.Deferred(),s=i.extend({},{disableGlobalDnd:e.disableGlobalDnd,container:e.dnd,accept:e.accept});return this.dnd=o=new n(s),o.once("ready",a.resolve),o.on("drop",function(t){r.request("add-file",[t])}),o.on("accept",function(t){return r.owner.trigger("dndAccept",t)}),o.init(),a.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),e("lib/filepaste",["base","mediator","runtime/client"],function(t,e,n){function i(t){t=this.options=o.extend({},t),t.container=o(t.container||document.body),n.call(this,"FilePaste")}var o=t.$;return t.inherits(n,{constructor:i,init:function(){var t=this;t.connectRuntime(t.options,function(){t.exec("init"),t.trigger("ready")})}}),e.installTo(i.prototype),i}),e("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(t,e,n){var i=t.$;return e.register({name:"paste",init:function(e){if(e.paste&&"html5"===this.request("predict-runtime-type")){var o,r=this,a=t.Deferred(),s=i.extend({},{container:e.paste,accept:e.accept});return this.paste=o=new n(s),o.once("ready",a.resolve),o.on("paste",function(t){r.owner.request("add-file",[t])}),o.init(),a.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),e("lib/blob",["base","runtime/client"],function(t,e){function n(t,n){var i=this;i.source=n,i.ruid=t,this.size=n.size||0,this.type=!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?"image/"+("jpg"===this.ext?"jpeg":this.ext):n.type||"application/octet-stream",e.call(i,"Blob"),this.uid=n.uid||this.uid,t&&i.connectRuntime(t)}return t.inherits(e,{constructor:n,slice:function(t,e){return this.exec("slice",t,e)},getSource:function(){return this.source}}),n}),e("lib/file",["base","lib/blob"],function(t,e){function n(t,n){var r;this.name=n.name||"untitled"+i++,r=o.exec(n.name)?RegExp.$1.toLowerCase():"",!r&&n.type&&(r=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(n.type)?RegExp.$1.toLowerCase():"",this.name+="."+r),this.ext=r,this.lastModifiedDate=n.lastModifiedDate||(new Date).toLocaleString(),e.apply(this,arguments)}var i=1,o=/\.([^.]+)$/;return t.inherits(e,n)}),e("lib/filepicker",["base","runtime/client","lib/file"],function(e,n,i){function o(t){if(t=this.options=r.extend({},o.options,t),t.container=r(t.id),!t.container.length)throw new Error("");t.innerHTML=t.innerHTML||t.label||t.container.html()||"",t.button=r(t.button||document.createElement("div")),t.button.html(t.innerHTML),t.container.html(t.button),n.call(this,"FilePicker",!0)}var r=e.$;return o.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},e.inherits(n,{constructor:o,init:function(){var n=this,o=n.options,a=o.button;a.addClass("webuploader-pick"),n.on("all",function(t){var e;switch(t){case"mouseenter":a.addClass("webuploader-pick-hover");break;case"mouseleave":a.removeClass("webuploader-pick-hover");break;case"change":e=n.exec("getFiles"),n.trigger("select",r.map(e,function(t){return t=new i(n.getRuid(),t),t._refer=o.container,t}),o.container)}}),n.connectRuntime(o,function(){n.refresh(),n.exec("init",o),n.trigger("ready")}),this._resizeHandler=e.bindFn(this.refresh,this),r(t).on("resize",this._resizeHandler)},refresh:function(){var t=this.getRuntime().getContainer(),e=this.options.button,n=e.outerWidth?e.outerWidth():e.width(),i=e.outerHeight?e.outerHeight():e.height(),o=e.offset();n&&i&&t.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(o)},enable:function(){var t=this.options.button;t.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var t=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),t.addClass("webuploader-pick-disable")},destroy:function(){var e=this.options.button;r(t).off("resize",this._resizeHandler),e.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),o}),e("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(t,e,n){var i=t.$;return i.extend(e.options,{pick:null,accept:null}),e.register({name:"picker",init:function(t){return this.pickers=[],t.pick&&this.addBtn(t.pick)},refresh:function(){i.each(this.pickers,function(){this.refresh()})},addBtn:function(e){var o=this,r=o.options,a=r.accept,s=[];if(e)return i.isPlainObject(e)||(e={id:e}),i(e.id).each(function(){var l,c,u;u=t.Deferred(),l=i.extend({},e,{accept:i.isPlainObject(a)?[a]:a,swf:r.swf,runtimeOrder:r.runtimeOrder,id:this}),c=new n(l),c.once("ready",u.resolve),c.on("select",function(t){o.owner.request("add-file",[t])}),c.init(),o.pickers.push(c),s.push(u.promise())}),t.when.apply(t,s)},disable:function(){i.each(this.pickers,function(){this.disable()})},enable:function(){i.each(this.pickers,function(){this.enable()})},destroy:function(){i.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),e("lib/image",["base","runtime/client","lib/blob"],function(t,e,n){function i(t){this.options=o.extend({},i.options,t),e.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var o=t.$;return i.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},t.inherits(e,{constructor:i,info:function(t){return t?(this._info=t,this):this._info},meta:function(t){return t?(this._meta=t,this):this._meta},loadFromBlob:function(t){var e=this,n=t.getRuid();this.connectRuntime(n,function(){e.exec("init",e.options),e.exec("loadFromBlob",t)})},resize:function(){var e=t.slice(arguments);return this.exec.apply(this,["resize"].concat(e))},crop:function(){var e=t.slice(arguments);return this.exec.apply(this,["crop"].concat(e))},getAsDataUrl:function(t){return this.exec("getAsDataUrl",t)},getAsBlob:function(t){var e=this.exec("getAsBlob",t);return new n(this.getRuid(),e)}}),i}),e("widgets/image",["base","uploader","lib/image","widgets/widget"],function(t,e,n){var i,o=t.$;return i=function(t){var e=0,n=[],i=function(){for(var i;n.length&&t>e;)i=n.shift(),e+=i[0],i[1]()};return function(t,o,r){n.push([o,r]),t.once("destroy",function(){e-=o,setTimeout(i,1)}),setTimeout(i,1)}}(5242880),o.extend(e.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),e.register({name:"image",makeThumb:function(t,e,r,a){var s,l;return t=this.request("get-file",t),t.type.match(/^image/)?(s=o.extend({},this.options.thumb),o.isPlainObject(r)&&(s=o.extend(s,r),r=null),r=r||s.width,a=a||s.height,l=new n(s),l.once("load",function(){t._info=t._info||l.info(),t._meta=t._meta||l.meta(),1>=r&&r>0&&(r=t._info.width*r),1>=a&&a>0&&(a=t._info.height*a),l.resize(r,a)}),l.once("complete",function(){e(!1,l.getAsDataUrl(s.type)),l.destroy()}),l.once("error",function(t){e(t||!0),l.destroy()}),void i(l,t.source.size,function(){t._info&&l.info(t._info),t._meta&&l.meta(t._meta),l.loadFromBlob(t.source)})):void e(!0)},beforeSendFile:function(e){var i,r,a=this.options.compress||this.options.resize,s=a&&a.compressSize||0,l=a&&a.noCompressIfLarger||!1;return e=this.request("get-file",e),!a||!~"image/jpeg,image/jpg".indexOf(e.type)||e.size<s||e._compressed?void 0:(a=o.extend({},a),r=t.Deferred(),i=new n(a),r.always(function(){i.destroy(),i=null}),i.once("error",r.reject),i.once("load",function(){var t=a.width,n=a.height;e._info=e._info||i.info(),e._meta=e._meta||i.meta(),1>=t&&t>0&&(t=e._info.width*t),1>=n&&n>0&&(n=e._info.height*n),i.resize(t,n)}),i.once("complete",function(){var t,n;try{t=i.getAsBlob(a.type),n=e.size,(!l||t.size<n)&&(e.source=t,e.size=t.size,e.trigger("resize",t.size,n)),e._compressed=!0,r.resolve()}catch(o){r.resolve()}}),e._info&&i.info(e._info),e._meta&&i.meta(e._meta),i.loadFromBlob(e.source),r.promise())}})}),e("file",["base","mediator"],function(t,e){function n(){return r+a++}function i(t){this.name=t.name||"Untitled",this.size=t.size||0,this.type=t.type||"application/octet-stream",this.lastModifiedDate=t.lastModifiedDate||1*new Date,this.id=n(),this.ext=s.exec(this.name)?RegExp.$1:"",this.statusText="",l[this.id]=i.Status.INITED,this.source=t,this.loaded=0,this.on("error",function(t){this.setStatus(i.Status.ERROR,t)})}var o=t.$,r="WU_FILE_",a=0,s=/\.([^.]+)$/,l={};return o.extend(i.prototype,{setStatus:function(t,e){var n=l[this.id];"undefined"!=typeof e&&(this.statusText=e),t!==n&&(l[this.id]=t,this.trigger("statuschange",t,n))},getStatus:function(){return l[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete l[this.id]}}),e.installTo(i.prototype),i.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},i}),e("queue",["base","mediator","file"],function(t,e,n){function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var o=t.$,r=n.Status;return o.extend(i.prototype,{append:function(t){return this._queue.push(t),this._fileAdded(t),this},prepend:function(t){return this._queue.unshift(t),this._fileAdded(t),this},getFile:function(t){return"string"!=typeof t?t:this._map[t]},fetch:function(t){var e,n,i=this._queue.length;for(t=t||r.QUEUED,e=0;i>e;e++)if(n=this._queue[e],t===n.getStatus())return n;return null},sort:function(t){"function"==typeof t&&this._queue.sort(t)},getFiles:function(){for(var t,e=[].slice.call(arguments,0),n=[],i=0,r=this._queue.length;r>i;i++)t=this._queue[i],(!e.length||~o.inArray(t.getStatus(),e))&&n.push(t);return n},removeFile:function(t){var e=this._map[t.id];e&&(delete this._map[t.id],t.destroy(),this.stats.numofDeleted++)},_fileAdded:function(t){var e=this,n=this._map[t.id];n||(this._map[t.id]=t,t.on("statuschange",function(t,n){e._onFileStatusChange(t,n)}))},_onFileStatusChange:function(t,e){var n=this.stats;switch(e){case r.PROGRESS:n.numOfProgress--;break;case r.QUEUED:n.numOfQueue--;break;case r.ERROR:n.numOfUploadFailed--;break;case r.INVALID:n.numOfInvalid--;break;case r.INTERRUPT:n.numofInterrupt--}switch(t){case r.QUEUED:n.numOfQueue++;break;case r.PROGRESS:n.numOfProgress++;break;case r.ERROR:n.numOfUploadFailed++;break;case r.COMPLETE:n.numOfSuccess++;break;case r.CANCELLED:n.numOfCancel++;break;case r.INVALID:n.numOfInvalid++;break;case r.INTERRUPT:n.numofInterrupt++}}}),e.installTo(i.prototype),i}),e("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(t,e,n,i,o,r){var a=t.$,s=/\.\w+$/,l=i.Status;return e.register({name:"queue",init:function(e){var i,o,s,l,c,u,d,p=this;if(a.isPlainObject(e.accept)&&(e.accept=[e.accept]),e.accept){for(c=[],s=0,o=e.accept.length;o>s;s++)l=e.accept[s].extensions,l&&c.push(l);c.length&&(u="\\."+c.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),p.accept=new RegExp(u,"i")}return p.queue=new n,p.stats=p.queue.stats,"html5"===this.request("predict-runtime-type")?(i=t.Deferred(),this.placeholder=d=new r("Placeholder"),d.connectRuntime({runtimeOrder:"html5"},function(){p._ruid=d.getRuid(),i.resolve()}),i.promise()):void 0},_wrapFile:function(t){if(!(t instanceof i)){if(!(t instanceof o)){if(!this._ruid)throw new Error("Can't add external files.");t=new o(this._ruid,t)}t=new i(t)}return t},acceptFile:function(t){var e=!t||!t.size||this.accept&&s.exec(t.name)&&!this.accept.test(t.name);return!e},_addFile:function(t){var e=this;return t=e._wrapFile(t),e.owner.trigger("beforeFileQueued",t)?e.acceptFile(t)?(e.queue.append(t),e.owner.trigger("fileQueued",t),t):void e.owner.trigger("error","Q_TYPE_DENIED",t):void 0},getFile:function(t){return this.queue.getFile(t)},addFile:function(t){var e=this;t.length||(t=[t]),t=a.map(t,function(t){return e._addFile(t)}),e.owner.trigger("filesQueued",t),e.options.auto&&setTimeout(function(){e.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(t,e){var n=this;t=t.id?t:n.queue.getFile(t),this.request("cancel-file",t),e&&this.queue.removeFile(t)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(t,e){var n,i,o,r=this;if(t)return t=t.id?t:r.queue.getFile(t),t.setStatus(l.QUEUED),void(e||r.request("start-upload"));for(n=r.queue.getFiles(l.ERROR),i=0,o=n.length;o>i;i++)t=n[i],t.setStatus(l.QUEUED);r.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),e("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(t,e){return t.support=function(){return e.hasRuntime.apply(e,arguments)},t.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var t,n,i=this.options.runtimeOrder||e.orders,o=this.type;if(!o)for(i=i.split(/\s*,\s*/g),t=0,n=i.length;n>t;t++)if(e.hasRuntime(i[t])){this.type=o=i[t];break}return o}})}),e("lib/transport",["base","runtime/client","mediator"],function(t,e,n){function i(t){var n=this;t=n.options=o.extend(!0,{},i.options,t||{}),e.call(this,"Transport"),this._blob=null,this._formData=t.formData||{},this._headers=t.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),clearTimeout(n._timer)})}var o=t.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},o.extend(i.prototype,{appendBlob:function(t,e,n){var i=this,o=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(e.ruid,function(){i.exec("init")}),i._blob=e,o.fileVal=t||o.fileVal,o.filename=n||o.filename},append:function(t,e){"object"==typeof t?o.extend(this._formData,t):this._formData[t]=e},setRequestHeader:function(t,e){"object"==typeof t?o.extend(this._headers,t):this._headers[t]=e},send:function(t){this.exec("send",t),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var t=this,e=t.options.timeout;e&&(clearTimeout(t._timer),t._timer=setTimeout(function(){t.abort(),t.trigger("error","timeout")},e))}}),n.installTo(i.prototype),i}),e("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(t,e,n,i){function o(t,e){var n,i,o=[],r=t.source,a=r.size,s=e?Math.ceil(a/e):1,l=0,c=0;for(i={file:t,has:function(){return!!o.length},shift:function(){return o.shift()},unshift:function(t){o.unshift(t)}};s>c;)n=Math.min(e,a-l),o.push({file:t,start:l,end:e?l+n:a,total:a,chunks:s,chunk:c++,cuted:i}),l+=n;return t.blocks=o.concat(),t.remaning=o.length,i}var r=t.$,a=t.isPromise,s=n.Status;r.extend(e.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),e.register({name:"upload",init:function(){var e=this.owner,n=this;this.runing=!1,this.progress=!1,e.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=t.bindFn(this._tick,this),e.on("uploadComplete",function(t){t.blocks&&r.each(t.blocks,function(t,e){e.transport&&(e.transport.abort(),e.transport.destroy()),delete e.transport}),delete t.blocks,delete t.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(e){var n=this;if(r.each(n.request("get-files",s.INVALID),function(){n.request("remove-file",this)}),e)if(e=e.id?e:n.request("get-file",e),e.getStatus()===s.INTERRUPT)r.each(n.pool,function(t,n){n.file===e&&n.transport&&n.transport.send()}),e.setStatus(s.QUEUED);else{if(e.getStatus()===s.PROGRESS)return;e.setStatus(s.QUEUED)}else r.each(n.request("get-files",[s.INITED]),function(){this.setStatus(s.QUEUED)});if(!n.runing){n.runing=!0;var i=[];r.each(n.pool,function(t,e){var o=e.file;o.getStatus()===s.INTERRUPT&&(i.push(o),n._trigged=!1,e.transport&&e.transport.send())});for(var e;e=i.shift();)e.setStatus(s.PROGRESS);e||r.each(n.request("get-files",s.INTERRUPT),function(){this.setStatus(s.PROGRESS)}),n._trigged=!1,t.nextTick(n.__tick),n.owner.trigger("startUpload")}},stopUpload:function(e,n){var i=this;if(e===!0&&(n=e,e=null),i.runing!==!1){if(e){if(e=e.id?e:i.request("get-file",e),e.getStatus()!==s.PROGRESS&&e.getStatus()!==s.QUEUED)return;return e.setStatus(s.INTERRUPT),r.each(i.pool,function(t,n){n.file===e&&(n.transport&&n.transport.abort(),i._putback(n),i._popBlock(n))}),t.nextTick(i.__tick)}i.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(s.INTERRUPT),n&&r.each(i.pool,function(t,e){e.transport&&e.transport.abort(),e.file.setStatus(s.INTERRUPT)}),i.owner.trigger("stopUpload")}},cancelFile:function(t){t=t.id?t:this.request("get-file",t),t.blocks&&r.each(t.blocks,function(t,e){var n=e.transport;n&&(n.abort(),n.destroy(),delete e.transport)}),t.setStatus(s.CANCELLED),this.owner.trigger("fileDequeued",t)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(t,e){t=t.id?t:this.request("get-file",t),t.setStatus(e||s.COMPLETE),t.skipped=!0,t.blocks&&r.each(t.blocks,function(t,e){var n=e.transport;n&&(n.abort(),n.destroy(),delete e.transport)}),this.owner.trigger("uploadSkip",t)},_tick:function(){var e,n,i=this,o=i.options;return i._promise?i._promise.always(i.__tick):void(i.pool.length<o.threads&&(n=i._nextBlock())?(i._trigged=!1,e=function(e){i._promise=null,e&&e.file&&i._startSend(e),t.nextTick(i.__tick)},i._promise=a(n)?n.always(e):e(n)):i.remaning||i._getStats().numOfQueue||i._getStats().numofInterrupt||(i.runing=!1,i._trigged||t.nextTick(function(){i.owner.trigger("uploadFinished")}),i._trigged=!0))},_putback:function(t){var e;t.cuted.unshift(t),e=this.stack.indexOf(t.cuted),~e||this.stack.unshift(t.cuted)},_getStack:function(){for(var t,e=0;t=this.stack[e++];){if(t.has()&&t.file.getStatus()===s.PROGRESS)return t;(!t.has()||t.file.getStatus()!==s.PROGRESS&&t.file.getStatus()!==s.INTERRUPT)&&this.stack.splice(--e,1)}return null},_nextBlock:function(){var t,e,n,i,r=this,s=r.options;return(t=this._getStack())?(s.prepareNextFile&&!r.pending.length&&r._prepareNextFile(),t.shift()):r.runing?(!r.pending.length&&r._getStats().numOfQueue&&r._prepareNextFile(),e=r.pending.shift(),n=function(e){return e?(t=o(e,s.chunked?s.chunkSize:0),r.stack.push(t),t.shift()):null},a(e)?(i=e.file,e=e[e.pipe?"pipe":"then"](n),e.file=i,e):n(e)):void 0},_prepareNextFile:function(){var t,e=this,n=e.request("fetch-file"),i=e.pending;n&&(t=e.request("before-send-file",n,function(){return n.getStatus()===s.PROGRESS||n.getStatus()===s.INTERRUPT?n:e._finishFile(n)}),e.owner.trigger("uploadStart",n),n.setStatus(s.PROGRESS),t.file=n,t.done(function(){var e=r.inArray(t,i);~e&&i.splice(e,1,n)}),t.fail(function(t){n.setStatus(s.ERROR,t),e.owner.trigger("uploadError",n,t),e.owner.trigger("uploadComplete",n)}),i.push(t))},_popBlock:function(t){var e=r.inArray(t,this.pool);this.pool.splice(e,1),t.file.remaning--,this.remaning--},_startSend:function(e){var n,i=this,o=e.file;return o.getStatus()!==s.PROGRESS?void(o.getStatus()===s.INTERRUPT&&i._putback(e)):(i.pool.push(e),i.remaning++,e.blob=1===e.chunks?o.source:o.source.slice(e.start,e.end),n=i.request("before-send",e,function(){o.getStatus()===s.PROGRESS?i._doSend(e):(i._popBlock(e),t.nextTick(i.__tick))}),void n.fail(function(){1===o.remaning?i._finishFile(o).always(function(){e.percentage=1,i._popBlock(e),i.owner.trigger("uploadComplete",o),t.nextTick(i.__tick)}):(e.percentage=1,i.updateFileProgress(o),i._popBlock(e),t.nextTick(i.__tick))}))},_doSend:function(e){var n,o,a=this,l=a.owner,c=a.options,u=e.file,d=new i(c),p=r.extend({},c.formData),h=r.extend({},c.headers);e.transport=d,d.on("destroy",function(){delete e.transport,a._popBlock(e),t.nextTick(a.__tick)}),d.on("progress",function(t){e.percentage=t,a.updateFileProgress(u)}),n=function(t){var n;return o=d.getResponseAsJson()||{},o._raw=d.getResponse(),n=function(e){t=e},l.trigger("uploadAccept",e,o,n)||(t=t||"server"),t},d.on("error",function(t,i){e.retried=e.retried||0,e.chunks>1&&~"http,abort".indexOf(t)&&e.retried<c.chunkRetry?(e.retried++,d.send()):(i||"server"!==t||(t=n(t)),u.setStatus(s.ERROR,t),l.trigger("uploadError",u,t),l.trigger("uploadComplete",u))}),d.on("load",function(){var t;return(t=n())?void d.trigger("error",t,!0):void(1===u.remaning?a._finishFile(u,o):d.destroy())}),p=r.extend(p,{id:u.id,name:u.name,type:u.type,lastModifiedDate:u.lastModifiedDate,size:u.size}),e.chunks>1&&r.extend(p,{chunks:e.chunks,chunk:e.chunk}),l.trigger("uploadBeforeSend",e,p,h),d.appendBlob(c.fileVal,e.blob,u.name),d.append(p),d.setRequestHeader(h),d.send()},_finishFile:function(t,e,n){var i=this.owner;return i.request("after-send-file",arguments,function(){t.setStatus(s.COMPLETE),i.trigger("uploadSuccess",t,e,n)}).fail(function(e){t.getStatus()===s.PROGRESS&&t.setStatus(s.ERROR,e),i.trigger("uploadError",t,e)}).always(function(){i.trigger("uploadComplete",t)})},updateFileProgress:function(t){var e=0,n=0;t.blocks&&(r.each(t.blocks,function(t,e){n+=(e.percentage||0)*(e.end-e.start)}),e=n/t.size,this.owner.trigger("uploadProgress",t,e||0))}})}),e("widgets/validator",["base","uploader","file","widgets/widget"],function(t,e,n){var i,o=t.$,r={};return i={addValidator:function(t,e){r[t]=e},removeValidator:function(t){delete r[t]}},e.register({name:"validator",init:function(){var e=this;t.nextTick(function(){o.each(r,function(){this.call(e.owner)})})}}),i.addValidator("fileNumLimit",function(){var t=this,e=t.options,n=0,i=parseInt(e.fileNumLimit,10),o=!0;i&&(t.on("beforeFileQueued",function(t){return n>=i&&o&&(o=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",i,t),setTimeout(function(){o=!0},1)),!(n>=i)}),t.on("fileQueued",function(){n++}),t.on("fileDequeued",function(){n--}),t.on("reset",function(){n=0}))}),i.addValidator("fileSizeLimit",function(){var t=this,e=t.options,n=0,i=parseInt(e.fileSizeLimit,10),o=!0;i&&(t.on("beforeFileQueued",function(t){var e=n+t.size>i;return e&&o&&(o=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",i,t),setTimeout(function(){o=!0},1)),!e}),t.on("fileQueued",function(t){n+=t.size}),t.on("fileDequeued",function(t){n-=t.size}),t.on("reset",function(){n=0}))}),i.addValidator("fileSingleSizeLimit",function(){var t=this,e=t.options,i=e.fileSingleSizeLimit;i&&t.on("beforeFileQueued",function(t){return t.size>i?(t.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",i,t),!1):void 0})}),i.addValidator("duplicate",function(){function t(t){for(var e,n=0,i=0,o=t.length;o>i;i++)e=t.charCodeAt(i),n=e+(n<<6)+(n<<16)-n;return n}var e=this,n=e.options,i={};n.duplicate||(e.on("beforeFileQueued",function(e){var n=e.__hash||(e.__hash=t(e.name+e.size+e.lastModifiedDate));return i[n]?(this.trigger("error","F_DUPLICATE",e),!1):void 0}),e.on("fileQueued",function(t){var e=t.__hash;e&&(i[e]=!0)}),e.on("fileDequeued",function(t){var e=t.__hash;e&&delete i[e]}),e.on("reset",function(){i={}}))}),i}),e("lib/md5",["runtime/client","mediator"],function(t,e){function n(){t.call(this,"Md5")}return e.installTo(n.prototype),n.prototype.loadFromBlob=function(t){var e=this;e.getRuid()&&e.disconnectRuntime(),e.connectRuntime(t.ruid,function(){e.exec("init"),e.exec("loadFromBlob",t)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),e("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(t,e,n,i){return e.register({name:"md5",md5File:function(e,o,r){var a=new n,s=t.Deferred(),l=e instanceof i?e:this.request("get-file",e).source;return a.on("progress load",function(t){t=t||{},s.notify(t.total?t.loaded/t.total:1)}),a.on("complete",function(){s.resolve(a.getResult())}),a.on("error",function(t){s.reject(t)}),arguments.length>1&&(o=o||0,r=r||0,0>o&&(o=l.size+o),0>r&&(r=l.size+r),r=Math.min(r,l.size),l=l.slice(o,r)),a.loadFromBlob(l),s.promise()}})}),e("runtime/compbase",[],function(){function t(t,e){this.owner=t,this.options=t.options,this.getRuntime=function(){return e},this.getRuid=function(){return e.uid},this.trigger=function(){return t.trigger.apply(t,arguments)}}return t}),e("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(e,n,i){function o(){var t={},i=this,o=this.destroy;n.apply(i,arguments),i.type=r,i.exec=function(n,o){var r,s=this,l=s.uid,c=e.slice(arguments,2);return a[n]&&(r=t[l]=t[l]||new a[n](s,i),r[o])?r[o].apply(r,c):void 0},i.destroy=function(){return o&&o.apply(this,arguments)}}var r="html5",a={};return e.inherits(n,{constructor:o,init:function(){var t=this;setTimeout(function(){t.trigger("ready")},1)}}),o.register=function(t,n){var o=a[t]=e.inherits(i,n);return o},t.Blob&&t.FileReader&&t.DataView&&n.addRuntime(r,o),o}),e("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(t,e){return t.register("Blob",{slice:function(t,n){var i=this.owner.source,o=i.slice||i.webkitSlice||i.mozSlice;return i=o.call(i,t,n),new e(this.getRuid(),i)}})}),e("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(t,e,n){var i=t.$,o="webuploader-dnd-";return e.register("DragAndDrop",{init:function(){var e=this.elem=this.options.container;this.dragEnterHandler=t.bindFn(this._dragEnterHandler,this),this.dragOverHandler=t.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=t.bindFn(this._dragLeaveHandler,this),this.dropHandler=t.bindFn(this._dropHandler,this),this.dndOver=!1,e.on("dragenter",this.dragEnterHandler),e.on("dragover",this.dragOverHandler),e.on("dragleave",this.dragLeaveHandler),e.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).on("dragover",this.dragOverHandler),i(document).on("drop",this.dropHandler))},_dragEnterHandler:function(t){var e,n=this,i=n._denied||!1;return t=t.originalEvent||t,n.dndOver||(n.dndOver=!0,e=t.dataTransfer.items,e&&e.length&&(n._denied=i=!n.trigger("accept",e)),n.elem.addClass(o+"over"),n.elem[i?"addClass":"removeClass"](o+"denied")),t.dataTransfer.dropEffect=i?"none":"copy",!1},_dragOverHandler:function(t){var e=this.elem.parent().get(0);return!(e&&!i.contains(e,t.currentTarget))&&(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,t),!1)},_dragLeaveHandler:function(){var t,e=this;return t=function(){e.dndOver=!1,e.elem.removeClass(o+"over "+o+"denied")},clearTimeout(e._leaveTimer),e._leaveTimer=setTimeout(t,100),!1},_dropHandler:function(t){var e,r,a=this,s=a.getRuid(),l=a.elem.parent().get(0);if(l&&!i.contains(l,t.currentTarget))return!1;t=t.originalEvent||t,e=t.dataTransfer;try{r=e.getData("text/html")}catch(c){}return r?void 0:(a._getTansferFiles(e,function(t){a.trigger("drop",i.map(t,function(t){return new n(s,t)}))}),a.dndOver=!1,a.elem.removeClass(o+"over"),!1)},_getTansferFiles:function(e,n){var i,o,r,a,s,l,c,u=[],d=[];for(i=e.items,o=e.files,c=!(!i||!i[0].webkitGetAsEntry),s=0,l=o.length;l>s;s++)r=o[s],a=i&&i[s],c&&a.webkitGetAsEntry().isDirectory?d.push(this._traverseDirectoryTree(a.webkitGetAsEntry(),u)):u.push(r);t.when.apply(t,d).done(function(){u.length&&n(u)})},_traverseDirectoryTree:function(e,n){var i=t.Deferred(),o=this;return e.isFile?e.file(function(t){n.push(t),i.resolve()}):e.isDirectory&&e.createReader().readEntries(function(e){var r,a=e.length,s=[],l=[];for(r=0;a>r;r++)s.push(o._traverseDirectoryTree(e[r],l));t.when.apply(t,s).then(function(){n.push.apply(n,l),i.resolve()},i.reject)}),i.promise()},destroy:function(){var t=this.elem;t&&(t.off("dragenter",this.dragEnterHandler),t.off("dragover",this.dragOverHandler),t.off("dragleave",this.dragLeaveHandler),t.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).off("dragover",this.dragOverHandler),i(document).off("drop",this.dropHandler)))}})}),e("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(t,e,n){return e.register("FilePaste",{init:function(){var e,n,i,o,r=this.options,a=this.elem=r.container,s=".*";if(r.accept){for(e=[],n=0,i=r.accept.length;i>n;n++)o=r.accept[n].mimeTypes,o&&e.push(o);e.length&&(s=e.join(","),s=s.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=s=new RegExp(s,"i"),this.hander=t.bindFn(this._pasteHander,this),a.on("paste",this.hander)},_pasteHander:function(t){var e,i,o,r,a,s=[],l=this.getRuid();for(t=t.originalEvent||t,e=t.clipboardData.items,r=0,a=e.length;a>r;r++)i=e[r],"file"===i.kind&&(o=i.getAsFile())&&s.push(new n(l,o));s.length&&(t.preventDefault(),t.stopPropagation(),this.trigger("paste",s))},destroy:function(){this.elem.off("paste",this.hander)}})}),e("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(t,e){var n=t.$;return e.register("FilePicker",{init:function(){var t,e,i,o,r=this.getRuntime().getContainer(),a=this,s=a.owner,l=a.options,c=this.label=n(document.createElement("label")),u=this.input=n(document.createElement("input"));if(u.attr("type","file"),u.attr("name",l.name),u.addClass("webuploader-element-invisible"),c.on("click",function(){u.trigger("click")}),c.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),l.multiple&&u.attr("multiple","multiple"),l.accept&&l.accept.length>0){for(t=[],e=0,i=l.accept.length;i>e;e++)t.push(l.accept[e].mimeTypes);u.attr("accept",t.join(","))}r.append(u),r.append(c),o=function(t){s.trigger(t.type)},u.on("change",function(t){var e,i=arguments.callee;a.files=t.target.files,e=this.cloneNode(!0),e.value=null,this.parentNode.replaceChild(e,this),u.off(),u=n(e).on("change",i).on("mouseenter mouseleave",o),s.trigger("change")}),c.on("mouseenter mouseleave",o)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),e("runtime/html5/util",["base"],function(e){var n=t.createObjectURL&&t||t.URL&&URL.revokeObjectURL&&URL||t.webkitURL,i=e.noop,o=i;return n&&(i=function(){return n.createObjectURL.apply(n,arguments)},o=function(){return n.revokeObjectURL.apply(n,arguments)}),{createObjectURL:i,revokeObjectURL:o,dataURL2Blob:function(t){var e,n,i,o,r,a;for(a=t.split(","),e=~a[0].indexOf("base64")?atob(a[1]):decodeURIComponent(a[1]),i=new ArrayBuffer(e.length),n=new Uint8Array(i),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return r=a[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(i,r)},dataURL2ArrayBuffer:function(t){var e,n,i,o;for(o=t.split(","),e=~o[0].indexOf("base64")?atob(o[1]):decodeURIComponent(o[1]),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(e,n){var i,o=t.BlobBuilder||t.WebKitBlobBuilder;return o?(i=new o,i.append(e),i.getBlob(n)):new Blob([e],n?{type:n}:{})},canvasToDataUrl:function(t,e,n){return t.toDataURL(e,n/100)},parseMeta:function(t,e){e(!1,{})},updateImageHead:function(t){return t}}}),e("runtime/html5/imagemeta",["runtime/html5/util"],function(t){var e;return e={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(t,e){var n=this,i=new FileReader;i.onload=function(){e(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(t){e(t.message),i=i.onload=i.onerror=null},t=t.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(t.getSource())},_parse:function(t,n){if(!(t.byteLength<6)){var i,o,r,a,s=new DataView(t),l=2,c=s.byteLength-4,u=l,d={};if(65496===s.getUint16(0)){for(;c>l&&(i=s.getUint16(l),i>=65504&&65519>=i||65534===i)&&(o=s.getUint16(l+2)+2,!(l+o>s.byteLength));){if(r=e.parsers[i],!n&&r)for(a=0;a<r.length;a+=1)r[a].call(e,s,l,o,d);l+=o,u=l}u>6&&(d.imageHead=t.slice?t.slice(2,u):new Uint8Array(t).subarray(2,u))}return d}},updateImageHead:function(t,e){var n,i,o,r=this._parse(t,!0);return o=2,r.imageHead&&(o=2+r.imageHead.byteLength),i=t.slice?t.slice(o):new Uint8Array(t).subarray(o),n=new Uint8Array(e.byteLength+2+i.byteLength),n[0]=255,n[1]=216,n.set(new Uint8Array(e),2),n.set(new Uint8Array(i),e.byteLength+2),n.buffer}},t.parseMeta=function(){return e.parse.apply(e,arguments)},t.updateImageHead=function(){return e.updateImageHead.apply(e,arguments)},e}),e("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(t,e){var n={};return n.ExifMap=function(){return this},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},n.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(e,i,o,r,a,s){var l,c,u,d,p,h,f=n.exifTagTypes[r];if(!f)return void t.log("Invalid Exif data: Invalid tag type.");if(l=f.size*a,c=l>4?i+e.getUint32(o+8,s):o+8,c+l>e.byteLength)return void t.log("Invalid Exif data: Invalid data offset.");if(1===a)return f.getValue(e,c,s);for(u=[],d=0;a>d;d+=1)u[d]=f.getValue(e,c+d*f.size,s);if(f.ascii){for(p="",d=0;d<u.length&&(h=u[d],"\0"!==h);d+=1)p+=h;return p}return u},n.parseExifTag=function(t,e,i,o,r){var a=t.getUint16(i,o);r.exif[a]=n.getExifValue(t,e,i,t.getUint16(i+2,o),t.getUint32(i+4,o),o)},n.parseExifTags=function(e,n,i,o,r){var a,s,l;if(i+6>e.byteLength)return void t.log("Invalid Exif data: Invalid directory offset.");if(a=e.getUint16(i,o),s=i+2+12*a,s+4>e.byteLength)return void t.log("Invalid Exif data: Invalid directory size.");for(l=0;a>l;l+=1)this.parseExifTag(e,n,i+2+12*l,o,r);return e.getUint32(s,o)},n.parseExifData=function(e,i,o,r){var a,s,l=i+10;if(1165519206===e.getUint32(i+4)){if(l+8>e.byteLength)return void t.log("Invalid Exif data: Invalid segment size.");if(0!==e.getUint16(i+8))return void t.log("Invalid Exif data: Missing byte alignment offset.");switch(e.getUint16(l)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void t.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==e.getUint16(l+2,a))return void t.log("Invalid Exif data: Missing TIFF marker.");s=e.getUint32(l+4,a),r.exif=new n.ExifMap,s=n.parseExifTags(e,l,l+s,a,r)}},e.parsers[65505].push(n.parseExifData),n}),e("runtime/html5/jpegencoder",[],function(){function t(t){function e(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;64>n;n++){var i=T((e[n]*t+50)/100);1>i?i=1:i>255&&(i=255),S[U[n]]=i}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;64>r;r++){var a=T((o[r]*t+50)/100);1>a?a=1:a>255&&(a=255),$[U[r]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,c=0;8>c;c++)for(var u=0;8>u;u++)_[l]=1/(S[U[l]]*s[c]*s[u]*8),A[l]=1/($[U[l]]*s[c]*s[u]*8),l++}function n(t,e){for(var n=0,i=0,o=new Array,r=1;16>=r;r++){for(var a=1;a<=t[r];a++)o[e[i]]=[],o[e[i]][0]=n,o[e[i]][1]=r,i++,n++;n*=2}return o}function i(){b=n(H,z),w=n(W,G),x=n(q,K),k=n(Z,V)}function o(){for(var t=1,e=2,n=1;15>=n;n++){for(var i=t;e>i;i++)E[32767+i]=n,I[32767+i]=[],I[32767+i][1]=n,I[32767+i][0]=i;for(var o=-(e-1);-t>=o;o++)E[32767+o]=n,I[32767+o]=[],I[32767+o][1]=n,I[32767+o][0]=e-1+o;t<<=1,e<<=1}}function r(){for(var t=0;256>t;t++)B[t]=19595*t,B[t+256>>0]=38470*t,B[t+512>>0]=7471*t+32768,B[t+768>>0]=-11059*t,B[t+1024>>0]=-21709*t,B[t+1280>>0]=32768*t+8421375,B[t+1536>>0]=-27439*t,B[t+1792>>0]=-5329*t}function a(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(N|=1<<P),n--,P--,0>P&&(255==N?(s(255),s(0)):s(N),P=7,N=0)}function s(t){R.push(j[t])}function l(t){s(t>>8&255),s(255&t)}function c(t,e){var n,i,o,r,a,s,l,c,u,d=0,p=8,h=64;for(u=0;p>u;++u){n=t[d],i=t[d+1],o=t[d+2],r=t[d+3],a=t[d+4],s=t[d+5],l=t[d+6],c=t[d+7];var f=n+c,m=n-c,g=i+l,v=i-l,y=o+s,b=o-s,w=r+a,x=r-a,k=f+w,C=f-w,T=g+y,S=g-y;t[d]=k+T,t[d+4]=k-T;var $=.707106781*(S+C);t[d+2]=C+$,t[d+6]=C-$,k=x+b,T=b+v,S=v+m;var _=.382683433*(k-S),A=.5411961*k+_,I=1.306562965*S+_,E=.707106781*T,O=m+E,R=m-E;t[d+5]=R+A,t[d+3]=R-A,t[d+1]=O+I,t[d+7]=O-I,d+=8}for(d=0,u=0;p>u;++u){n=t[d],i=t[d+8],o=t[d+16],r=t[d+24],a=t[d+32],s=t[d+40],l=t[d+48],c=t[d+56];var N=n+c,P=n-c,M=i+l,L=i-l,F=o+s,j=o-s,B=r+a,U=r-a,H=N+B,z=N-B,q=M+F,K=M-F;t[d]=H+q,t[d+32]=H-q;var W=.707106781*(K+z);t[d+16]=z+W,t[d+48]=z-W,H=U+j,q=j+L,K=L+P;var G=.382683433*(H-K),Z=.5411961*H+G,V=1.306562965*K+G,Q=.707106781*q,Y=P+Q,X=P-Q;t[d+40]=X+Z,t[d+24]=X-Z,t[d+8]=Y+V,t[d+56]=Y-V,d++}var J;for(u=0;h>u;++u)J=t[u]*e[u],D[u]=J>0?J+.5|0:J-.5|0;return D}function u(){l(65504),l(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),l(1),l(1),s(0),s(0)}function d(t,e){l(65472),l(17),s(8),l(e),l(t),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function p(){l(65499),l(132),s(0);for(var t=0;64>t;t++)s(S[t]);s(1);for(var e=0;64>e;e++)s($[e])}function h(){l(65476),l(418),s(0);for(var t=0;16>t;t++)s(H[t+1]);for(var e=0;11>=e;e++)s(z[e]);s(16);for(var n=0;16>n;n++)s(q[n+1]);for(var i=0;161>=i;i++)s(K[i]);s(1);for(var o=0;16>o;o++)s(W[o+1]);for(var r=0;11>=r;r++)s(G[r]);s(17);for(var a=0;16>a;a++)s(Z[a+1]);for(var c=0;161>=c;c++)s(V[c])}function f(){l(65498),l(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function m(t,e,n,i,o){for(var r,s=o[0],l=o[240],u=16,d=63,p=64,h=c(t,e),f=0;p>f;++f)O[U[f]]=h[f];var m=O[0]-n;n=O[0],0==m?a(i[0]):(r=32767+m,a(i[E[r]]),a(I[r]));for(var g=63;g>0&&0==O[g];g--);if(0==g)return a(s),n;for(var v,y=1;g>=y;){for(var b=y;0==O[y]&&g>=y;++y);var w=y-b;if(w>=u){v=w>>4;for(var x=1;v>=x;++x)a(l);w=15&w}r=32767+O[y],a(o[(w<<4)+E[r]]),a(I[r]),y++}return g!=d&&a(s),n}function g(){for(var t=String.fromCharCode,e=0;256>e;e++)j[e]=t(e)}function v(t){if(0>=t&&(t=1),t>100&&(t=100),C!=t){var n=0;n=Math.floor(50>t?5e3/t:200-2*t),e(n),C=t}}function y(){t||(t=50),g(),i(),o(),r(),v(t)}var b,w,x,k,C,T=(Math.round,Math.floor),S=new Array(64),$=new Array(64),_=new Array(64),A=new Array(64),I=new Array(65535),E=new Array(65535),D=new Array(64),O=new Array(64),R=[],N=0,P=7,M=new Array(64),L=new Array(64),F=new Array(64),j=new Array(256),B=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(t,e){e&&v(e),R=new Array,N=0,P=7,l(65496),u(),p(),d(t.width,t.height),h(),f();var n=0,i=0,o=0;N=0,P=7,this.encode.displayName="_encode_";for(var r,s,c,g,y,C,T,S,$,I=t.data,E=t.width,D=t.height,O=4*E,j=0;D>j;){for(r=0;O>r;){for(y=O*j+r,C=y,T=-1,S=0,$=0;64>$;$++)S=$>>3,T=4*(7&$),C=y+S*O+T,j+S>=D&&(C-=O*(j+1+S-D)),r+T>=O&&(C-=r+T-O+4),s=I[C++],c=I[C++],g=I[C++],M[$]=(B[s]+B[c+256>>0]+B[g+512>>0]>>16)-128,L[$]=(B[s+768>>0]+B[c+1024>>0]+B[g+1280>>0]>>16)-128,F[$]=(B[s+1280>>0]+B[c+1536>>0]+B[g+1792>>0]>>16)-128;n=m(M,_,n,b,x),i=m(L,A,i,w,k),o=m(F,A,o,w,k),r+=32}j+=8}if(P>=0){var U=[];U[1]=P+1,U[0]=(1<<P+1)-1,a(U)}l(65497);var H="data:image/jpeg;base64,"+btoa(R.join(""));return R=[],H},y()}return t.encode=function(e,n){var i=new t(n);return i.encode(e)},t}),e("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(t,e,n){var i,o=t.canvasToDataUrl;t.canvasToDataUrl=function(t,r,a){var s,l,c,u,d;return n.os.android?("image/jpeg"===r&&"undefined"==typeof i&&(u=o.apply(null,arguments),d=u.split(","),u=~d[0].indexOf("base64")?atob(d[1]):decodeURIComponent(d[1]),u=u.substring(0,2),i=255===u.charCodeAt(0)&&216===u.charCodeAt(1)),"image/jpeg"!==r||i?o.apply(null,arguments):(l=t.width,c=t.height,s=t.getContext("2d"),e.encode(s.getImageData(0,0,l,c),a))):o.apply(null,arguments)}}),e("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(t,e,n){var i="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return e.register("Image",{modified:!1,init:function(){var t=this,e=new Image;e.onload=function(){t._info={type:t.type,width:this.width,height:this.height},t._metas||"image/jpeg"!==t.type?t.owner.trigger("load"):n.parseMeta(t._blob,function(e,n){t._metas=n,t.owner.trigger("load")})},e.onerror=function(){t.owner.trigger("error")},t._img=e},loadFromBlob:function(t){var e=this,i=e._img;e._blob=t,e.type=t.type,i.src=n.createObjectURL(t.getSource()),e.owner.once("load",function(){n.revokeObjectURL(i.src)})},resize:function(t,e){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,t,e),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(t,e,n,i,o){var r=this._canvas||(this._canvas=document.createElement("canvas")),a=this.options,s=this._img,l=s.naturalWidth,c=s.naturalHeight,u=this.getOrientation();o=o||1,r.width=n,r.height=i,a.preserveHeaders||this._rotate2Orientaion(r,u),this._renderImageToCanvas(r,s,-t,-e,l*o,c*o),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(t){var e,i=this._blob,o=this.options;if(t=t||this.type,this.modified||this.type!==t){if(e=this._canvas,"image/jpeg"===t){if(i=n.canvasToDataUrl(e,t,o.quality),o.preserveHeaders&&this._metas&&this._metas.imageHead)return i=n.dataURL2ArrayBuffer(i),i=n.updateImageHead(i,this._metas.imageHead),i=n.arrayBufferToBlob(i,t)}else i=n.canvasToDataUrl(e,t);i=n.dataURL2Blob(i)}return i},getAsDataUrl:function(t){var e=this.options;return t=t||this.type,"image/jpeg"===t?n.canvasToDataUrl(this._canvas,t,e.quality):this._canvas.toDataURL(t)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(t){return t?(this._info=t,this):this._info},meta:function(t){return t?(this._meta=t,this):this._meta},destroy:function(){var t=this._canvas;this._img.onload=null,t&&(t.getContext("2d").clearRect(0,0,t.width,t.height),t.width=t.height=0,this._canvas=null),this._img.src=i,this._img=this._blob=null},_resize:function(t,e,n,i){var o,r,a,s,l,c=this.options,u=t.width,d=t.height,p=this.getOrientation();~[5,6,7,8].indexOf(p)&&(n^=i,i^=n,n^=i),o=Math[c.crop?"max":"min"](n/u,i/d),c.allowMagnify||(o=Math.min(1,o)),r=u*o,a=d*o,c.crop?(e.width=n,e.height=i):(e.width=r,e.height=a),s=(e.width-r)/2,l=(e.height-a)/2,c.preserveHeaders||this._rotate2Orientaion(e,p),this._renderImageToCanvas(e,t,s,l,r,a)},_rotate2Orientaion:function(t,e){var n=t.width,i=t.height,o=t.getContext("2d");switch(e){case 5:case 6:case 7:case 8:t.width=i,t.height=n}switch(e){case 2:o.translate(n,0),o.scale(-1,1);break;case 3:o.translate(n,i),o.rotate(Math.PI);break;case 4:o.translate(0,i),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-i);break;case 7:o.rotate(.5*Math.PI),o.translate(n,-i),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-n,0)}},_renderImageToCanvas:function(){function e(t,e,n){var i,o,r,a=document.createElement("canvas"),s=a.getContext("2d"),l=0,c=n,u=n;for(a.width=1,a.height=n,s.drawImage(t,0,0),i=s.getImageData(0,0,1,n).data;u>l;)o=i[4*(u-1)+3],0===o?c=u:l=u,u=c+l>>1;return r=u/n,0===r?1:r}function n(t){var e,n,i=t.naturalWidth,o=t.naturalHeight;return i*o>1048576&&(e=document.createElement("canvas"),e.width=e.height=1,n=e.getContext("2d"),n.drawImage(t,-i+1,0),0===n.getImageData(0,0,1,1).data[3])}return t.os.ios?t.os.ios>=7?function(t,n,i,o,r,a){var s=n.naturalWidth,l=n.naturalHeight,c=e(n,s,l);return t.getContext("2d").drawImage(n,0,0,s*c,l*c,i,o,r,a)}:function(t,i,o,r,a,s){var l,c,u,d,p,h,f,m=i.naturalWidth,g=i.naturalHeight,v=t.getContext("2d"),y=n(i),b="image/jpeg"===this.type,w=1024,x=0,k=0;for(y&&(m/=2,g/=2),v.save(),l=document.createElement("canvas"),l.width=l.height=w,c=l.getContext("2d"),u=b?e(i,m,g):1,d=Math.ceil(w*a/m),p=Math.ceil(w*s/g/u);g>x;){for(h=0,f=0;m>h;)c.clearRect(0,0,w,w),c.drawImage(i,-h,-x),v.drawImage(l,0,0,w,w,o+f,r+k,d,p),h+=w,f+=d;x+=w,k+=p}v.restore(),l=c=null}:function(e){var n=t.slice(arguments,1),i=e.getContext("2d");i.drawImage.apply(i,n)}}()})}),e("runtime/html5/transport",["base","runtime/html5/runtime"],function(t,e){var n=t.noop,i=t.$;return e.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var e,n,o,r=this.owner,a=this.options,s=this._initAjax(),l=r._blob,c=a.server;a.sendAsBinary?(c+=(/\?/.test(c)?"&":"?")+i.param(r._formData),n=l.getSource()):(e=new FormData,i.each(r._formData,function(t,n){e.append(t,n)}),e.append(a.fileVal,l.getSource(),a.filename||r._formData.name||"")),a.withCredentials&&"withCredentials"in s?(s.open(a.method,c,!0),s.withCredentials=!0):s.open(a.method,c),this._setRequestHeader(s,a.headers),n?(s.overrideMimeType&&s.overrideMimeType("application/octet-stream"),t.os.android?(o=new FileReader,o.onload=function(){s.send(this.result),o=o.onload=null},o.readAsArrayBuffer(n)):s.send(n)):s.send(e)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var t=this._xhr;t&&(t.upload.onprogress=n,t.onreadystatechange=n,t.abort(),this._xhr=t=null)},destroy:function(){this.abort()},_initAjax:function(){var t=this,e=new XMLHttpRequest,i=this.options;return!i.withCredentials||"withCredentials"in e||"undefined"==typeof XDomainRequest||(e=new XDomainRequest),e.upload.onprogress=function(e){var n=0;return e.lengthComputable&&(n=e.loaded/e.total),t.trigger("progress",n)},e.onreadystatechange=function(){return 4===e.readyState?(e.upload.onprogress=n,e.onreadystatechange=n,t._xhr=null,t._status=e.status,e.status>=200&&e.status<300?(t._response=e.responseText,t.trigger("load")):e.status>=500&&e.status<600?(t._response=e.responseText,t.trigger("error","server")):t.trigger("error",t._status?"http":"abort")):void 0},t._xhr=e,e},_setRequestHeader:function(t,e){i.each(e,function(e,n){t.setRequestHeader(e,n)})},_parseJson:function(t){var e;try{e=JSON.parse(t)}catch(n){e={}}return e}})}),e("runtime/html5/md5",["runtime/html5/runtime"],function(t){var e=function(t,e){return t+e&4294967295},n=function(t,n,i,o,r,a){return n=e(e(n,t),e(o,a)),e(n<<r|n>>>32-r,i)},i=function(t,e,i,o,r,a,s){return n(e&i|~e&o,t,e,r,a,s)},o=function(t,e,i,o,r,a,s){return n(e&o|i&~o,t,e,r,a,s)},r=function(t,e,i,o,r,a,s){return n(e^i^o,t,e,r,a,s)},a=function(t,e,i,o,r,a,s){return n(i^(e|~o),t,e,r,a,s)},s=function(t,n){var s=t[0],l=t[1],c=t[2],u=t[3];s=i(s,l,c,u,n[0],7,-680876936),u=i(u,s,l,c,n[1],12,-389564586),c=i(c,u,s,l,n[2],17,606105819),l=i(l,c,u,s,n[3],22,-1044525330),s=i(s,l,c,u,n[4],7,-176418897),u=i(u,s,l,c,n[5],12,1200080426),c=i(c,u,s,l,n[6],17,-1473231341),l=i(l,c,u,s,n[7],22,-45705983),s=i(s,l,c,u,n[8],7,1770035416),u=i(u,s,l,c,n[9],12,-1958414417),c=i(c,u,s,l,n[10],17,-42063),l=i(l,c,u,s,n[11],22,-1990404162),s=i(s,l,c,u,n[12],7,1804603682),u=i(u,s,l,c,n[13],12,-40341101),c=i(c,u,s,l,n[14],17,-1502002290),l=i(l,c,u,s,n[15],22,1236535329),s=o(s,l,c,u,n[1],5,-165796510),u=o(u,s,l,c,n[6],9,-1069501632),c=o(c,u,s,l,n[11],14,643717713),l=o(l,c,u,s,n[0],20,-373897302),s=o(s,l,c,u,n[5],5,-701558691),u=o(u,s,l,c,n[10],9,38016083),c=o(c,u,s,l,n[15],14,-660478335),l=o(l,c,u,s,n[4],20,-405537848),s=o(s,l,c,u,n[9],5,568446438),u=o(u,s,l,c,n[14],9,-1019803690),c=o(c,u,s,l,n[3],14,-187363961),l=o(l,c,u,s,n[8],20,1163531501),s=o(s,l,c,u,n[13],5,-1444681467),u=o(u,s,l,c,n[2],9,-51403784),c=o(c,u,s,l,n[7],14,1735328473),l=o(l,c,u,s,n[12],20,-1926607734),s=r(s,l,c,u,n[5],4,-378558),u=r(u,s,l,c,n[8],11,-2022574463),c=r(c,u,s,l,n[11],16,1839030562),l=r(l,c,u,s,n[14],23,-35309556),s=r(s,l,c,u,n[1],4,-1530992060),u=r(u,s,l,c,n[4],11,1272893353),c=r(c,u,s,l,n[7],16,-155497632),l=r(l,c,u,s,n[10],23,-1094730640),s=r(s,l,c,u,n[13],4,681279174),u=r(u,s,l,c,n[0],11,-358537222),c=r(c,u,s,l,n[3],16,-722521979),l=r(l,c,u,s,n[6],23,76029189),s=r(s,l,c,u,n[9],4,-640364487),u=r(u,s,l,c,n[12],11,-421815835),c=r(c,u,s,l,n[15],16,530742520),l=r(l,c,u,s,n[2],23,-995338651),s=a(s,l,c,u,n[0],6,-198630844),u=a(u,s,l,c,n[7],10,1126891415),c=a(c,u,s,l,n[14],15,-1416354905),l=a(l,c,u,s,n[5],21,-57434055),s=a(s,l,c,u,n[12],6,1700485571),u=a(u,s,l,c,n[3],10,-1894986606),c=a(c,u,s,l,n[10],15,-1051523),l=a(l,c,u,s,n[1],21,-2054922799),s=a(s,l,c,u,n[8],6,1873313359),u=a(u,s,l,c,n[15],10,-30611744),c=a(c,u,s,l,n[6],15,-1560198380),l=a(l,c,u,s,n[13],21,1309151649),s=a(s,l,c,u,n[4],6,-145523070),u=a(u,s,l,c,n[11],10,-1120210379),c=a(c,u,s,l,n[2],15,718787259),l=a(l,c,u,s,n[9],21,-343485551),t[0]=e(s,t[0]),t[1]=e(l,t[1]),t[2]=e(c,t[2]),t[3]=e(u,t[3])},l=function(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n},c=function(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n},u=function(t){var e,n,i,o,r,a,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;c>=e;e+=64)s(u,l(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;n>e;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s(u,i),e=0;16>e;e+=1)i[e]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),a=parseInt(o[1],16)||0,i[14]=r,i[15]=a,s(u,i),u},d=function(t){var e,n,i,o,r,a,l=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;l>=e;e+=64)s(u,c(t.subarray(e-64,e)));for(t=l>e-64?t.subarray(e-64):new Uint8Array(0),n=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;n>e;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s(u,i),e=0;16>e;e+=1)i[e]=0;return o=8*l,o=o.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),a=parseInt(o[1],16)||0,i[14]=r,i[15]=a,s(u,i),u},p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(t){var e,n="";for(e=0;4>e;e+=1)n+=p[t>>8*e+4&15]+p[t>>8*e&15];return n},f=function(t){var e;for(e=0;e<t.length;e+=1)t[e]=h(t[e]);return t.join("")},m=function(t){return f(u(t))},g=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==m("hello")&&(e=function(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}),g.prototype.append=function(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),this.appendBinary(t),this},g.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;n>=e;e+=64)s(this._state,l(this._buff.substring(e-64,e)));return this._buff=this._buff.substr(e-64),this},g.prototype.end=function(t){var e,n,i=this._buff,o=i.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;o>e;e+=1)r[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(r,o),n=t?this._state:f(this._state),this.reset(),n},g.prototype._finish=function(t,e){var n,i,o,r=e;if(t[r>>2]|=128<<(r%4<<3),r>55)for(s(this._state,t),r=0;16>r;r+=1)t[r]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=i,t[15]=o,s(this._state,t)},g.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},g.hash=function(t,e){/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t)));var n=u(t);return e?n:f(n)},g.hashBinary=function(t,e){var n=u(t);return e?n:f(n)},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(t){var e,n=this._concatArrayBuffer(this._buff,t),i=n.length;for(this._length+=t.byteLength,e=64;i>=e;e+=64)s(this._state,c(n.subarray(e-64,e)));return this._buff=i>e-64?n.subarray(e-64):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,o=i.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;o>e;e+=1)r[e>>2]|=i[e]<<(e%4<<3);return this._finish(r,o),n=t?this._state:f(this._state),this.reset(),n},g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._concatArrayBuffer=function(t,e){var n=t.length,i=new Uint8Array(n+e.byteLength);return i.set(t),i.set(new Uint8Array(e),n),i},g.ArrayBuffer.hash=function(t,e){var n=d(new Uint8Array(t));return e?n:f(n)},t.register("Md5",{init:function(){},loadFromBlob:function(t){var e,n,i=t.getSource(),o=2097152,r=Math.ceil(i.size/o),a=0,s=this.owner,l=new g.ArrayBuffer,c=this,u=i.mozSlice||i.webkitSlice||i.slice;n=new FileReader,(e=function(){var d,p;d=a*o,p=Math.min(d+o,i.size),n.onload=function(e){l.append(e.target.result),s.trigger("progress",{total:t.size,loaded:p})},n.onloadend=function(){n.onloadend=n.onload=null,++a<r?setTimeout(e,1):setTimeout(function(){s.trigger("load"),c.result=l.end(),e=t=i=l=null,s.trigger("complete")},50)},n.readAsArrayBuffer(u.call(i,d,p))})()},getResult:function(){return this.result}})}),e("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(e,n,i){function o(){var t;try{t=navigator.plugins["Shockwave Flash"],t=t.description}catch(e){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){t="0.0"}}return t=t.match(/\d+/g),parseFloat(t[0]+"."+t[1],10)}function r(){function i(t,e){var n,i,o=t.type||t;n=o.split("::"),i=n[0],o=n[1],"Ready"===o&&i===c.uid?c.trigger("ready"):r[i]&&r[i].trigger(o.toLowerCase(),t,e);
}var o={},r={},a=this.destroy,c=this,u=e.guid("webuploader_");n.apply(c,arguments),c.type=s,c.exec=function(t,n){var i,a=this,s=a.uid,u=e.slice(arguments,2);return r[s]=a,l[t]&&(o[s]||(o[s]=new l[t](a,c)),i=o[s],i[n])?i[n].apply(i,u):c.flashExec.apply(a,arguments)},t[u]=function(){var t=arguments;setTimeout(function(){i.apply(null,t)},1)},this.jsreciver=u,this.destroy=function(){return a&&a.apply(this,arguments)},this.flashExec=function(t,n){var i=c.getFlash(),o=e.slice(arguments,2);return i.exec(this.uid,t,n,o)}}var a=e.$,s="flash",l={};return e.inherits(n,{constructor:r,init:function(){var t,n=this.getContainer(),i=this.options;n.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),t='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+i.swf+'" ',e.browser.ie&&(t+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),t+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+i.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.html(t)},getFlash:function(){return this._flash?this._flash:(this._flash=a("#"+this.uid).get(0),this._flash)}}),r.register=function(t,n){return n=l[t]=e.inherits(i,a.extend({flashExec:function(){var t=this.owner,e=this.getRuntime();return e.flashExec.apply(t,arguments)}},n))},o()>=11.4&&n.addRuntime(s,r),r}),e("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(t,e){var n=t.$;return e.register("FilePicker",{init:function(t){var e,i,o=n.extend({},t);for(e=o.accept&&o.accept.length,i=0;e>i;i++)o.accept[i].title||(o.accept[i].title="Files");delete o.button,delete o.id,delete o.container,this.flashExec("FilePicker","init",o)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),e("runtime/flash/image",["runtime/flash/runtime"],function(t){return t.register("Image",{loadFromBlob:function(t){var e=this.owner;e.info()&&this.flashExec("Image","info",e.info()),e.meta()&&this.flashExec("Image","meta",e.meta()),this.flashExec("Image","loadFromBlob",t.uid)}})}),e("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(e,n,i){var o=e.$;return n.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var t,e=this.owner,n=this.options,i=this._initAjax(),r=e._blob,a=n.server;i.connectRuntime(r.ruid),n.sendAsBinary?(a+=(/\?/.test(a)?"&":"?")+o.param(e._formData),t=r.uid):(o.each(e._formData,function(t,e){i.exec("append",t,e)}),i.exec("appendBlob",n.fileVal,r.uid,n.filename||e._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:a,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},t)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var t=this._xhr;t&&(t.exec("abort"),t.destroy(),this._xhr=t=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,n=new i("XMLHttpRequest");return n.on("uploadprogress progress",function(t){var n=t.loaded/t.total;return n=Math.min(1,Math.max(0,n)),e.trigger("progress",n)}),n.on("load",function(){var i,o=n.exec("getStatus"),r=!1,a="";return n.off(),e._xhr=null,o>=200&&300>o?r=!0:o>=500&&600>o?(r=!0,a="server"):a="http",r&&(e._response=n.exec("getResponse"),e._response=decodeURIComponent(e._response),i=t.JSON&&t.JSON.parse||function(t){try{return new Function("return "+t).call()}catch(e){return{}}},e._responseJson=e._response?i(e._response):{}),n.destroy(),n=null,a?e.trigger("error",a):e.trigger("load")}),n.on("error",function(){n.off(),e._xhr=null,e.trigger("error","http")}),e._xhr=n,n},_setRequestHeader:function(t,e){o.each(e,function(e,n){t.exec("setRequestHeader",e,n)})}})}),e("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(t,e){return t.register("Blob",{slice:function(t,n){var i=this.flashExec("Blob","slice",t,n);return new e(i.uid,i)}})}),e("runtime/flash/md5",["runtime/flash/runtime"],function(t){return t.register("Md5",{init:function(){},loadFromBlob:function(t){return this.flashExec("Md5","loadFromBlob",t.uid)}})}),e("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(t){return t}),e("widgets/log",["base","uploader","widgets/widget"],function(t,e){function n(t){var e=o.extend({},i,t),n=r.replace(/^(.*)\?/,"$1"+o.param(e)),a=new Image;a.src=n}var i,o=t.$,r=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",a=(location.hostname||location.host||"protected").toLowerCase(),s=a&&/baidu/i.exec(a);if(s)return i={dv:3,master:"webuploader",online:/test/.exec(a)?0:1,module:"",product:a,type:0},e.register({name:"log",init:function(){var t=this.owner,e=0,i=0;t.on("error",function(t){n({type:2,c_error_code:t})}).on("uploadError",function(t,e){n({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+e})}).on("uploadComplete",function(t){e++,i+=t.size}).on("uploadFinished",function(){n({c_count:e,c_size:i}),e=i=0}),n({c_usage:1})}})}),e("webuploader",["preset/all","widgets/log"],function(t){return t}),n("webuploader")}),"undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}void 0===t.support.transition&&(t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e()}))}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),t(window).on("resize",t.proxy(this.recalc,this))),this.options.autohide&&t(document).on("click",t.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};e.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},e.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},e.prototype.calcPlacement=function(){function e(t,e){if("auto"===o.css(e))return t;if("auto"===o.css(t))return e;var n=parseInt(o.css(t),10),i=parseInt(o.css(e),10);return n>i?e:t}if("auto"!==this.options.placement)return void(this.placement=this.options.placement);this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var n=t(window).width()/this.$element.width(),i=t(window).height()/this.$element.height(),o=this.$element;this.placement=n>=i?e("left","right"):e("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")},e.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},e.prototype.getCanvasElements=function(){var e=this.options.canvas?t(this.options.canvas):this.$element,n=e.find("*").filter(function(){return"fixed"===t(this).css("position")}).not(this.options.exclude);return e.add(n)},e.prototype.slide=function(e,n,i){if(!t.support.transition){var o={};return o[this.placement]="+="+n,e.animate(o,350,i)}var r=this.placement,a=this.opposite(r);e.each(function(){"auto"!==t(this).css(r)&&t(this).css(r,(parseInt(t(this).css(r),10)||0)+n),"auto"!==t(this).css(a)&&t(this).css(a,(parseInt(t(this).css(a),10)||0)-n)}),this.$element.one(t.support.transition.end,i).emulateTransitionEnd(350)},e.prototype.disableScrolling=function(){var e=t("body").width(),n="padding-"+this.opposite(this.placement);if(void 0===t("body").data("offcanvas-style")&&t("body").data("offcanvas-style",t("body").attr("style")||""),t("body").css("overflow","hidden"),t("body").width()>e){var i=parseInt(t("body").css(n),10)+t("body").width()-e;setTimeout(function(){t("body").css(n,i)},1)}},e.prototype.show=function(){if(!this.state){var e=t.Event("show.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var n=this.getCanvasElements(),i=this.placement,o=this.opposite(i),r=this.offset();-1!==n.index(this.$element)&&(t(this.$element).data("offcanvas-style",t(this.$element).attr("style")||""),this.$element.css(i,-1*r),this.$element.css(i)),n.addClass("canvas-sliding").each(function(){void 0===t(this).data("offcanvas-style")&&t(this).data("offcanvas-style",t(this).attr("style")||""),"static"===t(this).css("position")&&t(this).css("position","relative"),"auto"!==t(this).css(i)&&"0px"!==t(this).css(i)||"auto"!==t(this).css(o)&&"0px"!==t(this).css(o)||t(this).css(i,0)}),this.options.disableScrolling&&this.disableScrolling();var a=function(){"slide-in"==this.state&&(this.state="slid",n.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(t.proxy(function(){this.$element.addClass("in"),this.slide(n,r,t.proxy(a,this))},this),1)}}},e.prototype.hide=function(){if("slid"===this.state){var e=t.Event("hide.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-out";var n=t(".canvas-slid"),i=(this.placement,-1*this.offset()),o=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),n.removeClass("canvas-sliding"),n.add(this.$element).add("body").each(function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};n.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(t.proxy(function(){this.slide(n,i,t.proxy(o,this))},this),1)}}},e.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},e.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(t("body"))},e.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var e=this.getCanvasElements();this.$element.removeClass("in"),e.removeClass("canvas-slid"),e.add(this.$element).add("body").each(function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")})}},e.prototype.autohide=function(e){0===t(e.target).closest(this.$element).length&&this.hide()};var n=t.fn.offcanvas;t.fn.offcanvas=function(n){return this.each(function(){var i=t(this),o=i.data("bs.offcanvas"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.offcanvas",o=new e(this,r)),"string"==typeof n&&o[n]()})},t.fn.offcanvas.Constructor=e,t.fn.offcanvas.noConflict=function(){return t.fn.offcanvas=n,this},t(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(e){var n,i=t(this),o=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(o),a=r.data("bs.offcanvas"),s=a?"toggle":i.data();e.stopPropagation(),a?a.toggle():r.offcanvas(s)})}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",t.proxy(this.click,this))};e.DEFAULTS={target:"a"},e.prototype.click=function(e){var n=t(e.currentTarget).closest("tr").find(this.options.target)[0];if(t(e.target)[0]!==n)if(e.preventDefault(),n.click)n.click();else if(document.createEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)}};var n=t.fn.rowlink;t.fn.rowlink=function(n){return this.each(function(){var i=t(this),o=i.data("bs.rowlink");o||i.data("bs.rowlink",o=new e(this,n))})},t.fn.rowlink.Constructor=e,t.fn.rowlink.noConflict=function(){return t.fn.rowlink=n,this},t(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(e){if(0===t(e.target).closest(".rowlink-skip").length){var n=t(this);n.data("bs.rowlink")||(n.rowlink(n.data()),t(e.target).trigger("click.bs.rowlink"))}})}(window.jQuery),+function(t){"use strict";var e=void 0!==window.orientation,n=navigator.userAgent.toLowerCase().indexOf("android")>-1,i="Microsoft Internet Explorer"==window.navigator.appName,o=function(e,i){n||(this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};o.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]",w:"[A-Za-z0-9]","*":"."}},o.prototype.init=function(){var e=this.options.definitions,n=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,t.each(this.mask.split(""),t.proxy(function(t,i){"?"==i?(n--,this.partialPosition=t):e[i]?(this.tests.push(new RegExp(e[i])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=t.map(this.mask.split(""),t.proxy(function(t){return"?"!=t?e[t]?this.options.placeholder:t:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",t.proxy(function(){return t.map(this.buffer,function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null}).join("")},this))},o.prototype.listen=function(){if(!this.$element.attr("readonly")){var e=(i?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",t.proxy(this.unmask,this)).on("focus.bs.inputmask",t.proxy(this.focusEvent,this)).on("blur.bs.inputmask",t.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",t.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",t.proxy(this.keypressEvent,this)).on(e,t.proxy(this.pasteEvent,this))}},o.prototype.caret=function(t,e){if(0!==this.$element.length){if("number"==typeof t)return e="number"==typeof e?e:t,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(t,e);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}});if(this.$element[0].setSelectionRange)t=this.$element[0].selectionStart,e=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var n=document.selection.createRange();t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length}return{begin:t,end:e}}},o.prototype.seekNext=function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},o.prototype.seekPrev=function(t){for(;--t>=0&&!this.tests[t];);return t},o.prototype.shiftL=function(t,e){var n=this.mask.length;if(!(0>t)){for(var i=t,o=this.seekNext(e);n>i;i++)if(this.tests[i]){if(!(n>o&&this.tests[i].test(this.buffer[o])))break;this.buffer[i]=this.buffer[o],this.buffer[o]=this.options.placeholder,o=this.seekNext(o)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},o.prototype.shiftR=function(t){for(var e=this.mask.length,n=t,i=this.options.placeholder;e>n;n++)if(this.tests[n]){var o=this.seekNext(n),r=this.buffer[n];if(this.buffer[n]=i,!(e>o&&this.tests[o].test(r)))break;i=r}},o.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},o.prototype.focusEvent=function(){this.focusText=this.$element.val();var t=this.mask.length,e=this.checkVal();this.writeBuffer();var n=this,i=function(){e==t?n.caret(0,e):n.caret(e)};i(),setTimeout(i,50)},o.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},o.prototype.keydownEvent=function(t){var n=t.which;if(8==n||46==n||e&&127==n){var i=this.caret(),o=i.begin,r=i.end;return r-o===0&&(o=46!=n?this.seekPrev(o):r=this.seekNext(o-1),r=46==n?this.seekNext(r):r),this.clearBuffer(o,r),this.shiftL(o,r-1),!1}return 27==n?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},o.prototype.keypressEvent=function(t){var e=this.mask.length,n=t.which,i=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||32>n)return!0;if(n){i.end-i.begin!==0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1));var o=this.seekNext(i.begin-1);if(e>o){var r=String.fromCharCode(n);if(this.tests[o].test(r)){this.shiftR(o),this.buffer[o]=r,this.writeBuffer();var a=this.seekNext(o);this.caret(a)}}return!1}},o.prototype.pasteEvent=function(){var t=this;setTimeout(function(){t.caret(t.checkVal(!0))},0)},o.prototype.clearBuffer=function(t,e){for(var n=this.mask.length,i=t;e>i&&n>i;i++)this.tests[i]&&(this.buffer[i]=this.options.placeholder)},o.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},o.prototype.checkVal=function(t){for(var e=this.mask.length,n=this.$element.val(),i=-1,o=0,r=0;e>o;o++)if(this.tests[o]){for(this.buffer[o]=this.options.placeholder;r++<n.length;){var a=n.charAt(r-1);if(this.tests[o].test(a)){this.buffer[o]=a,i=o;break}}if(r>n.length)break}else this.buffer[o]==n.charAt(r)&&o!=this.partialPosition&&(r++,i=o);return!t&&i+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||i+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,i+1))),this.partialPosition?o:this.firstNonMaskPos};var r=t.fn.inputmask;t.fn.inputmask=function(e){return this.each(function(){var n=t(this),i=n.data("bs.inputmask");i||n.data("bs.inputmask",i=new o(this,e))})},t.fn.inputmask.Constructor=o,t.fn.inputmask.noConflict=function(){return t.fn.inputmask=r,this},t(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var e=t(this);e.data("bs.inputmask")||e.inputmask(e.data())})}(window.jQuery),+function(t){"use strict";var e="Microsoft Internet Explorer"==window.navigator.appName,n=function(e,n){if(this.$element=t(e),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||n.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var i=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==i&&"none"!==i&&this.$preview.css("line-height",i),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};n.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},n.prototype.change=function(e){var n=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0===n.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var i=n[0];if(this.$preview.length>0&&("undefined"!=typeof i.type?i.type.match(/^image\/(gif|png|jpeg)$/):i.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var o=new FileReader,r=this.$preview,a=this.$element;o.onload=function(e){var o=t("<img>");o[0].src=e.target.result,n[0].result=e.target.result,a.find(".fileinput-filename").text(i.name),"none"!=r.css("max-height")&&o.css("max-height",parseInt(r.css("max-height"),10)-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10)-parseInt(r.css("border-top"),10)-parseInt(r.css("border-bottom"),10)),r.html(o),a.addClass("fileinput-exists").removeClass("fileinput-new"),a.trigger("change.bs.fileinput",n)},o.readAsDataURL(i)}else this.$element.find(".fileinput-filename").text(i.name),this.$preview.text(i.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},n.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var n=this.$input.clone(!0);this.$input.after(n),this.$input.remove(),this.$input=n}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},n.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},n.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var i=t.fn.fileinput;t.fn.fileinput=function(e){return this.each(function(){var i=t(this),o=i.data("bs.fileinput");o||i.data("bs.fileinput",o=new n(this,e)),"string"==typeof e&&o[e]()})},t.fn.fileinput.Constructor=n,t.fn.fileinput.noConflict=function(){return t.fn.fileinput=i,this},t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var n=t(this);if(!n.data("bs.fileinput")){n.fileinput(n.data());var i=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');i.length>0&&(e.preventDefault(),i.trigger("click.bs.fileinput"))}})}(window.jQuery),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};e=function(){function e(e,i){var o,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.hidden="hidden",r.paused=!1,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=t(e),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=t(e).data("slick")||{},r.options=t.extend({},r.defaults,o,i),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,"undefined"!=typeof document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=t.proxy(r.autoPlay,r),r.autoPlayClear=t.proxy(r.autoPlayClear,r),r.changeSlide=t.proxy(r.changeSlide,r),r.clickHandler=t.proxy(r.clickHandler,r),r.selectHandler=t.proxy(r.selectHandler,r),r.setPosition=t.proxy(r.setPosition,r),r.swipeHandler=t.proxy(r.swipeHandler,r),r.dragHandler=t.proxy(r.dragHandler,r),r.keyHandler=t.proxy(r.keyHandler,r),r.autoPlayIterator=t.proxy(r.autoPlayIterator,r),r.instanceUid=n++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0),r.checkResponsive(!0)}var n=0;return e}(),e.prototype.addSlide=e.prototype.slickAdd=function(e,n,i){var o=this;if("boolean"==typeof n)i=n,n=null;else if(0>n||n>=o.slideCount)return!1;o.unload(),"number"==typeof n?0===n&&0===o.$slides.length?t(e).appendTo(o.$slideTrack):i?t(e).insertBefore(o.$slides.eq(n)):t(e).insertAfter(o.$slides.eq(n)):i===!0?t(e).prependTo(o.$slideTrack):t(e).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(e,n){t(n).attr("data-slick-index",e)}),o.$slidesCache=o.$slides,o.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,n){var i={},o=this;o.animateHeight(),o.options.rtl===!0&&o.options.vertical===!1&&(e=-e),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,n):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,n):o.cssTransitions===!1?(o.options.rtl===!0&&(o.currentLeft=-o.currentLeft),t({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(t){t=Math.ceil(t),o.options.vertical===!1?(i[o.animType]="translate("+t+"px, 0px)",o.$slideTrack.css(i)):(i[o.animType]="translate(0px,"+t+"px)",o.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(o.applyTransition(),e=Math.ceil(e),o.options.vertical===!1?i[o.animType]="translate3d("+e+"px, 0px, 0px)":i[o.animType]="translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(i),n&&setTimeout(function(){o.disableTransition(),n.call()},o.options.speed))},e.prototype.asNavFor=function(e){var n=this,i=n.options.asNavFor;i&&null!==i&&(i=t(i).not(n.$slider)),null!==i&&"object"==typeof i&&i.each(function(){var n=t(this).slick("getSlick");n.unslicked||n.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,n={};e.options.fade===!1?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&t.paused!==!0&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this;t.options.infinite===!1?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(t.currentSlide-1===0&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll)):t.slideHandler(t.currentSlide+t.options.slidesToScroll)},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,n,i=this;if(i.options.dots===!0&&i.slideCount>i.options.slidesToShow){for(n='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)n+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";n+="</ul>",i.$dots=t(n).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,n){t(n).attr("data-slick-index",e).data("originalStyling",t(n).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(e.options.centerMode===!0||e.options.swipeToSlide===!0)&&(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,n,i,o,r,a,s=this;if(i=document.createDocumentFragment(),r=s.$slider.children(),s.options.rows>1){for(a=s.options.slidesPerRow*s.options.rows,o=Math.ceil(r.length/a),t=0;o>t;t++){var l=document.createElement("div");for(e=0;e<s.options.rows;e++){var c=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var u=t*a+(e*s.options.slidesPerRow+n);r.get(u)&&c.appendChild(r.get(u))}l.appendChild(c)}i.appendChild(l)}s.$slider.html(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,n){var i,o,r,a=this,s=!1,l=a.$slider.width(),c=window.innerWidth||t(window).width();if("window"===a.respondTo?r=c:"slider"===a.respondTo?r=l:"min"===a.respondTo&&(r=Math.min(c,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){o=null;for(i in a.breakpoints)a.breakpoints.hasOwnProperty(i)&&(a.originalSettings.mobileFirst===!1?r<a.breakpoints[i]&&(o=a.breakpoints[i]):r>a.breakpoints[i]&&(o=a.breakpoints[i]));null!==o?null!==a.activeBreakpoint?(o!==a.activeBreakpoint||n)&&(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[o]),e===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=o):(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=t.extend({},a.originalSettings,a.breakpointSettings[o]),e===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(e)),s=o):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,e===!0&&(a.currentSlide=a.options.initialSlide),a.refresh(e),s=o),e||s===!1||a.$slider.trigger("breakpoint",[a,s])}},e.prototype.changeSlide=function(e,n){var i,o,r,a=this,s=t(e.target);
switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),r=a.slideCount%a.options.slidesToScroll!==0,i=r?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,e.data.message){case"previous":o=0===i?a.options.slidesToScroll:a.options.slidesToShow-i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-o,!1,n);break;case"next":o=0===i?a.options.slidesToScroll:i,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+o,!1,n);break;case"index":var l=0===e.data.index?0:e.data.index||s.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,n),s.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,n,i=this;if(e=i.getNavigableIndexes(),n=0,t>e[e.length-1])t=e[e.length-1];else for(var o in e){if(t<e[o]){t=n;break}n=e[o]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide),e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).off("mouseenter.slick",t.proxy(e.setPaused,e,!0)).off("mouseleave.slick",t.proxy(e.setPaused,e,!1))),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&(t=e.$slides.children().children(),t.removeAttr("style"),e.$slider.html(t))},e.prototype.clickHandler=function(t){var e=this;e.shouldClick===!1&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),t(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.unslicked=!0,e||n.$slider.trigger("destroy",[n])},e.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.fadeSlide=function(t,e){var n=this;n.cssTransitions===!1?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;e.cssTransitions===!1?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,n=0,i=0;if(t.options.infinite===!0)for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(t.options.centerMode===!0)i=t.slideCount;else for(;e<t.slideCount;)++i,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return i-1},e.prototype.getLeft=function(t){var e,n,i,o=this,r=0;return o.slideOffset=0,n=o.$slides.first().outerHeight(!0),o.options.infinite===!0?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=n*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!==0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,r=(o.options.slidesToShow-(t-o.slideCount))*n*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,r=o.slideCount%o.options.slidesToScroll*n*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,r=(t+o.options.slidesToShow-o.slideCount)*n),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,r=0),o.options.centerMode===!0&&o.options.infinite===!0?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:o.options.centerMode===!0&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=o.options.vertical===!1?t*o.slideWidth*-1+o.slideOffset:t*n*-1+r,o.options.variableWidth===!0&&(i=o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=o.options.rtl===!0?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,o.options.centerMode===!0&&(i=o.slideCount<=o.options.slidesToShow||o.options.infinite===!1?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=o.options.rtl===!0?i[0]?-1*(o.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,e+=(o.$list.width()-i.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){var e=this;return e.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,n=0,i=0,o=[];for(e.options.infinite===!1?t=e.slideCount:(n=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,t=2*e.slideCount);t>n;)o.push(n),n=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,n,i,o=this;return i=o.options.centerMode===!0?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,o.options.swipeToSlide===!0?(o.$slideTrack.find(".slick-slide").each(function(e,r){return r.offsetLeft-i+t(r).outerWidth()/2>-1*o.swipeLeft?(n=r,!1):void 0}),e=Math.abs(t(n).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){var n=this;n.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var n=this;t(n.$slider).hasClass("slick-initialized")||(t(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots()),e&&n.$slider.trigger("init",[n]),n.options.accessibility===!0&&n.initADA()},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.setPaused,e,!0)).on("mouseleave.slick",t.proxy(e.setPaused,e,!1))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),t.options.autoplay===!0&&t.autoPlay()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:"previous"}}):39===t.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),n=t(this).attr("data-lazy"),i=document.createElement("img");i.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",n).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")})})},i.src=n})}var n,i,o,r,a=this;a.options.centerMode===!0?a.options.infinite===!0?(o=a.currentSlide+(a.options.slidesToShow/2+1),r=o+a.options.slidesToShow+2):(o=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),r=2+(a.options.slidesToShow/2+1)+a.currentSlide):(o=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,r=o+a.options.slidesToShow,a.options.fade===!0&&(o>0&&o--,r<=a.slideCount&&r++)),n=a.$slider.find(".slick-slide").slice(o,r),e(n),a.slideCount<=a.options.slidesToShow?(i=a.$slider.find(".slick-slide"),e(i)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(i=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),e(i)):0===a.currentSlide&&(i=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),e(i))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var t=this;t.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.paused=!1,t.autoPlay()},e.prototype.postSlide=function(t){var e=this;e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay(),e.options.accessibility===!0&&e.initADA()},e.prototype.prev=e.prototype.slickPrev=function(){var t=this;t.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(){var e,n,i=this;e=t("img[data-lazy]",i.$slider).length,e>0&&(n=t("img[data-lazy]",i.$slider).first(),n.attr("src",null),n.attr("src",n.attr("data-lazy")).removeClass("slick-loading").load(function(){n.removeAttr("data-lazy"),i.progressiveLazyLoad(),i.options.adaptiveHeight===!0&&i.setPosition()}).error(function(){n.removeAttr("data-lazy"),i.progressiveLazyLoad()}))},e.prototype.refresh=function(e){var n,i,o=this;i=o.slideCount-o.options.slidesToShow,o.options.infinite||(o.slideCount<=o.options.slidesToShow?o.currentSlide=0:o.currentSlide>i&&(o.currentSlide=i)),n=o.currentSlide,o.destroy(!0),t.extend(o,o.initials,{currentSlide:n}),o.init(),e||o.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.registerBreakpoints=function(){var e,n,i,o=this,r=o.options.responsive||null;if("array"===t.type(r)&&r.length){o.respondTo=o.options.respondTo||"window";for(e in r)if(i=o.breakpoints.length-1,n=r[e].breakpoint,r.hasOwnProperty(e)){for(;i>=0;)o.breakpoints[i]&&o.breakpoints[i]===n&&o.breakpoints.splice(i,1),i--;o.breakpoints.push(n),o.breakpointSettings[n]=r[e].settings}o.breakpoints.sort(function(t,e){return o.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e]),e.options.autoplay===!0&&e.focusHandler()},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,n){var i=this;return"boolean"==typeof t?(e=t,t=e===!0?0:i.slideCount-1):t=e===!0?--t:t,!(i.slideCount<1||0>t||t>i.slideCount-1)&&(i.unload(),n===!0?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(t).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},e.prototype.setCSS=function(t){var e,n,i=this,o={};i.options.rtl===!0&&(t=-t),e="left"==i.positionProp?Math.ceil(t)+"px":"0px",n="top"==i.positionProp?Math.ceil(t)+"px":"0px",o[i.positionProp]=t,i.transformsEnabled===!1?i.$slideTrack.css(o):(o={},i.cssTransitions===!1?(o[i.animType]="translate("+e+", "+n+")",i.$slideTrack.css(o)):(o[i.animType]="translate3d("+e+", "+n+", 0px)",i.$slideTrack.css(o)))},e.prototype.setDimensions=function(){var t=this;t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1&&t.options.variableWidth===!1?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):t.options.variableWidth===!0?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.options.variableWidth===!1&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,n=this;n.$slides.each(function(i,o){e=n.slideWidth*i*-1,n.options.rtl===!0?t(o).css({position:"relative",right:e,top:0,zIndex:n.options.zIndex-2,opacity:0}):t(o).css({position:"relative",left:e,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(e,n,i){var o,r,a=this;if("responsive"===e&&"array"===t.type(n))for(r in n)if("array"!==t.type(a.options.responsive))a.options.responsive=[n[r]];else{for(o=a.options.responsive.length-1;o>=0;)a.options.responsive[o].breakpoint===n[r].breakpoint&&a.options.responsive.splice(o,1),o--;a.options.responsive.push(n[r])}else a.options[e]=n;i===!0&&(a.unload(),a.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&t.options.useCSS===!0&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,n,i,o,r=this;n=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(t).addClass("slick-current"),r.options.centerMode===!0?(e=Math.floor(r.options.slidesToShow/2),r.options.infinite===!0&&(t>=e&&t<=r.slideCount-1-e?r.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(i=r.options.slidesToShow+t,n.slice(i-e+1,i+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")):t>=0&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=r.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,i=r.options.infinite===!0?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?n.slice(i-(r.options.slidesToShow-o),i+o).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},e.prototype.setupInfinite=function(){var e,n,i,o=this;if(o.options.fade===!0&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(n=null,o.slideCount>o.options.slidesToShow)){for(i=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,e=o.slideCount;e>o.slideCount-i;e-=1)n=e-1,t(o.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(e=0;i>e;e+=1)n=e,t(o.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.setPaused=function(t){var e=this;e.options.autoplay===!0&&e.options.pauseOnHover===!0&&(e.paused=t,t?e.autoPlayClear():e.autoPlay())},e.prototype.selectHandler=function(e){var n=this,i=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),o=parseInt(i.attr("data-slick-index"));return o||(o=0),n.slideCount<=n.options.slidesToShow?(n.setSlideClasses(o),void n.asNavFor(o)):void n.slideHandler(o)},e.prototype.slideHandler=function(t,e,n){var i,o,r,a,s=null,l=this;return e=e||!1,l.animating===!0&&l.options.waitForAnimate===!0||l.options.fade===!0&&l.currentSlide===t||l.slideCount<=l.options.slidesToShow?void 0:(e===!1&&l.asNavFor(t),i=t,s=l.getLeft(i),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,l.options.infinite===!1&&l.options.centerMode===!1&&(0>t||t>l.getDotCount()*l.options.slidesToScroll)?void(l.options.fade===!1&&(i=l.currentSlide,n!==!0?l.animateSlide(a,function(){l.postSlide(i)}):l.postSlide(i))):l.options.infinite===!1&&l.options.centerMode===!0&&(0>t||t>l.slideCount-l.options.slidesToScroll)?void(l.options.fade===!1&&(i=l.currentSlide,n!==!0?l.animateSlide(a,function(){l.postSlide(i)}):l.postSlide(i))):(l.options.autoplay===!0&&clearInterval(l.autoPlayTimer),o=0>i?l.slideCount%l.options.slidesToScroll!==0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+i:i>=l.slideCount?l.slideCount%l.options.slidesToScroll!==0?0:i-l.slideCount:i,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,o]),r=l.currentSlide,l.currentSlide=o,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),l.options.fade===!0?(n!==!0?(l.fadeSlideOut(r),l.fadeSlide(o,function(){l.postSlide(o)})):l.postSlide(o),void l.animateHeight()):void(n!==!0?l.animateSlide(s,function(){l.postSlide(o)}):l.postSlide(o))))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,n,i,o=this;return t=o.touchObject.startX-o.touchObject.curX,e=o.touchObject.startY-o.touchObject.curY,n=Math.atan2(e,t),i=Math.round(180*n/Math.PI),0>i&&(i=360-Math.abs(i)),45>=i&&i>=0?o.options.rtl===!1?"left":"right":360>=i&&i>=315?o.options.rtl===!1?"left":"right":i>=135&&225>=i?o.options.rtl===!1?"right":"left":o.options.verticalSwiping===!0?i>=35&&135>=i?"left":"right":"vertical"},e.prototype.swipeEnd=function(t){var e,n=this;if(n.dragging=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(n.touchObject.edgeHit===!0&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe)switch(n.swipeDirection()){case"left":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.slideHandler(e),n.currentDirection=0,n.touchObject={},n.$slider.trigger("swipe",[n,"left"]);break;case"right":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.slideHandler(e),n.currentDirection=1,n.touchObject={},n.$slider.trigger("swipe",[n,"right"])}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,n,i,o,r,a=this;return r=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||r&&1!==r.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),a.options.verticalSwiping===!0&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),n=a.swipeDirection(),"vertical"!==n?(void 0!==t.originalEvent&&a.touchObject.swipeLength>4&&t.preventDefault(),o=(a.options.rtl===!1?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),a.options.verticalSwiping===!0&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),i=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,a.options.infinite===!1&&(0===a.currentSlide&&"right"===n||a.currentSlide>=a.getDotCount()&&"left"===n)&&(i=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.options.vertical===!1?a.swipeLeft=e+i*o:a.swipeLeft=e+i*(a.$list.height()/a.listWidth)*o,a.options.verticalSwiping===!0&&(a.swipeLeft=e+i*o),a.options.fade!==!0&&a.options.touchMove!==!1&&(a.animating===!0?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},e.prototype.swipeStart=function(t){var e,n=this;return 1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?(n.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(n.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t,e=this;t=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var t=this;document[t.hidden]?(t.paused=!0,t.autoPlayClear()):t.options.autoplay===!0&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(n){t(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+n})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(n){t(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+n,id:"slick-slide"+e.instanceUid+n})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},e.prototype.activateADA=function(){var t=this;t.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.focusHandler=function(){var e=this;e.$slider.on("focus.slick blur.slick","*",function(n){n.stopImmediatePropagation();var i=t(this);setTimeout(function(){e.isPlay&&(i.is(":focus")?(e.autoPlayClear(),e.paused=!0):(e.paused=!1,e.autoPlay()))},0)})},t.fn.slick=function(){var t,n,i=this,o=arguments[0],r=Array.prototype.slice.call(arguments,1),a=i.length;for(t=0;a>t;t++)if("object"==typeof o||"undefined"==typeof o?i[t].slick=new e(i[t],o):n=i[t].slick[o].apply(i[t].slick,r),"undefined"!=typeof n)return n;return i}}),!function(t,e,n,i){function o(e,n){this.element=e,this.settings=t.extend({},a,n),this._defaults=a,this._name=r,this._checked=!1,this._init()}var r="flatcheckbox",a={label:"",onChecked:function(){},onUnChecked:function(){}};o.prototype={_init:function(){var e=this;this._checked=t(this.element).prop("checked"),t(this.element).hide(),t(this.element).after('<div class="flcheckbox"><span class="ckbBox"></span><span class="ckbText">'+this.settings.label+"</span></div>");var n=t(this.element).next();this._checked&&n.addClass("flchecked"),n.bind("click",function(){n.toggleClass("flchecked"),e._checked=!e._checked,t(e.element).prop("checked",e._checked),e._checked?e.settings.onChecked(e.element):e.settings.onUnChecked(e.element)})},label:function(e){var n=t(this.element).next().find(".ckbText");n.text(e[0])},uncheck:function(e){var n=t(this.element).next();n.removeClass("flchecked"),this._checked=!1,t(this.element).prop("checked",!1),this.settings.onUnChecked(this.element)}},t.fn[r]=function(e){var n=t(this).data(r);return n&&0!=e.indexOf("_")?n[e](Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Wrong call to "+r):(n=new o(this,e),t(this).data(r,n),t(this))}}(jQuery,window,document),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";function e(t){var e={};if(void 0===t.selectionStart){t.focus();var n=document.selection.createRange();e.length=n.text.length,n.moveStart("character",-t.value.length),e.end=n.text.length,e.start=e.end-e.length}else e.start=t.selectionStart,e.end=t.selectionEnd,e.length=e.end-e.start;return e;
}function n(t,e,n){if(void 0===t.selectionStart){t.focus();var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i.select()}else t.selectionStart=e,t.selectionEnd=n}function i(e,n){t.each(n,function(t,i){"function"==typeof i?n[t]=i(e,n,t):"function"==typeof e.autoNumeric[i]&&(n[t]=e.autoNumeric[i](e,n,t))})}function o(t,e){"string"==typeof t[e]&&(t[e]*=1)}function r(t,e){i(t,e),e.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var n=e.vMax.toString().split("."),r=e.vMin||0===e.vMin?e.vMin.toString().split("."):[];if(o(e,"vMax"),o(e,"vMin"),o(e,"mDec"),e.mDec="CHF"===e.mRound?"2":e.mDec,e.allowLeading=!0,e.aNeg=e.vMin<0?"-":"",n[0]=n[0].replace("-",""),r[0]=r[0].replace("-",""),e.mInt=Math.max(n[0].length,r[0].length,1),null===e.mDec){var a=0,s=0;n[1]&&(a=n[1].length),r[1]&&(s=r[1].length),e.mDec=Math.max(a,s)}null===e.altDec&&e.mDec>0&&("."===e.aDec&&","!==e.aSep?e.altDec=",":","===e.aDec&&"."!==e.aSep&&(e.altDec="."));var l=e.aNeg?"([-\\"+e.aNeg+"]?)":"(-?)";e.aNegRegAutoStrip=l,e.skipFirstAutoStrip=new RegExp(l+"[^-"+(e.aNeg?"\\"+e.aNeg:"")+"\\"+e.aDec+"\\d].*?(\\d|\\"+e.aDec+"\\d)"),e.skipLastAutoStrip=new RegExp("(\\d\\"+e.aDec+"?)[^\\"+e.aDec+"\\d]\\D*$");var c="-"+e.aNum+"\\"+e.aDec;return e.allowedAutoStrip=new RegExp("[^"+c+"]","gi"),e.numRegAutoStrip=new RegExp(l+"(?:\\"+e.aDec+"?(\\d+\\"+e.aDec+"\\d+)|(\\d*(?:\\"+e.aDec+"\\d*)?))"),e}function a(t,e,n){if(e.aSign)for(;t.indexOf(e.aSign)>-1;)t=t.replace(e.aSign,"");t=t.replace(e.skipFirstAutoStrip,"$1$2"),t=t.replace(e.skipLastAutoStrip,"$1"),t=t.replace(e.allowedAutoStrip,""),e.altDec&&(t=t.replace(e.altDec,e.aDec));var i=t.match(e.numRegAutoStrip);if(t=i?[i[1],i[2],i[3]].join(""):"",("allow"===e.lZero||"keep"===e.lZero)&&"strip"!==n){var o=[],r="";o=t.split(e.aDec),-1!==o[0].indexOf("-")&&(r="-",o[0]=o[0].replace("-","")),o[0].length>e.mInt&&"0"===o[0].charAt(0)&&(o[0]=o[0].slice(1)),t=r+o.join(e.aDec)}if(n&&"deny"===e.lZero||n&&"allow"===e.lZero&&e.allowLeading===!1){var a="^"+e.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");a=new RegExp(a),t=t.replace(a,"$1$2")}return t}function s(t,e){if("p"===e.pSign){var n=e.nBracket.split(",");e.hasFocus||e.removeBrackets?(e.hasFocus&&t.charAt(0)===n[0]||e.removeBrackets&&t.charAt(0)===n[0])&&(t=t.replace(n[0],e.aNeg),t=t.replace(n[1],"")):(t=t.replace(e.aNeg,""),t=n[0]+t+n[1])}return t}function l(t,e){if(t){var n=+t;if(1e-6>n&&n>-1)t=+t,1e-6>t&&t>0&&(t=(t+10).toString(),t=t.substring(1)),0>t&&t>-1&&(t=(t-10).toString(),t="-"+t.substring(2)),t=t.toString();else{var i=t.split(".");void 0!==i[1]&&(0===+i[1]?t=i[0]:(i[1]=i[1].replace(/0*$/,""),t=i.join(".")))}}return"keep"===e.lZero?t:t.replace(/^0*(\d)/,"$1")}function c(t,e,n){return e&&"."!==e&&(t=t.replace(e,".")),n&&"-"!==n&&(t=t.replace(n,"-")),t.match(/\d/)||(t+="0"),t}function u(t,e,n){return n&&"-"!==n&&(t=t.replace("-",n)),e&&"."!==e&&(t=t.replace(".",e)),t}function d(t,e,n){return""===t||t===e.aNeg?"zero"===e.wEmpty?t+"0":"sign"===e.wEmpty||n?t+e.aSign:t:null}function p(t,e){t=a(t,e);var n=t.replace(",","."),i=d(t,e,!0);if(null!==i)return i;var o="";o=2===e.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===e.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var r=t.split(e.aDec);e.altDec&&1===r.length&&(r=t.split(e.altDec));var l=r[0];if(e.aSep)for(;o.test(l);)l=l.replace(o,"$1"+e.aSep+"$2");if(0!==e.mDec&&r.length>1?(r[1].length>e.mDec&&(r[1]=r[1].substring(0,e.mDec)),t=l+e.aDec+r[1]):t=l,e.aSign){var c=-1!==t.indexOf(e.aNeg);t=t.replace(e.aNeg,""),t="p"===e.pSign?e.aSign+t:t+e.aSign,c&&(t=e.aNeg+t)}return 0>n&&null!==e.nBracket&&(t=s(t,e)),t}function h(t,e){t=""===t?"0":t.toString(),o(e,"mDec"),"CHF"===e.mRound&&(t=(Math.round(20*t)/20).toString());var n="",i=0,r="",a="boolean"==typeof e.aPad||null===e.aPad?e.aPad?e.mDec:0:+e.aPad,s=function(t){var e=0===a?/(\.(?:\d*[1-9])?)0*$/:1===a?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+a+"}(?:\\d*[1-9])?)0*$");return t=t.replace(e,"$1"),0===a&&(t=t.replace(/\.$/,"")),t};"-"===t.charAt(0)&&(r="-",t=t.replace("-","")),t.match(/^\d/)||(t="0"+t),"-"===r&&0===+t&&(r=""),(+t>0&&"keep"!==e.lZero||t.length>0&&"allow"===e.lZero)&&(t=t.replace(/^0*(\d)/,"$1"));var l=t.lastIndexOf("."),c=-1===l?t.length-1:l,u=t.length-1-c;if(u<=e.mDec){if(n=t,a>u){-1===l&&(n+=e.aDec);for(var d="000000";a>u;)d=d.substring(0,a-u),n+=d,u+=d.length}else u>a?n=s(n):0===u&&0===a&&(n=n.replace(/\.$/,""));if("CHF"!==e.mRound)return 0===+n?n:r+n;"CHF"===e.mRound&&(l=n.lastIndexOf("."),t=n)}var p=l+e.mDec,h=+t.charAt(p+1),f=t.substring(0,p+1).split(""),m="."===t.charAt(p)?t.charAt(p-1)%2:t.charAt(p)%2,g=!0;if(1!==m&&(m=0===m&&t.substring(p+2,t.length)>0?1:0),h>4&&"S"===e.mRound||h>4&&"A"===e.mRound&&""===r||h>5&&"A"===e.mRound&&"-"===r||h>5&&"s"===e.mRound||h>5&&"a"===e.mRound&&""===r||h>4&&"a"===e.mRound&&"-"===r||h>5&&"B"===e.mRound||5===h&&"B"===e.mRound&&1===m||h>0&&"C"===e.mRound&&""===r||h>0&&"F"===e.mRound&&"-"===r||h>0&&"U"===e.mRound||"CHF"===e.mRound)for(i=f.length-1;i>=0;i-=1)if("."!==f[i]){if("CHF"===e.mRound&&f[i]<=2&&g){f[i]=0,g=!1;break}if("CHF"===e.mRound&&f[i]<=7&&g){f[i]=5,g=!1;break}if("CHF"===e.mRound&&g?(f[i]=10,g=!1):f[i]=+f[i]+1,f[i]<10)break;i>0&&(f[i]="0")}return f=f.slice(0,p+1),n=s(f.join("")),0===+n?n:r+n}function f(t,e,n){var i=e.aDec,o=e.mDec;if(t="paste"===n?h(t,e):t,i&&o){var r=t.split(i);r[1]&&r[1].length>o&&(o>0?(r[1]=r[1].substring(0,o),t=r.join(i)):t=r[0])}return t}function m(t,e){t=a(t,e),t=f(t,e),t=c(t,e.aDec,e.aNeg);var n=+t;return n>=e.vMin&&n<=e.vMax}function g(e,n){this.settings=n,this.that=e,this.$that=t(e),this.formatted=!1,this.settingsClone=r(this.$that,this.settings),this.value=e.value}function v(e){return"string"==typeof e&&(e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),e="#"+e.replace(/(:|\.)/g,"\\$1")),t(e)}function y(t,e,n){var i=t.data("autoNumeric");i||(i={},t.data("autoNumeric",i));var o=i.holder;return(void 0===o&&e||n)&&(o=new g(t.get(0),e),i.holder=o),o}g.prototype={init:function(t){this.value=this.that.value,this.settingsClone=r(this.$that,this.settings),this.ctrlKey=t.ctrlKey,this.cmdKey=t.metaKey,this.shiftKey=t.shiftKey,this.selection=e(this.that),("keydown"===t.type||"keyup"===t.type)&&(this.kdCode=t.keyCode),this.which=t.which,this.processed=!1,this.formatted=!1},setSelection:function(t,e,i){t=Math.max(t,0),e=Math.min(e,this.that.value.length),this.selection={start:t,end:e,length:e-t},(void 0===i||i)&&n(this.that,t,e)},setPosition:function(t,e){this.setSelection(t,t,e)},getBeforeAfter:function(){var t=this.value,e=t.substring(0,this.selection.start),n=t.substring(this.selection.end,t.length);return[e,n]},getBeforeAfterStriped:function(){var t=this.getBeforeAfter();return t[0]=a(t[0],this.settingsClone),t[1]=a(t[1],this.settingsClone),t},normalizeParts:function(t,e){var n=this.settingsClone;e=a(e,n);var i=!!e.match(/^\d/)||"leading";t=a(t,n,i),""!==t&&t!==n.aNeg||"deny"!==n.lZero||e>""&&(e=e.replace(/^0*(\d)/,"$1"));var o=t+e;if(n.aDec){var r=o.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));r&&(t=t.replace(r[1],r[1]+"0"),o=t+e)}return"zero"!==n.wEmpty||o!==n.aNeg&&""!==o||(t+="0"),[t,e]},setValueParts:function(t,e,n){var i=this.settingsClone,o=this.normalizeParts(t,e),r=o.join(""),a=o[0].length;return!!m(r,i)&&(r=f(r,i,n),a>r.length&&(a=r.length),this.value=r,this.setPosition(a,!1),!0)},signPosition:function(){var t=this.settingsClone,e=t.aSign,n=this.that;if(e){var i=e.length;if("p"===t.pSign){var o=t.aNeg&&n.value&&n.value.charAt(0)===t.aNeg;return o?[1,i+1]:[0,i]}var r=n.value.length;return[r-i,r]}return[1e3,-1]},expandSelectionOnSign:function(t){var e=this.signPosition(),n=this.selection;n.start<e[1]&&n.end>e[0]&&((n.start<e[0]||n.end>e[1])&&this.value.substring(Math.max(n.start,e[0]),Math.min(n.end,e[1])).match(/^\s*$/)?n.start<e[0]?this.setSelection(n.start,e[0],t):this.setSelection(e[1],n.end,t):this.setSelection(Math.min(n.start,e[0]),Math.max(n.end,e[1]),t))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var t=this.getBeforeAfter(),e=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,t[0]=t[0].substr(0,e[0].length)+a(t[0].substr(e[0].length),this.settingsClone),this.setValueParts(t[0],t[1],"paste")||(this.value=e.join(""),this.setPosition(e[0].length,!1))}},skipAllways:function(t){var e=this.kdCode,n=this.which,i=this.ctrlKey,o=this.cmdKey,r=this.shiftKey;if((i||o)&&"keyup"===t.type&&void 0!==this.valuePartsBeforePaste||r&&45===e)return this.checkPaste(),!1;if(e>=112&&123>=e||e>=91&&93>=e||e>=9&&31>=e||8>e&&(0===n||n===e)||144===e||145===e||45===e||224===e)return!0;if((i||o)&&65===e)return!0;if((i||o)&&(67===e||86===e||88===e))return"keydown"===t.type&&this.expandSelectionOnSign(),(86===e||45===e)&&("keydown"===t.type||"keypress"===t.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===t.type||"keypress"===t.type||67===e;if(i||o)return!0;if(37===e||39===e){var a=this.settingsClone.aSep,s=this.selection.start,l=this.that.value;return"keydown"===t.type&&a&&!this.shiftKey&&(37===e&&l.charAt(s-2)===a?this.setPosition(s-1):39===e&&l.charAt(s+1)===a&&this.setPosition(s+1)),!0}return e>=34&&40>=e},processAllways:function(){var t;return(8===this.kdCode||46===this.kdCode)&&(this.selection.length?(this.expandSelectionOnSign(!1),t=this.getBeforeAfterStriped(),this.setValueParts(t[0],t[1])):(t=this.getBeforeAfterStriped(),8===this.kdCode?t[0]=t[0].substring(0,t[0].length-1):t[1]=t[1].substring(1,t[1].length),this.setValueParts(t[0],t[1])),!0)},processKeypress:function(){var t=this.settingsClone,e=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),i=n[0],o=n[1];return e===t.aDec||t.altDec&&e===t.altDec||("."===e||","===e)&&110===this.kdCode?!t.mDec||!t.aDec||(!!(t.aNeg&&o.indexOf(t.aNeg)>-1)||(i.indexOf(t.aDec)>-1||(o.indexOf(t.aDec)>0||(0===o.indexOf(t.aDec)&&(o=o.substr(1)),this.setValueParts(i+t.aDec,o),!0)))):"-"===e||"+"===e?!t.aNeg||(""===i&&o.indexOf(t.aNeg)>-1&&(i=t.aNeg,o=o.substring(1,o.length)),i=i.charAt(0)===t.aNeg?i.substring(1,i.length):"-"===e?t.aNeg+i:i,this.setValueParts(i,o),!0):!(e>="0"&&"9">=e)||(t.aNeg&&""===i&&o.indexOf(t.aNeg)>-1&&(i=t.aNeg,o=o.substring(1,o.length)),t.vMax<=0&&t.vMin<t.vMax&&-1===this.value.indexOf(t.aNeg)&&"0"!==e&&(i=t.aNeg+i),this.setValueParts(i+e,o),!0)},formatQuick:function(){var t=this.settingsClone,e=this.getBeforeAfterStriped(),n=this.value;if((""===t.aSep||""!==t.aSep&&-1===n.indexOf(t.aSep))&&(""===t.aSign||""!==t.aSign&&-1===n.indexOf(t.aSign))){var i=[],o="";i=n.split(t.aDec),i[0].indexOf("-")>-1&&(o="-",i[0]=i[0].replace("-",""),e[0]=e[0].replace("-","")),i[0].length>t.mInt&&"0"===e[0].charAt(0)&&(e[0]=e[0].slice(1)),e[0]=o+e[0]}var r=p(this.value,this.settingsClone),a=r.length;if(r){var s=e[0].split(""),l=0;for(l;l<s.length;l+=1)s[l].match("\\d")||(s[l]="\\"+s[l]);var c=new RegExp("^.*?"+s.join(".*?")),u=r.match(c);u?(a=u[0].length,(0===a&&r.charAt(0)!==t.aNeg||1===a&&r.charAt(0)===t.aNeg)&&t.aSign&&"p"===t.pSign&&(a=this.settingsClone.aSign.length+("-"===r.charAt(0)?1:0))):t.aSign&&"s"===t.pSign&&(a-=t.aSign.length)}this.that.value=r,this.setPosition(a),this.formatted=!0}};var b={init:function(e){return this.each(function(){var i=t(this),o=i.data("autoNumeric"),r=i.data(),l=i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");if("object"==typeof o)return this;o=t.extend({},t.fn.autoNumeric.defaults,r,e,{aNum:"0123456789",hasFocus:!1,removeBrackets:!1,runOnce:!1,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"]}),o.aDec===o.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+o.aDec+"' and thousand separator aSep: '"+o.aSep+"' are the same character"),i.data("autoNumeric",o);var f=y(i,o);if(l||"input"!==i.prop("tagName").toLowerCase()||t.error('The input type "'+i.prop("type")+'" is not supported by autoNumeric()'),-1===t.inArray(i.prop("tagName").toLowerCase(),o.tagList)&&"input"!==i.prop("tagName").toLowerCase()&&t.error("The <"+i.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),o.runOnce===!1&&o.aForm){if(l){var g=!0;""===i[0].value&&"empty"===o.wEmpty&&(i[0].value="",g=!1),""===i[0].value&&"sign"===o.wEmpty&&(i[0].value=o.aSign,g=!1),g&&""!==i.val()&&(null===o.anDefault&&i[0].value===i.prop("defaultValue")||null!==o.anDefault&&o.anDefault.toString()===i.val())&&i.autoNumeric("set",i.val())}-1!==t.inArray(i.prop("tagName").toLowerCase(),o.tagList)&&""!==i.text()&&i.autoNumeric("set",i.text())}o.runOnce=!0,i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(i.on("keydown.autoNumeric",function(e){return f=y(i),f.settings.aDec===f.settings.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+f.settings.aDec+"' and thousand separator aSep: '"+f.settings.aSep+"' are the same character"),f.that.readOnly?(f.processed=!0,!0):(f.init(e),f.skipAllways(e)?(f.processed=!0,!0):f.processAllways()?(f.processed=!0,f.formatQuick(),e.preventDefault(),!1):(f.formatted=!1,!0))}),i.on("keypress.autoNumeric",function(t){f=y(i);var e=f.processed;return f.init(t),!!f.skipAllways(t)||(e?(t.preventDefault(),!1):f.processAllways()||f.processKeypress()?(f.formatQuick(),t.preventDefault(),!1):void(f.formatted=!1))}),i.on("keyup.autoNumeric",function(t){f=y(i),f.init(t);var e=f.skipAllways(t);return f.kdCode=0,delete f.valuePartsBeforePaste,i[0].value===f.settings.aSign&&("s"===f.settings.pSign?n(this,0,0):n(this,f.settings.aSign.length,f.settings.aSign.length)),!!e||(""===this.value||void(f.formatted||f.formatQuick()))}),i.on("focusin.autoNumeric",function(){f=y(i);var t=f.settingsClone;if(t.hasFocus=!0,null!==t.nBracket){var e=i.val();i.val(s(e,t))}f.inVal=i.val();var n=d(f.inVal,t,!0);null!==n&&""!==n&&i.val(n)}),i.on("focusout.autoNumeric",function(){f=y(i);var t=f.settingsClone,e=i.val(),n=e;t.hasFocus=!1;var o="";"allow"===t.lZero&&(t.allowLeading=!1,o="leading"),""!==e&&(e=a(e,t,o),null===d(e,t)&&m(e,t,i[0])?(e=c(e,t.aDec,t.aNeg),e=h(e,t),e=u(e,t.aDec,t.aNeg)):e="");var r=d(e,t,!1);null===r&&(r=p(e,t)),(r!==f.inVal||r!==n)&&(i.val(r),i.change(),delete f.inVal)}))})},destroy:function(){return t(this).each(function(){var e=t(this);e.off(".autoNumeric"),e.removeData("autoNumeric")})},update:function(e){return t(this).each(function(){var n=v(t(this)),i=n.data("autoNumeric");"object"!=typeof i&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");var o=n.autoNumeric("get");return i=t.extend(i,e),y(n,i,!0),i.aDec===i.aSep&&t.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),n.data("autoNumeric",i),""!==n.val()||""!==n.text()?n.autoNumeric("set",o):void 0})},set:function(e){return null!==e?t(this).each(function(){var n=v(t(this)),i=n.data("autoNumeric"),o=e.toString(),r=e.toString(),a=n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");return"object"!=typeof i&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),r!==n.attr("value")&&r!==n.text()||i.runOnce!==!1||(o=o.replace(",",".")),t.isNumeric(+o)||t.error("The value ("+o+") being 'set' is not numeric and has caused a error to be thrown"),o=l(o,i),i.setEvent=!0,o.toString(),""!==o&&(o=h(o,i)),o=u(o,i.aDec,i.aNeg),m(o,i)||(o=h("",i)),o=p(o,i),a?n.val(o):-1!==t.inArray(n.prop("tagName").toLowerCase(),i.tagList)&&n.text(o)}):void 0},get:function(){var e=v(t(this)),n=e.data("autoNumeric");"object"!=typeof n&&t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");var i="";return e.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?i=e.eq(0).val():-1!==t.inArray(e.prop("tagName").toLowerCase(),n.tagList)?i=e.eq(0).text():t.error("The <"+e.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),""===i&&"empty"===n.wEmpty||i===n.aSign&&("sign"===n.wEmpty||"empty"===n.wEmpty)?"":(""!==i&&null!==n.nBracket&&(n.removeBrackets=!0,i=s(i,n),n.removeBrackets=!1),(n.runOnce||n.aForm===!1)&&(i=a(i,n)),i=c(i,n.aDec,n.aNeg),0===+i&&"keep"!==n.lZero&&(i="0"),"keep"===n.lZero?i:i=l(i,n))},getString:function(){var e=!1,n=v(t(this)),i=n.serialize(),o=i.split("&"),r=t("form").index(n),a=t("form:eq("+r+")"),s=[],l=[],c=/^(?:submit|button|image|reset|file)$/i,u=/^(?:input|select|textarea|keygen)/i,d=/^(?:checkbox|radio)$/i,p=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,h=0;return t.each(a[0],function(t,e){""===e.name||!u.test(e.localName)||c.test(e.type)||e.disabled||!e.checked&&d.test(e.type)?l.push(-1):(l.push(h),h+=1)}),h=0,t.each(a[0],function(t,e){"input"!==e.localName||""!==e.type&&"text"!==e.type&&"hidden"!==e.type&&"tel"!==e.type?(s.push(-1),"input"===e.localName&&p.test(e.type)&&(h+=1)):(s.push(h),h+=1)}),t.each(o,function(n,i){i=o[n].split("=");var a=t.inArray(n,l);if(a>-1&&s[a]>-1){var c=t("form:eq("+r+") input:eq("+s[a]+")"),u=c.data("autoNumeric");"object"==typeof u&&null!==i[1]&&(i[1]=t("form:eq("+r+") input:eq("+s[a]+")").autoNumeric("get").toString(),o[n]=i.join("="),e=!0)}}),e||t.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),o.join("&")},getArray:function(){var e=!1,n=v(t(this)),i=n.serializeArray(),o=t("form").index(n),r=t("form:eq("+o+")"),a=[],s=[],l=/^(?:submit|button|image|reset|file)$/i,c=/^(?:input|select|textarea|keygen)/i,u=/^(?:checkbox|radio)$/i,d=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,p=0;return t.each(r[0],function(t,e){""===e.name||!c.test(e.localName)||l.test(e.type)||e.disabled||!e.checked&&u.test(e.type)?s.push(-1):(s.push(p),p+=1)}),p=0,t.each(r[0],function(t,e){"input"!==e.localName||""!==e.type&&"text"!==e.type&&"hidden"!==e.type&&"tel"!==e.type?(a.push(-1),"input"===e.localName&&d.test(e.type)&&(p+=1)):(a.push(p),p+=1)}),t.each(i,function(n,i){var r=t.inArray(n,s);if(r>-1&&a[r]>-1){var l=t("form:eq("+o+") input:eq("+a[r]+")"),c=l.data("autoNumeric");"object"==typeof c&&(i.value=t("form:eq("+o+") input:eq("+a[r]+")").autoNumeric("get").toString(),e=!0)}}),e||t.error("None of the successful form inputs are initialized by autoNumeric."),i},getSettings:function(){var e=v(t(this));return e.eq(0).data("autoNumeric")}};t.fn.autoNumeric=function(e){return b[e]?b[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Method "'+e+'" is not supported by autoNumeric()'):b.init.apply(this,arguments)},t.fn.autoNumeric.defaults={aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",sNumber:!0,aForm:!0,anDefault:null}}),!function(t,e){"use strict";var n,i,o={getPath:function(){var t=document.scripts,e=t[t.length-1],n=e.src;if(!e.getAttribute("merge"))return n.substring(0,n.lastIndexOf("/")+1)}(),enter:function(t){13===t.keyCode&&t.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},r={v:"2.2",ie6:!!t.ActiveXObject&&!t.XMLHttpRequest,index:0,path:o.getPath,config:function(t,e){var i=0;return t=t||{},r.cache=o.config=n.extend(o.config,t),r.path=o.config.path||r.path,"string"==typeof t.extend&&(t.extend=[t.extend]),r.use("skin/layer.css",t.extend&&t.extend.length>0?function a(){var n=t.extend;r.use(n[n[i]?i:i-1],i<n.length?function(){return++i,a}():e)}():e),this},use:function(t,e,i){var o=n("head")[0],t=t.replace(/\s/g,""),a=/\.css$/.test(t),s=document.createElement(a?"link":"script"),l="layui_layer_"+t.replace(/\.|\//g,"");return r.path?(a&&(s.rel="stylesheet"),s[a?"href":"src"]=/^http:\/\//.test(t)?t:r.path+t,s.id=l,n("#"+l)[0]||o.appendChild(s),function c(){(a?1989===parseInt(n("#"+l).css("width")):r[i||l])?function(){e&&e();try{a||o.removeChild(s)}catch(t){}}():setTimeout(c,100)}(),this):void 0},ready:function(t,e){var i="function"==typeof t;return i&&(e=t),r.config(n.extend(o.config,function(){return i?{}:{path:t}}()),e),this},alert:function(t,e,i){var o="function"==typeof e;return o&&(i=e),r.open(n.extend({content:t,yes:i},o?{}:e))},confirm:function(t,e,i,a){var s="function"==typeof e;return s&&(a=i,i=e),r.open(n.extend({content:t,btn:o.btn,yes:i,cancel:a},s?{}:e))},msg:function(t,i,a){var l="function"==typeof i,c=o.config.skin,u=(c?c+" "+c+"-msg":"")||"layui-layer-msg",d=s.anim.length-1;return l&&(a=i),r.open(n.extend({content:t,time:3e3,shade:!1,skin:u,title:!1,closeBtn:!1,btn:!1,end:a},l&&!o.config.skin?{skin:u+" layui-layer-hui",shift:d}:function(){return i=i||{},(-1===i.icon||i.icon===e&&!o.config.skin)&&(i.skin=u+" "+(i.skin||"layui-layer-hui")),i}()))},load:function(t,e){return r.open(n.extend({type:3,icon:t||0,shade:.01},e))},tips:function(t,e,i){return r.open(n.extend({type:4,content:[t,e],closeBtn:!1,time:3e3,shade:!1,maxWidth:210},i))}},a=function(t){var e=this;e.index=++r.index,e.config=n.extend({},e.config,o.config,t),e.creat()};a.pt=a.prototype;var s=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];s.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],a.pt.config={type:0,shade:.3,fix:!0,move:s[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},a.pt.vessel=function(t,e){var n=this,i=n.index,r=n.config,a=r.zIndex+i,l="object"==typeof r.title,c=r.maxmin&&(1===r.type||2===r.type),u=r.title?'<div class="layui-layer-title" style="'+(l?r.title[1]:"")+'">'+(l?r.title[0]:r.title)+"</div>":"";return r.zIndex=a,e([r.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+i+'" times="'+i+'" style="'+("z-index:"+(a-1)+"; background-color:"+(r.shade[1]||"#000")+"; opacity:"+(r.shade[0]||r.shade)+"; filter:alpha(opacity="+(100*r.shade[0]||100*r.shade)+");")+'"></div>':"",'<div class="'+s[0]+" "+(s.anim[r.shift]||"")+(" layui-layer-"+o.type[r.type])+(0!=r.type&&2!=r.type||r.shade?"":" layui-layer-border")+" "+(r.skin||"")+'" id="'+s[0]+i+'" type="'+o.type[r.type]+'" times="'+i+'" showtime="'+r.time+'" conType="'+(t?"object":"string")+'" style="z-index: '+a+"; width:"+r.area[0]+";height:"+r.area[1]+(r.fix?"":";position:absolute;")+'">'+(t&&2!=r.type?"":u)+'<div id="'+(r.id||"")+'" class="layui-layer-content'+(0==r.type&&-1!==r.icon?" layui-layer-padding":"")+(3==r.type?" layui-layer-loading"+r.icon:"")+'">'+(0==r.type&&-1!==r.icon?'<i class="layui-layer-ico layui-layer-ico'+r.icon+'"></i>':"")+(1==r.type&&t?"":r.content||"")+'</div><span class="layui-layer-setwin">'+function(){var t=c?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return r.closeBtn&&(t+='<a class="layui-layer-ico '+s[7]+" "+s[7]+(r.title?r.closeBtn:4==r.type?"1":"2")+'" href="javascript:;"></a>'),t}()+"</span>"+(r.btn?function(){var t="";"string"==typeof r.btn&&(r.btn=[r.btn]);for(var e=0,n=r.btn.length;n>e;e++)t+='<a class="'+s[6]+e+'">'+r.btn[e]+"</a>";return'<div class="'+s[6]+'">'+t+"</div>"}():"")+"</div>"],u),n},a.pt.creat=function(){var t=this,e=t.config,a=t.index,l=e.content,c="object"==typeof l;if(!n("#"+e.id)[0]){switch("string"==typeof e.area&&(e.area="auto"===e.area?["",""]:[e.area,""]),e.type){case 0:e.btn="btn"in e?e.btn:o.btn[0],r.closeAll("dialog");break;case 2:var l=e.content=c?e.content:[e.content||"http://layer.layui.com","auto"];e.content='<iframe scrolling="'+(e.content[1]||"auto")+'" allowtransparency="true" id="'+s[4]+a+'" name="'+s[4]+a+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+e.content[0]+'"></iframe>';break;case 3:e.title=!1,e.closeBtn=!1,-1===e.icon&&0===e.icon,r.closeAll("loading");break;case 4:c||(e.content=[e.content,"body"]),e.follow=e.content[1],e.content=e.content[0]+'<i class="layui-layer-TipsG"></i>',e.title=!1,e.fix=!1,e.tips="object"==typeof e.tips?e.tips:[e.tips,!0],e.tipsMore||r.closeAll("tips")}t.vessel(c,function(i,o){n("body").append(i[0]),c?function(){2==e.type||4==e.type?function(){n("body").append(i[1])}():function(){l.parents("."+s[0])[0]||(l.show().addClass("layui-layer-wrap").wrap(i[1]),n("#"+s[0]+a).find("."+s[5]).before(o))}()}():n("body").append(i[1]),t.layero=n("#"+s[0]+a),e.scrollbar||s.html.css("overflow","hidden").attr("layer-full",a)}).auto(a),2==e.type&&r.ie6&&t.layero.find("iframe").attr("src",l[0]),n(document).off("keydown",o.enter).on("keydown",o.enter),t.layero.on("keydown",function(t){n(document).off("keydown",o.enter)}),4==e.type?t.tips():t.offset(),e.fix&&i.on("resize",function(){t.offset(),(/^\d+%$/.test(e.area[0])||/^\d+%$/.test(e.area[1]))&&t.auto(a),4==e.type&&t.tips()}),e.time<=0||setTimeout(function(){r.close(t.index)},e.time),t.move().callback()}},a.pt.auto=function(t){function e(t){t=a.find(t),t.height(l[1]-c-u-2*(0|parseFloat(t.css("padding"))))}var o=this,r=o.config,a=n("#"+s[0]+t);""===r.area[0]&&r.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&r.btn&&a.width(a.innerWidth()),a.outerWidth()>r.maxWidth&&a.width(r.maxWidth));var l=[a.innerWidth(),a.innerHeight()],c=a.find(s[1]).outerHeight()||0,u=a.find("."+s[6]).outerHeight()||0;switch(r.type){case 2:e("iframe");break;default:""===r.area[1]?r.fix&&l[1]>=i.height()&&(l[1]=i.height(),e("."+s[5])):e("."+s[5])}return o},a.pt.offset=function(){var t=this,e=t.config,n=t.layero,o=[n.outerWidth(),n.outerHeight()],r="object"==typeof e.offset;t.offsetTop=(i.height()-o[1])/2,t.offsetLeft=(i.width()-o[0])/2,r?(t.offsetTop=e.offset[0],t.offsetLeft=e.offset[1]||t.offsetLeft):"auto"!==e.offset&&(t.offsetTop=e.offset,"rb"===e.offset&&(t.offsetTop=i.height()-o[1],t.offsetLeft=i.width()-o[0])),e.fix||(t.offsetTop=/%$/.test(t.offsetTop)?i.height()*parseFloat(t.offsetTop)/100:parseFloat(t.offsetTop),t.offsetLeft=/%$/.test(t.offsetLeft)?i.width()*parseFloat(t.offsetLeft)/100:parseFloat(t.offsetLeft),t.offsetTop+=i.scrollTop(),t.offsetLeft+=i.scrollLeft()),n.css({top:t.offsetTop,left:t.offsetLeft})},a.pt.tips=function(){var t=this,e=t.config,o=t.layero,r=[o.outerWidth(),o.outerHeight()],a=n(e.follow);a[0]||(a=n("body"));var l={width:a.outerWidth(),height:a.outerHeight(),top:a.offset().top,left:a.offset().left},c=o.find(".layui-layer-TipsG"),u=e.tips[0];e.tips[1]||c.remove(),l.autoLeft=function(){l.left+r[0]-i.width()>0?(l.tipLeft=l.left+l.width-r[0],c.css({right:12,left:"auto"})):l.tipLeft=l.left},l.where=[function(){l.autoLeft(),l.tipTop=l.top-r[1]-10,c.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",e.tips[1])},function(){l.tipLeft=l.left+l.width+10,l.tipTop=l.top,c.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",e.tips[1])},function(){l.autoLeft(),l.tipTop=l.top+l.height+10,c.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",e.tips[1])},function(){l.tipLeft=l.left-r[0]-10,l.tipTop=l.top,c.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",e.tips[1])}],l.where[u-1](),1===u?l.top-(i.scrollTop()+r[1]+16)<0&&l.where[2]():2===u?i.width()-(l.left+l.width+r[0]+16)>0||l.where[3]():3===u?l.top-i.scrollTop()+l.height+r[1]+16-i.height()>0&&l.where[0]():4===u&&r[0]+16-l.left>0&&l.where[1](),o.find("."+s[5]).css({"background-color":e.tips[1],"padding-right":e.closeBtn?"30px":""}),o.css({left:l.tipLeft,top:l.tipTop})},a.pt.move=function(){var t=this,e=t.config,o={setY:0,moveLayer:function(){var t=o.layero,e=parseInt(t.css("margin-left")),n=parseInt(o.move.css("left"));0===e||(n-=e),"fixed"!==t.css("position")&&(n-=t.parent().offset().left,o.setY=0),t.css({left:n,top:parseInt(o.move.css("top"))-o.setY})}},r=t.layero.find(e.move);return e.move&&r.attr("move","ok"),r.css({cursor:e.move?"move":"auto"}),n(e.move).on("mousedown",function(t){if(t.preventDefault(),"ok"===n(this).attr("move")){o.ismove=!0,o.layero=n(this).parents("."+s[0]);var r=o.layero.offset().left,a=o.layero.offset().top,l=o.layero.outerWidth()-6,c=o.layero.outerHeight()-6;n("#layui-layer-moves")[0]||n("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+r+"px; top:"+a+"px; width:"+l+"px; height:"+c+'px; z-index:2147483584"></div>'),o.move=n("#layui-layer-moves"),e.moveType&&o.move.css({visibility:"hidden"}),o.moveX=t.pageX-o.move.position().left,o.moveY=t.pageY-o.move.position().top,"fixed"!==o.layero.css("position")||(o.setY=i.scrollTop())}}),n(document).mousemove(function(t){if(o.ismove){var n=t.pageX-o.moveX,r=t.pageY-o.moveY;if(t.preventDefault(),!e.moveOut){o.setY=i.scrollTop();var a=i.width()-o.move.outerWidth(),s=o.setY;0>n&&(n=0),n>a&&(n=a),s>r&&(r=s),r>i.height()-o.move.outerHeight()+o.setY&&(r=i.height()-o.move.outerHeight()+o.setY)}o.move.css({left:n,top:r}),e.moveType&&o.moveLayer(),n=r=a=s=null}}).mouseup(function(){try{o.ismove&&(o.moveLayer(),o.move.remove(),e.moveEnd&&e.moveEnd()),o.ismove=!1}catch(t){o.ismove=!1}}),t},a.pt.callback=function(){function t(){var t=a.cancel&&a.cancel(e.index);t===!1||r.close(e.index)}var e=this,i=e.layero,a=e.config;e.openLayer(),a.success&&(2==a.type?i.find("iframe").on("load",function(){a.success(i,e.index)}):a.success(i,e.index)),r.ie6&&e.IE6(i),i.find("."+s[6]).children("a").on("click",function(){var o=n(this).index();a["btn"+(o+1)]&&a["btn"+(o+1)](e.index,i),0===o?a.yes?a.yes(e.index,i):r.close(e.index):1===o?t():a["btn"+(o+1)]||r.close(e.index)}),i.find("."+s[7]).on("click",t),a.shadeClose&&n("#layui-layer-shade"+e.index).on("click",function(){r.close(e.index)}),i.find(".layui-layer-min").on("click",function(){r.min(e.index,a),a.min&&a.min(i)}),i.find(".layui-layer-max").on("click",function(){n(this).hasClass("layui-layer-maxmin")?(r.restore(e.index),a.restore&&a.restore(i)):(r.full(e.index,a),a.full&&a.full(i))}),a.end&&(o.end[e.index]=a.end)},o.reselect=function(){n.each(n("select"),function(t,e){var i=n(this);i.parents("."+s[0])[0]||1==i.attr("layer")&&n("."+s[0]).length<1&&i.removeAttr("layer").show(),i=null})},a.pt.IE6=function(t){function e(){t.css({top:r+(o.config.fix?i.scrollTop():0)})}var o=this,r=t.offset().top;e(),i.scroll(e),n("select").each(function(t,e){var i=n(this);i.parents("."+s[0])[0]||"none"===i.css("display")||i.attr({layer:"1"}).hide(),i=null})},a.pt.openLayer=function(){var t=this;r.zIndex=t.config.zIndex,r.setTop=function(t){var e=function(){r.zIndex++,t.css("z-index",r.zIndex+1)};return r.zIndex=parseInt(t[0].style.zIndex),t.on("mousedown",e),r.zIndex}},o.record=function(t){var e=[t.outerWidth(),t.outerHeight(),t.position().top,t.position().left+parseFloat(t.css("margin-left"))];t.find(".layui-layer-max").addClass("layui-layer-maxmin"),t.attr({area:e})},o.rescollbar=function(t){s.html.attr("layer-full")==t&&(s.html[0].style.removeProperty?s.html[0].style.removeProperty("overflow"):s.html[0].style.removeAttribute("overflow"),s.html.removeAttr("layer-full"))},t.layer=r,r.getChildFrame=function(t,e){return e=e||n("."+s[4]).attr("times"),n("#"+s[0]+e).find("iframe").contents().find(t)},r.getFrameIndex=function(t){return n("#"+t).parents("."+s[4]).attr("times")},r.iframeAuto=function(t){if(t){var e=r.getChildFrame("html",t).outerHeight(),i=n("#"+s[0]+t),o=i.find(s[1]).outerHeight()||0,a=i.find("."+s[6]).outerHeight()||0;i.css({height:e+o+a}),i.find("iframe").css({height:e})}},r.iframeSrc=function(t,e){n("#"+s[0]+t).find("iframe").attr("src",e)},r.style=function(t,e){var i=n("#"+s[0]+t),r=i.attr("type"),a=i.find(s[1]).outerHeight()||0,l=i.find("."+s[6]).outerHeight()||0;
(r===o.type[1]||r===o.type[2])&&(i.css(e),r===o.type[2]&&i.find("iframe").css({height:parseFloat(e.height)-a-l}))},r.min=function(t,e){var i=n("#"+s[0]+t),a=i.find(s[1]).outerHeight()||0;o.record(i),r.style(t,{width:180,height:a,overflow:"hidden"}),i.find(".layui-layer-min").hide(),"page"===i.attr("type")&&i.find(s[4]).hide(),o.rescollbar(t)},r.restore=function(t){var e=n("#"+s[0]+t),i=e.attr("area").split(",");e.attr("type"),r.style(t,{width:parseFloat(i[0]),height:parseFloat(i[1]),top:parseFloat(i[2]),left:parseFloat(i[3]),overflow:"visible"}),e.find(".layui-layer-max").removeClass("layui-layer-maxmin"),e.find(".layui-layer-min").show(),"page"===e.attr("type")&&e.find(s[4]).show(),o.rescollbar(t)},r.full=function(t){var e,a=n("#"+s[0]+t);o.record(a),s.html.attr("layer-full")||s.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(e),e=setTimeout(function(){var e="fixed"===a.css("position");r.style(t,{top:e?0:i.scrollTop(),left:e?0:i.scrollLeft(),width:i.width(),height:i.height()}),a.find(".layui-layer-min").hide()},100)},r.title=function(t,e){var i=n("#"+s[0]+(e||r.index)).find(s[1]);i.html(t)},r.close=function(t){var e=n("#"+s[0]+t),i=e.attr("type");if(e[0]){if(i===o.type[1]&&"object"===e.attr("conType")){e.children(":not(."+s[5]+")").remove();for(var a=0;2>a;a++)e.find(".layui-layer-wrap").unwrap().hide()}else{if(i===o.type[2])try{var l=n("#"+s[4]+t)[0];l.contentWindow.document.write(""),l.contentWindow.close(),e.find("."+s[5])[0].removeChild(l)}catch(c){}e[0].innerHTML="",e.remove()}n("#layui-layer-moves, #layui-layer-shade"+t).remove(),r.ie6&&o.reselect(),o.rescollbar(t),n(document).off("keydown",o.enter),"function"==typeof o.end[t]&&o.end[t](),delete o.end[t]}},r.closeAll=function(t){n.each(n("."+s[0]),function(){var e=n(this),i=t?e.attr("type")===t:1;i&&r.close(e.attr("times")),i=null})},o.run=function(){n=jQuery,i=n(t),s.html=n("html"),r.open=function(t){var e=new a(t);return e.index}},"function"==typeof define?define(function(){return o.run(),r}):function(){o.run(),r.use("skin/layer.css")}()}(window),!function(){var t,e,n,i,o,r,a,s,l,c,u,d,p,h,f,m,g,v,y,b,w,x,k,C,T,S,$,_,A,I,E,D,O,R,N,P,M,L,F,j,B,U,H,z,q,K,W,G,Z,V,Q,Y,X,J,tt,et,nt,it,ot,rt,at,st,lt,ct,ut=[].slice,dt=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};t=jQuery,t.formance={},t.formance.fn={},t.fn.formance=function(){var e,n;return n=arguments[0],e=2<=arguments.length?ut.call(arguments,1):[],t.formance.fn[n].apply(this,e)},et=function(e){var n,i;return n=t(e.target),!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(i=String.fromCharCode(e.which),!!/[\d\s]/.test(i))))},V=function(e){var n,i;return n=t(e.target),!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(i=String.fromCharCode(e.which),!!/[\d\sA-Za-z]/.test(i))))},U=function(t){var e;return null!=t.prop("selectionStart")&&t.prop("selectionStart")!==t.prop("selectionEnd")||!("undefined"==typeof document||null===document||null==(e=document.selection)||"function"!=typeof e.createRange||!e.createRange().text)},t.formance.fn.restrictNumeric=function(){return this.on("keypress",et),this},t.formance.fn.restrictAlphaNumeric=function(){return this.on("keypress",V),this},t.formance.fn.hasTextSelected=U,t=jQuery,U=t.formance.fn.hasTextSelected,o=/(\d{1,4})/g,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:o,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:o,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:o,length:[13,14,15,16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,o;for(t=(t+"").replace(/\D/g,""),n=0,o=i.length;n<o;n++)if(e=i[n],e.pattern.test(t))return e},n=function(t){var e,n,o;for(n=0,o=i.length;n<o;n++)if(e=i[n],e.type===t)return e},Q=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i))return o=n.val()+i,o.length<=4},t.formance.fn.format_credit_card_cvc=function(){return this.formance("restrictNumeric"),this.on("keypress",Q),this},t.formance.fn.validate_credit_card_cvc=function(){var e,i,o,r;return i=t(this).data("credit_card_type"),e=t(this).val(),e=t.trim(e),!!/^\d+$/.test(e)&&(i?(o=e.length,dt.call(null!=(r=n(i))?r.cvcLength:void 0,o)>=0):e.length>=3&&e.length<=4)},t=jQuery,U=t.formance.fn.hasTextSelected,tt=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/\D/g,""),!(o.length>6)&&void 0},b=function(e){var n,i,o;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val()+i,/^\d$/.test(o)&&"0"!==o&&"1"!==o?(e.preventDefault(),n.val("0"+o+" / ")):/^\d\d$/.test(o)?(e.preventDefault(),n.val(""+o+" / ")):void 0},k=function(e){var n,i,o;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),/^\d\d$/.test(o)?n.val(""+o+" / "):void 0},S=function(e){var n,i,o;if(i=String.fromCharCode(e.which),"/"===i)return n=t(e.currentTarget),o=n.val(),/^\d$/.test(o)&&"0"!==o?n.val("0"+o+" / "):void 0},l=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},t.formance.fn.format_credit_card_expiry=function(){return this.formance("restrictNumeric"),this.on("keypress",tt),this.on("keypress",b),this.on("keypress",S),this.on("keypress",k),this.on("keydown",l),this},z=function(t){var e,n,i,o,r;return i=t.replace(/\s/g,""),r=i.split("/",2),e=r[0],o=r[1],2===(null!=o?o.length:void 0)&&/^\d+$/.test(o)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),o=n+o),e=parseInt(e,10),o=parseInt(o,10),{month:e,year:o}},t.formance.fn.val_credit_card_expiry=function(){var t;return t=z(this.val()),null!=t.month&&!isNaN(t.month)&&(null!=t.year&&!isNaN(t.year)&&new Date(t.year,t.month-1))},t.formance.fn.validate_credit_card_expiry=function(){var e,n,i,o,r,a,s;return i=z(this.val()),o=i.month,a=i.year,"object"==typeof o&&"month"in o&&(s=o,o=s.month,a=s.year),!(!o||!a)&&(o=t.trim(o),a=t.trim(a),!!/^\d+$/.test(o)&&(!!/^\d+$/.test(a)&&(parseInt(o,10)<=12&&(2===a.length&&(r=(new Date).getFullYear(),r=r.toString().slice(0,2),a=r+a),n=new Date(a,o),e=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),n>e))))},t=jQuery,U=t.formance.fn.hasTextSelected,o=/(\d{1,4})/g,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:o,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:o,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:o,length:[13,14,15,16],cvcLength:[3],luhn:!0}],e=function(t){var e,n,o;for(t=(t+"").replace(/\D/g,""),n=0,o=i.length;n<o;n++)if(e=i[n],e.pattern.test(t))return e},n=function(t){var e,n,o;for(n=0,o=i.length;n<o;n++)if(e=i[n],e.type===t)return e},H=function(t){var e,n,i,o,r,a;for(i=!0,o=0,n=(t+"").split("").reverse(),r=0,a=n.length;r<a;r++)e=n[r],e=parseInt(e,10),(i=!i)&&(e*=2),e>9&&(e-=9),o+=e;return o%10===0},Y=function(n){var i,o,r,a;if(i=t(n.currentTarget),r=String.fromCharCode(n.which),/^\d+$/.test(r)&&!U(i))return a=(i.val()+r).replace(/\D/g,""),o=e(a),o?a.length<=o.length[o.length.length-1]:a.length<=16},G=function(e){return setTimeout(function(){var n,i;return n=t(e.currentTarget),i=n.val(),i=t.formance.formatCardNumber(i),n.val(i)})},g=function(n){var i,o,r,a,s,l,c;if(r=String.fromCharCode(n.which),/^\d+$/.test(r)&&(i=t(n.currentTarget),c=i.val(),o=e(c+r),a=(c.replace(/\D/g,"")+r).length,l=16,o&&(l=o.length[o.length.length-1]),!(a>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==c.length)))return s=o&&"amex"===o.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,s.test(c)?(n.preventDefault(),i.val(c+" "+r)):s.test(c+r)?(n.preventDefault(),i.val(c+r+" ")):void 0},r=function(e){var n,i;if(n=t(e.currentTarget),i=n.val(),!e.meta&&8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length))return/\d\s$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d\s$/,""))):/\s\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},ct=function(e){var n,o,r,a,s;if(n=t(e.currentTarget),s=n.val(),a=t.formance.creditCardType(s)||"unknown",!n.hasClass(a))return o=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],n.push(r.type);return n}(),n.removeClass("unknown"),n.removeClass(o.join(" ")),n.addClass(a),n.toggleClass("identified","unknown"!==a),n.trigger("payment.cardType",a)},t.formance.creditCardType=function(t){var n;return t?(null!=(n=e(t))?n.type:void 0)||null:null},t.formance.formatCreditCardNumber=function(t){var n,i,o,r;return(n=e(t))?(o=n.length[n.length.length-1],t=t.replace(/\D/g,""),t=t.slice(0,+o+1||9e9),n.format.global?null!=(r=t.match(n.format))?r.join(" "):void 0:(i=n.format.exec(t),null!=i&&i.shift(),null!=i?i.join(" "):void 0)):t},t.formance.fn.format_credit_card_number=function(){return this.formance("restrictNumeric"),this.on("keypress",Y),this.on("keypress",g),this.on("keydown",r),this.on("keyup",ct),this.on("paste",G),this},t.formance.fn.validate_credit_card_number=function(){var n,i,o;return i=t(this).val(),i=(i+"").replace(/\s+|-/g,""),!!/^\d+$/.test(i)&&(n=e(i),!!n&&(o=i.length,dt.call(n.length,o)>=0&&(n.luhn===!1||H(i))))},t=jQuery,U=t.formance.fn.hasTextSelected,X=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/\D/g,""),!(o.length>8)&&void 0},v=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),r=o+i,/^\d$/.test(r)&&"0"!==i&&"1"!==i&&"2"!==i&&"3"!==i?(e.preventDefault(),n.val("0"+r+" / ")):/^\d{2}$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):/^\d{2}\s\/\s\d$/.test(r)&&"0"!==i&&"1"!==i?(e.preventDefault(),n.val(""+o+"0"+i+" / ")):/^\d{2}\s\/\s\d{2}$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):void 0},w=function(e){var n,i,o;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),/^\d{2}$/.test(o)||/^\d{2}\s\/\s\d{2}$/.test(o)?n.val(""+o+" / "):void 0},C=function(e){var n,i,o,r,a,s,l,c,u;if(l=String.fromCharCode(e.which),"/"===l)return n=t(e.currentTarget),c=n.val(),a=/^(\d)$/,s=/^(\d{2})\s\/\s(\d)$/,a.test(c)&&"0"!==c?n.val("0"+c+" / "):s.test(c)&&(u=c.match(s),i=u[0],o=u[1],r=u[2],"0"!==r)?n.val(""+o+" / 0"+r+" / "):void 0},a=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},t.formance.fn.format_dd_mm_yyyy=function(){return this.formance("restrictNumeric"),this.on("keypress",X),this.on("keypress",v),this.on("keypress",C),this.on("keypress",w),this.on("keydown",a),this},q=function(t){var e,n,i,o;return o=null!=t?t.replace(/\s/g,"").split("/",3):[NaN,NaN,NaN],e=o[0],n=o[1],i=o[2],null!=i&&4===i.length||(i=NaN),e=parseInt(e,10),n=parseInt(n,10),i=parseInt(i,10),{day:e,month:n,year:i}},t.formance.fn.val_dd_mm_yyyy=function(){var t;return t=q(this.val()),null!=t.day&&!isNaN(t.day)&&(null!=t.month&&!isNaN(t.month)&&(null!=t.year&&!isNaN(t.year)&&new Date(t.year,t.month-1,t.day)))},t.formance.fn.validate_dd_mm_yyyy=function(){var t,e;return e=q(this.val()),t=this.formance("val_dd_mm_yyyy"),null!=t&&t instanceof Date&&(t.getDate()===e.day&&(t.getMonth()+1===e.month&&t.getFullYear()===e.year))},t=jQuery,U=t.formance.fn.hasTextSelected,t.formance.fn.format_email=function(){return this},t.formance.fn.validate_email=function(){var e,n,i,o;return n={simple:/^\S+@\S+$/,complex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\ ".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA -Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},e=t(this),i=e.val(),null!=i&&(o=e.data("formance_algorithm"),null!=o&&o in n?n[o].test(i):n.simple.test(i))},t=jQuery,t.formance.fn.format_number=function(){var e;return e=t(this).data("formance_length"),null!=e&&t(this).attr("maxLength",e),this.formance("restrictNumeric"),this},t.formance.fn.validate_number=function(){var e,n,i;if(e=t(this),i=e.val(),n=e.data("formance_length"),null!=n&&"number"==typeof n&&i.length!==n)return!1;if(null!=n&&"string"==typeof n&&""!==n){if(isNaN(parseInt(n,10)))return!1;if(i.length!==parseInt(n,10))return!1}return/^\d+$/.test(i)},t=jQuery,U=t.formance.fn.hasTextSelected,nt=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^[a-zA-Z\d]+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/[^a-zA-Z\d]/g,""),!(o.length>15)&&void 0},I=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^[a-zA-Z\d]+$/.test(i))if(n=t(e.currentTarget),o=n.val(),r=o+i.toUpperCase(),""===o){if(e.preventDefault(),/^[A-Za-z]$/.test(r))return n.val(r)}else if(/^[A-Za-z]\d{0,3}$/.test(o)){if(e.preventDefault(),/^[A-Za-z]\d{4}$/.test(r)&&(r=""+r+" - "),/^[A-Za-z]\d{0,4}[\s|\-]*$/.test(r))return n.val(r)}else if(/^[A-Za-z]\d{4}[\s|\-]*\d{0,4}$/.test(o)&&(e.preventDefault(),/^[A-Za-z]\d{4}[\s|\-]*\d{5}$/.test(r)&&(r=""+r+" - "),/^[A-Za-z]\d{4}[\s|\-]*\d{0,5}[\s|\-]*$/.test(r)))return n.val(r)},c=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\-)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\-)+$/,""))):void 0},O=function(e){return setTimeout(function(){var n,i,o,r,a,s,l;return n=t(e.currentTarget),s=n.val(),l=s.match(/^([A-Za-z\d]{5})[\s|\-]*(\d{5})[\s|\-]*(\d{5})$/),o=l[0],i=l[1],a=l[2],r=l[3],n.val(""+i+" - "+a+" - "+r)})},t.formance.fn.format_ontario_drivers_license_number=function(){return this.formance("restrictAlphaNumeric"),this.on("keypress",nt),this.on("keypress",I),this.on("keydown",c),this.on("paste",O),this},t.formance.fn.validate_ontario_drivers_license_number=function(){var e,n;return n=t(this).val(),null!=n&&(n=n.replace(/[\s|\-]/g,""),!!/^[a-zA-Z\d]+$/.test()&&(e=/^[A-Za-z]\d{4}[\s|\-]*\d{5}[\s|\-]*\d{5}$/,e.test(n)))},t=jQuery,U=t.formance.fn.hasTextSelected,it=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/\D/g,""),!(o.length>15)&&void 0},E=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),r=n.val()+i,""===o?(e.preventDefault(),r=/^7$/.test(r)?"708158 ":"708158 "+r,n.val(r)):/^\d{5}$/.test(o)&&(e.preventDefault(),/^\d{6}$/.test(r)&&(r=""+r+" "),/^\d{6}\s*$/.test(r))?target.val(r):void 0},u=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/708158\s+$/.test(i)?(e.preventDefault(),n.val(i.replace(/708158\s+$/,""))):void 0},R=function(e){return setTimeout(function(){var n,i,o,r,a,s;return n=t(e.currentTarget),a=n.val(),s=a.match(/^(\d{6})\s*(\d{9})$/),o=s[0],i=s[1],r=s[2],n.val(""+i+" "+r)})},t.formance.fn.format_ontario_outdoors_card_number=function(){return this.formance("restrictNumeric"),this.on("keypress",it),this.on("keypress",E),this.on("keydown",u),this.on("paste",R),this},t.formance.fn.validate_ontario_outdoors_card_number=function(){var e,n;return n=t(this).val(),null!=n&&(n=n.replace(/\s/g,""),!!/^\d+$/.test(n)&&(e=/^708158\s*\d{9}$/,e.test(n)))},t=jQuery,U=t.formance.fn.hasTextSelected,ot=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^[a-zA-Z\d]+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/[^a-zA-Z\d]/g,""),!(o.length>12)&&void 0},D=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^[a-zA-Z\d]+$/.test(i))if(n=t(e.currentTarget),o=n.val(),r=o+i.toUpperCase(),/^\d{0,3}$/.test(o)){if(e.preventDefault(),/^\d{4}$/.test(r)&&(r=""+r+" - "),/^\d{0,4}[\s|\-]*$/.test(r))return n.val(r)}else if(/^\d{4}[\s|\-]*\d{0,2}$/.test(o)){if(e.preventDefault(),/^\d{4}[\s|\-]*\d{3}$/.test(r)&&(r=""+r+" - "),/^\d{4}[\s|\-]*\d{0,3}[\s|\-]*$/.test(r))return n.val(r)}else if(/^\d{4}[\s|\-]*\d{3}[\s|\-]*\d{0,2}$/.test(o)){if(e.preventDefault(),/^\d{4}[\s|\-]*\d{3}[\s|\-]*\d{3}$/.test(r)&&(r=""+r+" - "),/^\d{4}[\s|\-]*\d{3}[\s|\-]*\d{0,3}[\s|\-]*$/.test(r))return n.val(r)}else if(/^\d{4}[\s|\-]*\d{3}[\s|\-]*\d{3}[\s|\-]*[A-Za-z]{0,1}$/.test(o)&&(e.preventDefault(),/^\d{4}[\s|\-]*\d{3}[\s|\-]*\d{3}[\s|\-]*[A-Za-z]{0,2}$/.test(r)))return n.val(r)},d=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\-)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\-)+$/,""))):void 0},N=function(e){return setTimeout(function(){var n,i,o,r,a,s,l,c;return n=t(e.currentTarget),l=n.val(),c=l.match(/^(\d{4})[\s|\-]*(\d{3})[\s|\-]*(\d{3})[\s|\-]*([A-Za-z]{2})$/),o=c[0],i=c[1],a=c[2],s=c[3],r=c[4],n.val(""+i+" - "+a+" - "+s+" - "+r)})},t.formance.fn.format_ontario_photo_health_card_number=function(){return this.formance("restrictAlphaNumeric"),this.on("keypress",ot),this.on("keypress",D),this.on("keydown",d),this.on("paste",N),this},t.formance.fn.validate_ontario_photo_health_card_number=function(){var e,n;return n=t(this).val(),null!=n&&(n=n.replace(/[\s|\-]/g,""),!!/^[a-zA-Z\d]+$/.test()&&(e=/^\d{4}[\s|\-]*\d{3}[\s|\-]*\d{3}[\s|\-]*[A-Za-z]{2}$/,e.test(n)))},t=jQuery,U=t.formance.fn.hasTextSelected,Z=function(t){var e,n,i,o,r,a;return o=t.replace(/\D/g,"").match(/^(\d{0,3})?(\d{0,3})?(\d{0,4})?$/),a=o,o=a[0],e=a[1],n=a[2],i=a[3],r="",null!=e&&(r+="("+e),3===(null!=e?e.length:void 0)&&(r+=") "),null!=n&&(r+=""+n),3===(null!=n?n.length:void 0)&&(r+=" - "),null!=i&&(r+=""+i),r},rt=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/\D/g,""),!(o.length>10)&&void 0},L=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),r=n.val()+i,o=Z(r),e.preventDefault(),n.val(o)},p=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\(\d$/.test(i)?(e.preventDefault(),n.val("")):/\d\)(\s)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d\)(\s)*$/,""))):/\d(\s|\-)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\-)+$/,""))):void 0},P=function(e){return setTimeout(function(){var n,i,o;return n=t(e.currentTarget),o=n.val(),i=Z(o),n.val(i)})},t.formance.fn.format_phone_number=function(){return this.formance("restrictNumeric"),this.on("keypress",rt),this.on("keypress",L),this.on("keydown",p),this.on("paste",P),this},t.formance.fn.validate_phone_number=function(){var e;return e=t(this).val(),null!=e&&(e=e.replace(/\(|\)|\s+|-/g,""),!!/^\d+$/.test(e)&&10===e.replace(/\D/g,"").length)},t=jQuery,U=t.formance.fn.hasTextSelected,at=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^[a-zA-Z\d]+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/[^a-zA-Z\d]/g,""),!(o.length>6)&&void 0},F=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^[a-zA-Z\d]+$/.test(i))if(n=t(e.currentTarget),o=n.val(),r=o+i.toUpperCase(),""===o){if(e.preventDefault(),/^[ABCEFGHJKLMNPRSTVXY]$/.test(r))return n.val(r)}else if(/^[ABCEFGHJKLMNPRSTVXY]$/.test(o)){if(e.preventDefault(),/^[ABCEFGHJKLMNPRSTVXY][0-9]$/.test(r))return n.val(r)}else if(/^[ABCEFGHJKLMNPRSTVXY][0-9]$/.test(o)){if(e.preventDefault(),/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]$/.test(r))return n.val(""+r+" ")}else if(/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]\s$/.test(o)){if(e.preventDefault(),/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]\s?[0-9]$/.test(r))return n.val(r)}else if(/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]\s?[0-9]$/.test(o)){if(e.preventDefault(),/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]\s?[0-9][ABCEFGHJKLMNPRSTVWXYZ]$/.test(r))return n.val(r)}else if(/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]\s?[0-9][ABCEFGHJKLMNPRSTVWXYZ]$/.test(o)&&(e.preventDefault(),/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]\s?[0-9][ABCEFGHJKLMNPRSTVWXYZ][0-9]$/.test(r)))return n.val(r)},h=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/[ABCEFGHJKLMNPRSTVWXYZ](\s)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/[ABCEFGHJKLMNPRSTVWXYZ](\s)*$/,""))):void 0},M=function(e){return setTimeout(function(){var n,i,o,r,a,s;return n=t(e.currentTarget),a=n.val(),s=a.match(/^([ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ])\s?([0-9][ABCEFGHJKLMNPRSTVWXYZ][0-9])$/),o=s[0],i=s[1],r=s[2],n.val(""+i+" "+r)})},t.formance.fn.format_postal_code=function(){return this.formance("restrictAlphaNumeric"),this.on("keypress",at),this.on("keypress",F),this.on("keydown",h),this.on("paste",M),this},t.formance.fn.validate_postal_code=function(){var e;return e=t(this).val(),null!=e&&(e=e.replace(/\s+/g,""),!!/^[a-zA-Z\d]+$/.test(e)&&(e=e.replace(/[^a-zA-Z\d]/g,""),/^[ABCEFGHJKLMNPRSTVXY][0-9][ABCEFGHJKLMNPRSTVWXYZ]\s?[0-9][ABCEFGHJKLMNPRSTVWXYZ][0-9]$/.test(e.toUpperCase())))},t=jQuery,U=t.formance.fn.hasTextSelected,st=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/\D/g,""),!(o.length>4)&&void 0},j=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),r=o+i,/^\d{2}$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):/^\d{2}\s\/\s\d{1}$/.test(r)&&"0"!==i&&"1"!==i?(e.preventDefault(),n.val(""+o+"0"+i)):void 0},_=function(e){var n,i,o;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),/^\d{2}$/.test(o)?n.val(""+o+" / "):void 0},$=function(e){var n,i,o,r;if(o=String.fromCharCode(e.which),"/"===o)return n=t(e.currentTarget),r=n.val(),i=/^(\d)$/,i.test(r)&&2===r.length||1===r.length?n.val("0"+r+" / "):void 0},f=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},t.formance.fn.format_time_yy_mm=function(){return this.formance("restrictNumeric"),this.on("keypress",st),this.on("keypress",j),this.on("keypress",_),this.on("keypress",$),this.on("keydown",f),this},K=function(t){var e,n,i;return i=null!=t?t.replace(/\s/g,"").split("/",2):[NaN,NaN],n=i[0],e=i[1],e=parseInt(e,10),n=parseInt(n,10),{years:n,months:e}},t.formance.fn.val_time_yy_mm=function(){var t;return t=K(this.val()),null!=t.years&&!isNaN(t.years)&&(null!=t.months&&!isNaN(t.months)&&t)},t.formance.fn.validate_time_yy_mm=function(){var e,n,i;return n=K(this.val()),e=this.formance("val_time_yy_mm"),i=t(this).val(),e.months===n.months&&(e.years===n.years&&!!/^(\d{1}[\d{1}]*)[\s\/]*(\d{1}[\d{1}]*)[\s\/]*$/.test(i))},t=jQuery,U=t.formance.fn.hasTextSelected,lt=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/\D/g,""),!(o.length>6)&&void 0},A=function(e){var n,i,o;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),/^\d{2}$/.test(o)||/^\d{2}\s\-\s\d{2}$/.test(o)?n.val(""+o+" - "):void 0},m=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\-)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\-)+$/,""))):/\s\-\s?\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\-\s?\d?$/,""))):void 0},B=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),r=o+i,/^\d{2}$/.test(r)?(e.preventDefault(),n.val(""+r+" - ")):/^\d{2}\s\-\s\d{2}$/.test(r)?(e.preventDefault(),n.val(""+r+" - ")):void 0},t.formance.fn.format_uk_sort_code=function(t){return this.formance("restrictNumeric"),this.on("keypress",lt),this.on("keypress",B),this.on("keypress",A),this.on("keydown",m),this},t.formance.fn.validate_uk_sort_code=function(){var e;return e=t(this).val(),!!/^(\d{2})[\s\-]*(\d{2})[\s\-]*(\d{2})[\s]*$/.test(e)},t=jQuery,U=t.formance.fn.hasTextSelected,J=function(e){var n,i,o;if(n=t(e.currentTarget),i=String.fromCharCode(e.which),/^\d+$/.test(i)&&!U(n))return o=n.val()+i,o=o.replace(/\D/g,""),!(o.length>8)&&void 0},y=function(e){var n,i,o,r;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),r=o+i,/^\d{4}$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):/^\d{4}\s\/\s\d$/.test(r)&&"0"!==i&&"1"!==i?(e.preventDefault(),n.val(""+o+"0"+i+" / ")):/^\d{4}\s\/\s\d{2}$/.test(r)?(e.preventDefault(),n.val(""+r+" / ")):/^\d{4}\s\/\s\d{2}\s\/\s\d$/.test(r)&&"0"!==i&&"1"!==i&&"2"!==i&&"3"!==i?(e.preventDefault(),n.val(""+o+"0"+i)):void 0},x=function(e){var n,i,o;if(i=String.fromCharCode(e.which),/^\d+$/.test(i))return n=t(e.currentTarget),o=n.val(),/^\d{4}$/.test(o)||/^\d{4}\s\/\s\d{2}$/.test(o)?n.val(""+o+" / "):void 0},T=function(e){var n,i,o,r,a,s,l,c;if(a=String.fromCharCode(e.which),"/"===a)return n=t(e.currentTarget),s=n.val(),r=/^(\d{4})\s\/\s(\d)$/,r.test(s)&&(c=s.match(r),i=c[0],l=c[1],o=c[2],"0"!==o)?n.val(""+l+" / 0"+o+" / "):void 0},s=function(e){var n,i;if(!e.meta&&(n=t(e.currentTarget),i=n.val(),8===e.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(e.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(e.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},t.formance.fn.format_yyyy_mm_dd=function(){return this.formance("restrictNumeric"),this.on("keypress",J),this.on("keypress",y),this.on("keypress",T),this.on("keypress",x),this.on("keydown",s),this},W=function(t){var e,n,i,o;return o=null!=t?t.replace(/\s/g,"").split("/",3):[NaN,NaN,NaN],i=o[0],n=o[1],e=o[2],null!=i&&4===i.length||(i=NaN),e=parseInt(e,10),n=parseInt(n,10),i=parseInt(i,10),{day:e,month:n,year:i}},t.formance.fn.val_yyyy_mm_dd=function(){var t;return t=W(this.val()),null!=t.day&&!isNaN(t.day)&&(null!=t.month&&!isNaN(t.month)&&(null!=t.year&&!isNaN(t.year)&&new Date(t.year,t.month-1,t.day)))},t.formance.fn.validate_yyyy_mm_dd=function(){var t,e;return e=W(this.val()),t=this.formance("val_yyyy_mm_dd"),null!=t&&t instanceof Date&&(t.getDate()===e.day&&(t.getMonth()+1===e.month&&t.getFullYear()===e.year))}}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){"use strict";var t=function(t,e,n,i){var o={features:null,bind:function(t,e,n,i){var o=(i?"remove":"add")+"EventListener";e=e.split(" ");for(var r=0;e.length>r;r++)e[r]&&t[o](e[r],n,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var n=document.createElement(e||"div");return t&&(n.className=t),n},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,n){o.bind(t,e,n,!0)},removeClass:function(t,e){var n=RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){o.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},arraySearch:function(t,e,n){for(var i=t.length;i--;)if(t[i][n]===e)return i;return-1},extend:function(t,e,n){for(var i in e)if(e.hasOwnProperty(i)){if(n&&t.hasOwnProperty(i))continue;t[i]=e[i]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(o.features)return o.features;var t=o.createEl(),e=t.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!i.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10),a>=1&&8>a&&(i.isOldIOSPhone=!0))}var s=r.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;l=parseFloat(l),l>=1&&(4.4>l&&(i.isOldAndroid=!0),i.androidVersion=l),i.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var c,u,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],h=0;4>h;h++){n=p[h];for(var f=0;3>f;f++)c=d[f],u=n+(n?c.charAt(0).toUpperCase()+c.slice(1):c),!i[c]&&u in e&&(i[c]=u);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var m=0;i.raf=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-m)),i=window.setTimeout(function(){t(e+n)},n);return m=e+n,i},i.caf=function(t){clearTimeout(t)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=i,i}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(t,e,n,i){e=e.split(" ");for(var o,r=(i?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;e.length>s;s++)if(o=e[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;t[r]("on"+o,n["oldIE"+o])}else t[r]("on"+o,n)});var r=this,a=25,s=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,scaleMode:"fit",modal:!0,alwaysFadeIn:!1};o.extend(l,i);var c,u,d,p,h,f,m,g,v,y,b,w,x,k,C,T,S,$,_,A,I,E,D,O,R,N,P,M,L,F,j,B,U,H,z,q,K,W,G,Z,V,Q,Y,X,J,tt,et,nt,it,ot,rt,at,st,lt,ct,ut,dt,pt,ht,ft,mt,gt,vt,yt,bt=function(){return{x:0,y:0}},wt=0,xt=bt(),kt=bt(),Ct=bt(),Tt=bt(),St={},$t=0,_t=0,At=bt(),It=0,Et=!0,Dt=[],Ot={},Rt=function(t,e){o.extend(r,e.publicMethods),Dt.push(t)},Nt=function(t){var e=vt();return t>e-1?t-e:0>t?e+t:t},Pt={},Mt=function(t,e){return Pt[t]||(Pt[t]=[]),Pt[t].push(e)},Lt=function(t){var e=Pt[t];if(e){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;e.length>i;i++)e[i].apply(r,n)}},Ft=function(){return(new Date).getTime()},jt=function(t){ut=t,r.bg.style.opacity=t*l.bgOpacity},Bt=function(t,e,n,i){t[E]=w+e+"px, "+n+"px"+x+" scale("+i+")"},Ut=function(){ot&&Bt(ot,Ct.x,Ct.y,y)},Ht=function(t){Bt(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel)},zt=function(t,e){e[E]=w+t+"px, 0px"+x},qt=function(t,e){
if(!l.loop&&e){var n=p+(At.x*$t-t)/At.x,i=Math.round(t-xe.x);(0>n&&i>0||n>=vt()-1&&0>i)&&(t=xe.x+i*l.mainScrollEndFriction)}xe.x=t,zt(t,h)},Kt=function(t){return 1/nt*t*b},Wt=function(t,e){var n=ke[t]-st[t];return kt[t]+xt[t]+n-n*(e/b)},Gt=function(t,e){return t.x===e.x&&t.y===e.y},Zt=function(t,e){return a>Math.abs(t.x-e.x)&&a>Math.abs(t.y-e.y)},Vt=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Qt=function(){o.bind(document,"keydown",r),l.mouseUsed||o.bind(document,"mousemove",Jt),o.bind(window,"resize scroll",r),Lt("bindEvents")},Yt=function(){o.unbind(window,"resize",r),o.unbind(window,"scroll",v.scroll),o.unbind(document,"keydown",r),o.unbind(document,"mousemove",Jt),G&&o.unbind(window,m,r),Lt("unbindEvents")},Xt=null,Jt=function(){Xt&&(o.unbind(document,"mousemove",Jt),o.addClass(t,"pswp--has_mouse"),l.mouseUsed=!0,Lt("mouseUsed")),Xt=setTimeout(function(){Xt=null},100)},te=function(t,e){var n=Ye(r.currItem,St,t);return e&&(it=n),n},ee=function(t,e,n,i){return i===r.currItem.initialZoomLevel?(n[t]=r.currItem.initialPosition[t],!0):(n[t]=Wt(t,i),n[t]>e.min[t]?(n[t]=e.min[t],!0):n[t]<e.max[t]&&(n[t]=e.max[t],!0))},ne={},ie=0,oe=function(t){ne[t]&&(ne[t].raf&&N(ne[t].raf),ie--,delete ne[t])},re=function(t){ne[t]&&oe(t),ne[t]||(ie++,ne[t]={})},ae=function(){for(var t in ne)ne.hasOwnProperty(t)&&oe(t)},se=function(t,e,n,i,o,r,a){var s,l=Ft();re(t);var c=function(){if(ne[t]){if(s=Ft()-l,s>=i)return oe(t),r(n),void(a&&a());r((n-e)*o(s/i)+e),ne[t].raf=R(c)}};c()},le=function(e,n,i,r){B&&clearTimeout(B),mt=!0,ft=!0;var a;e.initialLayout?(a=e.initialLayout,e.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(p);var s=function(){oe("initialZoom"),i||(jt(1),n&&(n.style.display="block"),o.addClass(t,"pswp--animated-in"),Lt("initialZoom"+(i?"OutEnd":"InEnd"))),r&&r(),mt=!1},c=i?l.hideAnimationDuration:l.showAnimationDuration;return a&&void 0!==a.x&&c?(e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),i||(y=a.w/e.w,Ct.x=a.x,Ct.y=a.y-M,l.showHideOpacity&&(t.style.opacity=.001,t.style.webkitBackfaceVisibility="hidden"),Ut()),re("initialZoom"),i&&!d&&o.removeClass(t,"pswp--animated-in"),B=setTimeout(function(){if(Lt("initialZoom"+(i?"Out":"In")),i){var n=a.w/e.w,r={x:Ct.x,y:Ct.y},u=y,p=M,h=ut,f=function(e){C&&(p=o.getScrollY(),C=!1),1===e?(y=n,Ct.x=a.x,Ct.y=a.y-p,d&&s()):(y=(n-u)*e+u,Ct.x=(a.x-r.x)*e+r.x,Ct.y=(a.y-p-r.y)*e+r.y),Ut(),l.showHideOpacity?t.style.opacity=1-e:jt(h-e*h)};d?se("initialZoom",0,1,c,o.easing.cubic.out,f):(f(1),B=setTimeout(s,c+20))}else y=e.initialZoomLevel,Vt(Ct,e.initialPosition),Ut(),jt(1),l.showHideOpacity?t.style.opacity=1:jt(1),B=setTimeout(s,c+20)},i?25:90),!0):(Lt("initialZoom"+(i?"Out":"In")),y=e.initialZoomLevel,Vt(Ct,e.initialPosition),Ut(),t.style.opacity=i?0:1,jt(1),s(),!1)},ce={shout:Lt,listen:Mt,viewportSize:St,options:l,isMainScrollAnimating:function(){return rt},getZoomLevel:function(){return y},getCurrentIndex:function(){return p},isDragging:function(){return G},isZooming:function(){return tt},applyZoomPan:function(t,e,n){Ct.x=e,Ct.y=n,y=t,Ut()},init:function(){if(!c&&!u){var n;if(r.framework=o,r.template=t,r.bg=t.children[0],P=t.className,c=!0,j=o.detectFeatures(),R=j.raf,N=j.caf,E=j.transform,L=j.oldIE,r.scrollWrap=t.children[1],r.container=r.scrollWrap.children[0],h=r.container.style,E){var i=j.perspective&&!O;w="translate"+(i?"3d(":"("),x=j.perspective?", 0px)":")"}else E="left",o.addClass(t,"pswp--ie"),zt=function(t,e){e.left=t+"px"},Ht=function(t){var e=t.container.style,n=t.fitRatio*t.w,i=t.fitRatio*t.h;e.width=n+"px",e.height=i+"px",e.left=t.initialPosition.x+"px",e.top=t.initialPosition.y+"px"},Ut=function(){if(ot){var t=ot,e=r.currItem,n=e.fitRatio*e.w,i=e.fitRatio*e.h;t.width=n+"px",t.height=i+"px",t.left=Ct.x+"px",t.top=Ct.y+"px"}};var a=function(t,e,n,i,o){$=t+e,_=t+n,A=t+i,I=o?t+o:""};for(r.itemHolders=T=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],T[0].el.style.display=T[2].el.style.display="none",D=j.pointerEvent,D&&j.touch&&(j.touch=!1),D?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):j.touch?(a("touch","start","move","end","cancel"),O=!0):a("mouse","down","move","up"),m=_+" "+A+" "+I,g=$,D&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=O,(!j.animationName||!j.transform||j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera)&&(l.showAnimationDuration=l.hideAnimationDuration=0),n=0;Dt.length>n;n++)r["init"+Dt[n]]();if(e){var b=r.ui=new e(r,o);b.init()}O||(l.allowPanToNext=!1);var S;v={resize:r.updateSize,scroll:function(){C=!0,l.closeOnScroll&&c&&(!r.likelyTouchDevice||l.mouseUsed)&&Math.abs(o.getScrollY()-M)>2&&(d=!0,r.close())},keydown:function(t){S="",l.escKey&&27===t.keyCode?S="close":l.arrowKeys&&(37===t.keyCode?S="prev":39===t.keyCode&&(S="next")),S&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,r[S]()))}},v[$]=je,v[_]=Be,v[A]=He,I&&(v[I]=v[A]),j.touch&&(g+=" mousedown",m+=" mousemove mouseup",v.mousedown=v[$],v.mousemove=v[_],v.mouseup=v[A]),Lt("firstUpdate"),p=p||l.index||0,(isNaN(p)||0>p||p>=vt())&&(p=0),r.currItem=gt(p),(j.isOldIOSPhone||j.isOldAndroid)&&(Et=!1),l.modal&&(t.setAttribute("aria-hidden","false"),Et?t.style.position="fixed":(t.style.position="absolute",t.style.top=o.getScrollY()+"px")),void 0===F&&(Lt("initialLayout"),F=M=o.getScrollY());var B="pswp--open ";for(l.mainClass&&(B+=l.mainClass+" "),l.showHideOpacity&&(B+="pswp--animate_opacity "),B+=O?"pswp--touch":"pswp--notouch",B+=j.animationName?" pswp--css_animation":"",B+=j.svg?" pswp--svg":"",o.addClass(t,B),r.updateSize(),f=-1,It=null,n=0;s>n;n++)zt((n+f)*At.x,T[n].el.style);L||o.bind(r.scrollWrap,g,r),Mt("initialZoomInEnd",function(){r.setContent(T[0],p-1),r.setContent(T[2],p+1),T[0].el.style.display=T[2].el.style.display="block",l.focus&&t.focus(),Qt()}),r.setContent(T[1],p),r.updateCurrItem(),Lt("afterInit"),Et||(k=setInterval(function(){ie||G||tt||y!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),o.addClass(t,"pswp--visible")}},close:function(){c&&(c=!1,u=!0,Lt("close"),Yt(),le(r.currItem,null,!0,r.destroy))},destroy:function(){Lt("destroy"),B&&clearTimeout(B),l.modal&&(t.setAttribute("aria-hidden","true"),t.className=P),k&&clearInterval(k),o.unbind(r.scrollWrap,g,r),o.unbind(window,"scroll",r),Se(),ae(),Pt=null},panTo:function(t,e,n){n||(t>it.min.x?t=it.min.x:it.max.x>t&&(t=it.max.x),e>it.min.y?e=it.min.y:it.max.y>e&&(e=it.max.y)),Ct.x=t,Ct.y=e,Ut()},handleEvent:function(t){t=t||window.event,v[t.type]&&v[t.type](t)},goTo:function(t){t=Nt(t);var e=t-p;It=e,p=t,r.currItem=gt(p),$t-=e,qt(At.x*$t),ae(),rt=!1,r.updateCurrItem()},next:function(){r.goTo(p+1)},prev:function(){r.goTo(p-1)},updateCurrZoomItem:function(t){if(t&&Lt("beforeChange",0),T[1].el.children.length){var e=T[1].el.children[0];ot=o.hasClass(e,"pswp__zoom-wrap")?e.style:null}else ot=null;it=r.currItem.bounds,b=y=r.currItem.initialZoomLevel,Ct.x=it.center.x,Ct.y=it.center.y,t&&Lt("afterChange")},invalidateCurrItems:function(){for(var t=0;s>t;t++)T[t].item&&(T[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==It){var e,n=Math.abs(It);if(!(t&&2>n)){r.currItem=gt(p),Lt("beforeChange",It),n>=s&&(f+=It+(It>0?-s:s),n=s);for(var i=0;n>i;i++)It>0?(e=T.shift(),T[s-1]=e,f++,zt((f+2)*At.x,e.el.style),r.setContent(e,p-n+i+1+1)):(e=T.pop(),T.unshift(e),f--,zt(f*At.x,e.el.style),r.setContent(e,p+n-i-1-1));if(ot&&1===Math.abs(It)){var o=gt(S);o.initialZoomLevel!==y&&(Ye(o,St),Ht(o))}It=0,r.updateCurrZoomItem(),S=p,Lt("afterChange")}}},updateSize:function(e){if(!Et){var n=o.getScrollY();if(F!==n&&(t.style.top=n+"px",F=n),!e&&Ot.x===window.innerWidth&&Ot.y===window.innerHeight)return;Ot.x=window.innerWidth,Ot.y=window.innerHeight,t.style.height=Ot.y+"px"}if(St.x=r.scrollWrap.clientWidth,St.y=r.scrollWrap.clientHeight,st={x:0,y:F},At.x=St.x+Math.round(St.x*l.spacing),At.y=St.y,qt(At.x*$t),Lt("beforeResize"),void 0!==f)for(var i,a,c=0;s>c;c++)i=T[c],zt((c+f)*At.x,i.el.style),a=gt(i.index),a.needsUpdate&&(r.cleanSlide(a),r.setContent(i,i.index),1===c&&r.updateCurrZoomItem(!0),a.needsUpdate=!1),a&&a.container&&(Ye(a,St),Ht(a));b=y=r.currItem.initialZoomLevel,it=r.currItem.bounds,it&&(Ct.x=it.center.x,Ct.y=it.center.y,Ut()),Lt("resize")},zoomTo:function(t,e,n,i,r){e&&(b=y,ke.x=Math.abs(e.x)-Ct.x,ke.y=Math.abs(e.y)-Ct.y,Vt(kt,Ct));var a=te(t,!1),s={};ee("x",a,s,t),ee("y",a,s,t);var l=y,c={x:Ct.x,y:Ct.y},u=function(e){1===e?(y=t,Ct.x=s.x,Ct.y=s.y):(y=(t-l)*e+l,Ct.x=(s.x-c.x)*e+c.x,Ct.y=(s.y-c.y)*e+c.y),r&&r(e),Ut()};n?se("customZoomTo",0,1,n,i||o.easing.sine.inOut,u):u(1)}},ue=30,de=10,pe={},he={},fe={},me={},ge={},ve=[],ye={},be=[],we={},xe=bt(),ke=bt(),Ce=bt(),Te=function(t,e){return we.x=Math.abs(t.x-e.x),we.y=Math.abs(t.y-e.y),Math.sqrt(we.x*we.x+we.y*we.y)},Se=function(){Y&&(N(Y),Y=null)},$e=function(){G&&(Y=R($e),Ue())},_e=function(){return!("fit"===l.scaleMode&&y===r.currItem.initialZoomLevel)},Ae={},Ie=function(t,e){return Ae.prevent="A"!==t.target.tagName,Lt("preventDragEvent",t,e,Ae),Ae.prevent},Ee=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},De=function(t,e,n){n.x=.5*(t.x+e.x),n.y=.5*(t.y+e.y)},Oe=function(t,e,n){if(t-H>50){var i=be.length>2?be.shift():{};i.x=e,i.y=n,be.push(i),H=t}},Re=function(){var t=Ct.y-r.currItem.initialPosition.y;return 1-Math.abs(t/(St.y/2))},Ne={},Pe={},Me=[],Le=function(t){for(;Me.length>0;)Me.pop();return D?(pt=0,ve.forEach(function(t){0===pt?Me[0]=t:1===pt&&(Me[1]=t),pt++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(Me[0]=Ee(t.touches[0],Ne),t.touches.length>1&&(Me[1]=Ee(t.touches[1],Pe))):(Ne.x=t.pageX,Ne.y=t.pageY,Ne.id="",Me[0]=Ne),Me},Fe=function(t,e){var n,i,o=0,a=Ct[t]+e[t],s=e[t]>0,c=xe.x+e.x,u=xe.x-ye.x;n=a>it.min[t]||it.max[t]>a?l.panEndFriction:1,a=Ct[t]+e[t]*n;var d,p;return!l.allowPanToNext&&y!==r.currItem.initialZoomLevel||(ot?"h"!==at||"x"!==t||V||(s?(a>it.min[t]&&(n=l.panEndFriction,o=it.min[t]-a,i=it.min[t]-kt[t]),(0>=i||0>u)&&vt()>1?(p=c,0>u&&c>ye.x&&(p=ye.x)):it.min.x!==it.max.x&&(d=a)):(it.max[t]>a&&(n=l.panEndFriction,o=a-it.max[t],i=kt[t]-it.max[t]),(0>=i||u>0)&&vt()>1?(p=c,u>0&&ye.x>c&&(p=ye.x)):it.min.x!==it.max.x&&(d=a))):p=c,"x"!==t)?void(rt||X||y>r.currItem.fitRatio&&(Ct[t]+=e[t]*n)):(void 0!==p&&(qt(p,!0),X=p!==ye.x),it.min.x!==it.max.x&&(void 0!==d?Ct.x=d:X||(Ct.x+=e.x*n)),void 0!==p)},je=function(t){if(mt)return void t.preventDefault();if(!W||"mousedown"!==t.type){if(Ie(t,!0)&&t.preventDefault(),Lt("pointerDown"),D){var e=o.arraySearch(ve,t.pointerId,"id");0>e&&(e=ve.length),ve[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var n=Le(t),i=n.length;J=null,ae(),G&&1!==i||(G=lt=!0,o.bind(window,m,r),q=dt=ct=K=X=Q=Z=V=!1,at=null,Lt("firstTouchStart",n),Vt(kt,Ct),xt.x=xt.y=0,Vt(me,n[0]),Vt(ge,me),ye.x=At.x*$t,be=[{x:me.x,y:me.y}],H=U=Ft(),te(y,!0),Se(),$e()),!tt&&i>1&&!rt&&!X&&(b=y,V=!1,tt=Z=!0,xt.y=xt.x=0,Vt(kt,Ct),Vt(pe,n[0]),Vt(he,n[1]),De(pe,he,Ce),ke.x=Math.abs(Ce.x)-Ct.x,ke.y=Math.abs(Ce.y)-Ct.y,et=nt=Te(pe,he))}},Be=function(t){if(t.preventDefault(),D){var e=o.arraySearch(ve,t.pointerId,"id");if(e>-1){var n=ve[e];n.x=t.pageX,n.y=t.pageY}}if(G){var i=Le(t);if(at||Q||tt)J=i;else{var r=Math.abs(i[0].x-me.x)-Math.abs(i[0].y-me.y);Math.abs(r)>=de&&(at=r>0?"h":"v",J=i)}}},Ue=function(){if(J){var t=J.length;if(0!==t)if(Vt(pe,J[0]),fe.x=pe.x-me.x,fe.y=pe.y-me.y,tt&&t>1){if(me.x=pe.x,me.y=pe.y,!fe.x&&!fe.y&&Gt(J[1],he))return;Vt(he,J[1]),V||(V=!0,Lt("zoomGestureStarted"));var e=Te(pe,he),n=Kt(e);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(dt=!0);var i=1;if(r.currItem.minZoom>n)if(l.pinchToClose&&!dt&&r.currItem.initialZoomLevel>=b){var o=r.currItem.minZoom-n,a=1-o/(r.currItem.minZoom/1.2);jt(a),Lt("onPinchClose",a),ct=!0}else i=(r.currItem.minZoom-n)/r.currItem.minZoom,i>1&&(i=1),n=r.currItem.minZoom-i*(r.currItem.minZoom/3);else n>r.currItem.maxZoom&&(i=(n-r.currItem.maxZoom)/(6*r.currItem.minZoom),i>1&&(i=1),n=r.currItem.maxZoom+i*r.currItem.minZoom);1!==i&&0>i&&(i=0),et=e,De(pe,he,Tt),xt.x+=Tt.x-Ce.x,xt.y+=Tt.y-Ce.y,Vt(Ce,Tt),Ct.x=Wt("x",n),Ct.y=Wt("y",n),q=n>y,y=n,Ut()}else{if(!at)return;if(lt&&(lt=!1,Math.abs(fe.x)>=de&&(fe.x-=J[0].x-ge.x),Math.abs(fe.y)>=de&&(fe.y-=J[0].y-ge.y)),me.x=pe.x,me.y=pe.y,0===fe.x&&0===fe.y)return;if("v"===at&&l.closeOnVerticalDrag&&!_e()){xt.y+=fe.y,Ct.y+=fe.y;var s=Re();return K=!0,Lt("onVerticalDrag",s),jt(s),void Ut()}Oe(Ft(),pe.x,pe.y),Q=!0,it=r.currItem.bounds;var c=Fe("x",fe);c||Fe("y",fe),Ut()}}},He=function(t){if(j.isOldAndroid){if(W&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout(function(){W=0},600))}Lt("pointerUp"),Ie(t,!1)&&t.preventDefault();var e;if(D){var n=o.arraySearch(ve,t.pointerId,"id");if(n>-1)if(e=ve.splice(n,1)[0],navigator.pointerEnabled)e.type=t.pointerType||"mouse";else{var i={4:"mouse",2:"touch",3:"pen"};e.type=i[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}}var a,s=Le(t),l=s.length;if("mouseup"===t.type&&(l=0),2===l)return J=null,!0;1===l&&Vt(ge,s[0]),0!==l||at||rt||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),Lt("touchRelease",t,e));var c=-1;if(0===l&&(G=!1,o.unbind(window,m,r),Se(),tt?c=0:-1!==wt&&(c=Ft()-wt)),wt=1===l?Ft():-1,a=-1!==c&&150>c?"zoom":"swipe",tt&&2>l&&(tt=!1,1===l&&(a="zoomPointerUp"),Lt("zoomGestureEnded")),J=null,Q||V||rt||K)if(ae(),z||(z=ze()),z.calculateSwipeSpeed("x"),K){var u=Re();if(.6>u)r.close();else{var d=Ct.y,p=ut;se("verticalDrag",0,1,300,o.easing.cubic.out,function(t){Ct.y=(r.currItem.initialPosition.y-d)*t+d,jt((1-p)*t+p),Ut()}),Lt("onVerticalDrag",1)}}else{if((X||rt)&&0===l){var h=Ke(a,z);if(h)return;a="zoomPointerUp"}if(!rt)return"swipe"!==a?void We():void(!X&&y>r.currItem.fitRatio&&qe(z))}},ze=function(){var t,e,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){be.length>1?(t=Ft()-H+50,e=be[be.length-2][i]):(t=Ft()-U,e=ge[i]),n.lastFlickOffset[i]=me[i]-e,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickSpeed[i]=n.lastFlickDist[i]>20?n.lastFlickOffset[i]/t:0,.1>Math.abs(n.lastFlickSpeed[i])&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(t,e){n.backAnimStarted[t]||(Ct[t]>it.min[t]?n.backAnimDestination[t]=it.min[t]:Ct[t]<it.max[t]&&(n.backAnimDestination[t]=it.max[t]),void 0!==n.backAnimDestination[t]&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],.05>n.speedDecelerationRatioAbs[t]&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,se("bounceZoomPan"+t,Ct[t],n.backAnimDestination[t],e||300,o.easing.sine.out,function(e){Ct[t]=e,Ut()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,Ct[t]+=n.distanceOffset[t])},panAnimLoop:function(){return ne.zoomPan&&(ne.zoomPan.raf=R(n.panAnimLoop),n.now=Ft(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ut(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),.05>n.speedDecelerationRatioAbs.x&&.05>n.speedDecelerationRatioAbs.y)?void oe("zoomPan"):void 0}};return n},qe=function(t){return t.calculateSwipeSpeed("y"),it=r.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},.05>=Math.abs(t.lastFlickSpeed.x)&&.05>=Math.abs(t.lastFlickSpeed.y)?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(re("zoomPan"),t.lastNow=Ft(),void t.panAnimLoop())},Ke=function(t,e){var n;rt||(_t=p);var i;if("swipe"===t){var a=me.x-ge.x;a>ue&&(10>e.lastFlickDist.x||e.lastFlickOffset.x>20)?i=-1:-ue>a&&(10>e.lastFlickDist.x||-20>e.lastFlickOffset.x)&&(i=1)}var s;i&&(p+=i,0>p?(p=l.loop?vt()-1:0,s=!0):p>=vt()&&(p=l.loop?0:vt()-1,s=!0),(!s||l.loop)&&(It+=i,$t-=i,n=!0));var c,u=At.x*$t,d=Math.abs(u-xe.x);return n||u>xe.x==e.lastFlickSpeed.x>0?(c=Math.abs(e.lastFlickSpeed.x)>0?d/Math.abs(e.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,_t===p&&(n=!1),rt=!0,se("mainScroll",xe.x,u,c,o.easing.cubic.out,qt,function(){ae(),rt=!1,_t=-1,(n||_t!==p)&&r.updateCurrItem(),Lt("mainScrollAnimComplete")}),n&&r.updateCurrItem(!0),n},We=function(){var t=y;r.currItem.minZoom>y?t=r.currItem.minZoom:y>r.currItem.maxZoom&&(t=r.currItem.maxZoom);var e,n=1,i=ut;return ct&&!q&&!dt&&r.currItem.minZoom>y?(d=!0,r.close(),!0):(ct&&(e=function(t){jt((n-i)*t+i)}),r.zoomTo(t,0,300,o.easing.cubic.out,e),!0)},Ge={},Ze={},Ve=[],Qe={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return ht.length}},Ye=function(t,e,n){if(t.src){var i=!n;if(i&&(t.vGap||(t.vGap={top:0,bottom:0}),Lt("parseVerticalMargin",t)),Ge.x=e.x,Ge.y=e.y-t.vGap.top-t.vGap.bottom,i){var o=Ge.x/t.w,r=Ge.y/t.h;t.fitRatio=r>o?o:r,t.fillRatio=o>r?o:r;var a=l.scaleMode;"orig"===a?n=1:"fit"===a?n=t.fitRatio:"fill"===a&&(n=t.fillRatio),n>1&&(n=1),t.initialZoomLevel=n,t.maxZoom=2,t.doubleTapZoom=2*n>1?2*n:1,t.minZoom=n,t.bounds||(t.bounds={center:{},max:{},min:{}})}if(!n)return;Ze.x=t.w*n,Ze.y=t.h*n;var s=t.bounds;return s.center.x=Math.round((Ge.x-Ze.x)/2),s.center.y=Math.round((Ge.y-Ze.y)/2)+t.vGap.top,s.max.x=Ze.x>Ge.x?Math.round(Ge.x-Ze.x):s.center.x,s.max.y=Ze.y>Ge.y?Math.round(Ge.y-Ze.y)+t.vGap.top:s.center.y,s.min.x=Ze.x>Ge.x?0:s.center.x,s.min.y=Ze.y>Ge.y?t.vGap.top:s.center.y,i&&n===t.initialZoomLevel&&(t.initialPosition=s.center),s}return!1},Xe=function(t,e,n,i,o,a){var s;!o&&(O||l.alwaysFadeIn)&&(t===p||r.isMainScrollAnimating()||r.isDragging()&&!r.isZooming())&&(s=!0),i&&(s&&(i.style.opacity=0),e.imageAppended=!0,n.appendChild(i),s&&setTimeout(function(){i.style.opacity=1,a&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500)},50))},Je=function(t){t.loading=!0,t.loaded=!1;var e=t.img=o.createEl("pswp__img","img"),n=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=n,e.onerror=function(){t.loadError=!0,n()},e.src=t.src,e},tn=function(t,e){return t.loadError?(e.el.innerHTML=l.errorMsg.replace("%url%",t.src),!0):void 0},en=function(){if(Ve.length){for(var t,e=0;Ve.length>e;e++)t=Ve[e],t.holder.index===t.index&&Xe(t.index,t.item,t.baseDiv,t.img);Ve=[]}};Rt("Controller",{publicMethods:{lazyLoadItem:function(t){t=Nt(t);var e=gt(t);!e||e.loaded||e.loading||(Lt("gettingData",t,e),Je(e))},initController:function(){o.extend(l,Qe,!0),r.items=ht=n,gt=r.getItemAt,vt=l.getNumItemsFn,yt=l.loop,3>vt()&&(l.loop=!1),Mt("beforeChange",function(t){var e,n=l.preload,i=null===t||t>0,o=Math.min(n[0],vt()),a=Math.min(n[1],vt());for(e=1;(i?a:o)>=e;e++)r.lazyLoadItem(p+e);for(e=1;(i?o:a)>=e;e++)r.lazyLoadItem(p-e)}),Mt("initialLayout",function(){r.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(p)}),Mt("mainScrollAnimComplete",en),Mt("initialZoomInEnd",en),Mt("destroy",function(){for(var t,e=0;ht.length>e;e++)t=ht[e],t.container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);Ve=null})},getItemAt:function(t){return t>=0&&(void 0!==ht[t]&&ht[t])},allowProgressiveImg:function(){return l.forceProgressiveLoading||!O||l.mouseUsed||screen.width>1200},setContent:function(t,e){l.loop&&(e=Nt(e));var n=r.getItemAt(t.index);n&&(n.container=null);var i,a=r.getItemAt(e);if(a){if(Lt("gettingData",e,a),t.index=e,t.item=a,tn(a,t))return a.initialPosition.x=a.initialPosition.y=0,a.initialZoomLevel=a.maxZoom=a.minZoom=1,ot=null,a.w=50,a.h=50,void Ht(a);var s=a.container=o.createEl("pswp__zoom-wrap");if(a.loaded)i=o.createEl("pswp__img","img"),i.style.webkitBackfaceVisibility="hidden",i.style.opacity=1,i.src=a.src,Xe(e,a,s,i,!0);else{if(a.loadComplete=function(n){if(c){if(n.img.style.webkitBackfaceVisibility="hidden",t.index===e){if(tn(n,t))return void(n.img=null);n.imageAppended?!mt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):rt||mt?Ve.push({item:n,baseDiv:s,img:n.img,index:e,holder:t}):Xe(e,n,s,n.img,rt||mt)}n.loadComplete=null,n.img=null,Lt("imageLoadComplete",e,n)}},o.features.transform){var u=o.createEl("pswp__img pswp__img--placeholder"+(a.msrc?"":" pswp__img--placeholder--blank"),a.msrc?"img":"");a.msrc&&(u.src=a.msrc),u.style.width=a.w+"px",u.style.height=a.h+"px",s.appendChild(u),a.placeholder=u}a.loading||Je(a),r.allowProgressiveImg()&&(ft?Xe(e,a,s,a.img,!0,!0):Ve.push({item:a,baseDiv:s,img:a.img,index:e,holder:t}))}Ye(a,St),ft||e!==p?Ht(a):(ot=s.style,le(a,i||a.img)),t.el.innerHTML="",t.el.appendChild(s)}else t.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var nn,on={},rn=function(t,e,n){var i=document.createEvent("CustomEvent");i.initCustomEvent("pswpTap",!0,!0,{origEvent:t,target:t.target,releasePoint:e,pointerType:n||"touch"}),t.target.dispatchEvent(i)};Rt("Tap",{publicMethods:{initTap:function(){Mt("firstTouchStart",r.onTapStart),Mt("touchRelease",r.onTapRelease),Mt("destroy",function(){on={},nn=null})},onTapStart:function(t){t.length>1&&(clearTimeout(nn),nn=null)},onTapRelease:function(t,e){if(e&&!Q&&!Z&&!ie){var n=e;if(nn&&(clearTimeout(nn),nn=null,Zt(n,on)))return void Lt("doubleTap",n);var i=t.target.tagName.toLowerCase();if("mouse"===e.type)return void rn(t,e,"mouse");if("button"===i||o.hasClass(t.target,"pswp__single-tap"))return void rn(t,e);Vt(on,n),nn=setTimeout(function(){rn(t,e),nn=null},300)}}}});var an;Rt("DesktopZoom",{publicMethods:{handleMouseWheel:function(t){if(r.currItem.fitRatio>=y)return!0;if(t.preventDefault(),t.stopPropagation(),an.x=0,"deltaX"in t)an.x=t.deltaX,an.y=t.deltaY;else if("wheelDelta"in t)t.wheelDeltaX&&(an.x=-.16*t.wheelDeltaX),an.y=t.wheelDeltaY?-.16*t.wheelDeltaY:-.16*t.wheelDelta;else{if(!("detail"in t))return;an.y=t.detail}te(y,!0),r.panTo(Ct.x-an.x,Ct.y-an.y)},toggleDesktopZoom:function(e){e=e||{x:St.x/2,y:St.y/2+M};var n=1===y;r.mouseZoomedIn=!n,r.zoomTo(n?r.currItem.initialZoomLevel:1,e,333),o[(n?"remove":"add")+"Class"](t,"pswp--zoomed-in")},setupDesktopZoom:function(e){an={};var n="wheel mousewheel DOMMouseScroll";Mt("bindEvents",function(){o.bind(t,n,r.handleMouseWheel)}),Mt("unbindEvents",function(){an&&o.unbind(t,n,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var i,a=function(){r.mouseZoomedIn&&(o.removeClass(t,"pswp--zoomed-in"),r.mouseZoomedIn=!1),1>y?o.addClass(t,"pswp--zoom-allowed"):o.removeClass(t,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(t,"pswp--dragging"),i=!1)};Mt("resize",a),Mt("afterChange",a),Mt("pointerDown",function(){r.mouseZoomedIn&&(i=!0,o.addClass(t,"pswp--dragging"))}),Mt("pointerUp",s),e||a()},initDesktopZoom:function(){L||(O?Mt("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))}}});var sn,ln,cn,un,dn,pn,hn,fn,mn,gn,vn,yn={history:!0,galleryUID:1},bn=function(){return vn.hash.substring(1)},wn=function(){sn&&clearTimeout(sn),cn&&clearTimeout(cn)},xn=function(){var t=bn(),e={};if(5>t.length)return e;for(var n=t.split("&"),i=0;n.length>i;i++)if(n[i]){var o=n[i].split("=");2>o.length||(e[o[0]]=o[1])}return e.pid=parseInt(e.pid,10)-1,0>e.pid&&(e.pid=0),e},kn=function(){if(cn&&clearTimeout(cn),ie||G)return void(cn=setTimeout(kn,500));un?clearTimeout(ln):un=!0;var t=hn+"&gid="+l.galleryUID+"&pid="+(p+1);if(fn){var e=vn.href.split("#")[0]+"#"+t;vn.replace(e)}else-1===vn.hash.indexOf(t)&&(gn=!0),vn.hash=t;fn=!0,ln=setTimeout(function(){un=!1},60)};Rt("History",{publicMethods:{initHistory:function(){if(o.extend(l,yn,!0),l.history){vn=window.location,gn=!1,mn=!1,fn=!1,hn=bn(),hn.indexOf("gid=")>-1&&(hn=hn.split("&gid=")[0],hn=hn.split("?gid=")[0]),Mt("afterChange",r.updateURL),Mt("unbindEvents",function(){o.unbind(window,"hashchange",r.onHashChange)});var t=function(){pn=!0,mn||(gn?history.back():hn?vn.hash=hn:"pushState"in history?history.pushState("",document.title,vn.pathname+vn.search):vn.hash=""),wn()};Mt("unbindEvents",function(){d&&t()}),Mt("destroy",function(){pn||t()}),Mt("firstUpdate",function(){p=xn().pid});var e=hn.indexOf("pid=");e>-1&&(hn=hn.substring(0,e),"&"===hn.slice(-1)&&(hn=hn.slice(0,-1))),setTimeout(function(){c&&o.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){return bn()===hn?(mn=!0,void r.close()):void(un||(dn=!0,r.goTo(xn().pid),dn=!1))},updateURL:function(){wn(),dn||(fn?sn=setTimeout(kn,800):kn())}}}),o.extend(r,ce)};return t}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){"use strict";var t=function(t,e){var n,i,o,r,a,s,l,c,u,d,p,h,f,m,g,v,y=this,b=!1,w=!0,x=!0,k={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],indexIndicatorSep:" / "},C=function(t){if(f)return!0;t=t||window.event;for(var n,i,o=t.target||t.srcElement,r=o.className,a=0;R.length>a;a++)n=R[a],n.onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){t.stopPropagation&&t.stopPropagation(),f=!0;var s=e.features.isOldAndroid?600:30;m=setTimeout(function(){f=!1},s)}},T=function(){return!t.likelyTouchDevice||t.options.mouseUsed||screen.width>1200},S=function(){return x=!x,x?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){x&&e[(x?"add":"remove")+"Class"](l,"pswp__share-modal--hidden")},300)):(e[(x?"add":"remove")+"Class"](l,"pswp__share-modal--hidden"),setTimeout(function(){x||e.addClass(l,"pswp__share-modal--fade-in")},30)),x||_(),!1},$=function(t){t=t||window.event;var e=t.target||t.srcElement;return!!e.href&&(!!e.hasAttribute("download")||(window.open(e.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),x||S(),!1))},_=function(){for(var e,n,i="",o=0;t.options.shareButtons.length>o;o++)e=t.options.shareButtons[o],n=e.url.replace("{{url}}",encodeURIComponent(window.location.href)).replace("{{image_url}}",encodeURIComponent(t.currItem.src||"")).replace("{{raw_image_url}}",t.currItem.src||"").replace("{{text}}",encodeURIComponent(t.currItem.title||"")),i+='<a href="'+n+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>";l.children[0].innerHTML=i,l.children[0].onclick=$},A=function(n){for(var i=0;t.options.closeElClasses.length>i;i++)if(e.hasClass(n,"pswp__"+t.options.closeElClasses[i]))return!0},I=0,E=function(){clearTimeout(v),I=0,u&&y.setIdle(!1)},D=function(e){e=e?e:window.event;var n=e.relatedTarget||e.toElement;n&&"HTML"!==n.nodeName||(clearTimeout(v),v=setTimeout(function(){y.setIdle(!0)},t.options.timeToIdleOutside))},O=function(t){p!==t&&(e[(t?"remove":"add")+"Class"](d,"pswp__preloader--active"),p=t)},R=[{name:"caption",option:"captionEl",onInit:function(t){o=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){S()}},{name:"button--share",option:"shareEl",onInit:function(t){s=t},onTap:function(){S()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){a=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){d=t}}];y.init=function(){e.extend(t.options,k,!0),i=t.scrollWrap.children[1];var a=t.listen;a("onVerticalDrag",function(t){w&&.95>t?y.hideControls():!w&&t>=.95&&y.showControls()});var c;a("onPinchClose",function(t){w&&.9>t?(y.hideControls(),c=!0):c&&!w&&t>.9&&y.showControls()}),a("zoomGestureEnded",function(){c=!1,c&&!w&&y.showControls()}),a("beforeChange",y.update),a("doubleTap",function(e){var n=t.currItem.initialZoomLevel;t.getZoomLevel()!==n?t.zoomTo(n,e,333):t.zoomTo(t.currItem.doubleTapZoom,e,333)}),t.options.timeToIdle&&a("mouseUsed",function(){e.bind(document,"mousemove",E),e.bind(document,"mouseout",D),g=setInterval(function(){I++,2===I&&y.setIdle(!0)},t.options.timeToIdle/2)}),a("preventDragEvent",function(t,e,n){var i=t.target||t.srcElement;i&&i.className&&t.type.indexOf("mouse")>-1&&(i.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),a("bindEvents",function(){e.bind(i,"pswpTap click",C),e.bind(t.scrollWrap,"pswpTap",y.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",y.onMouseOver)}),a("unbindEvents",function(){x||S(),g&&clearInterval(g),e.unbind(document,"mouseout",D),e.unbind(document,"mousemove",E),e.unbind(i,"pswpTap click",C),e.unbind(t.scrollWrap,"pswpTap",y.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",y.onMouseOver),n&&(e.unbind(document,n.eventK,y.updateFullscreen),n.isFullscreen()&&(k.hideAnimationDuration=0,n.exit()),n=null)}),a("destroy",function(){t.options.captionEl&&(r&&i.removeChild(r),e.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(i,"pswp__ui--over-close"),e.addClass(i,"pswp__ui--hidden"),y.setIdle(!1)}),t.options.showAnimationDuration||e.removeClass(i,"pswp__ui--hidden"),a("initialZoomIn",function(){t.options.showAnimationDuration&&e.removeClass(i,"pswp__ui--hidden")}),a("initialZoomOut",function(){e.addClass(i,"pswp__ui--hidden")}),a("parseVerticalMargin",function(n){var a=n.vGap;if(T()){var s=t.options.barsSize;if(t.options.captionEl&&"auto"===s.bottom)if(r||(r=e.createEl("pswp__caption pswp__caption--fake"),r.appendChild(e.createEl("pswp__caption__center")),i.insertBefore(r,o),e.addClass(i,"pswp__ui--fit")),t.options.addCaptionHTMLFn(n,r,!0)){var l=r.clientHeight;a.bottom=parseInt(l,10)||44}else a.bottom=s.top;else a.bottom=s.bottom;a.top=s.top}else a.top=a.bottom=0});var u,d,p,f=function(n){for(var i=n.length,o=0;i>o;o++){u=n[o],d=u.className;for(var r=0;R.length>r;r++)p=R[r],d.indexOf("pswp__"+p.name)>-1&&(t.options[p.option]?(e.removeClass(u,"pswp__element--disabled"),p.onInit&&p.onInit(u)):e.addClass(u,"pswp__element--disabled"))}};f(i.children),f(i.children[0].children),t.options.shareEl&&s&&l&&(x=!0),t.options.fullscreenEl&&(n||(n=y.getFullscreenAPI()),n?(e.bind(document,n.eventK,y.updateFullscreen),y.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs")),t.options.preloaderEl&&(O(!0),a("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&O(!1):O(!0)},t.options.loadingIndicatorDelay)}),a("imageLoadComplete",function(e,n){
t.currItem===n&&O(!0)}))},y.setIdle=function(t){u=t,e[(t?"add":"remove")+"Class"](i,"pswp__ui--idle")},y.update=function(){w&&t.currItem?(y.updateIndexIndicator(),t.options.captionEl&&(t.options.addCaptionHTMLFn(t.currItem,o),t.currItem.title?e.removeClass(o,"pswp__caption--empty"):e.addClass(o,"pswp__caption--empty")),b=!0):b=!1},y.updateFullscreen=function(){e[(n.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},y.updateIndexIndicator=function(){t.options.counterEl&&(a.innerHTML=t.getCurrentIndex()+1+t.options.indexIndicatorSep+t.options.getNumItemsFn())},y.onGlobalTap=function(n){n=n||window.event;var i=n.target||n.srcElement;if(!f)if(n.detail&&"mouse"===n.detail.pointerType)A(i)&&t.close(),e.hasClass(i,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?t.close():t.toggleDesktopZoom(n.detail.releasePoint));else if(t.options.tapToToggleControls&&(w?y.hideControls():y.showControls()),t.options.tapToClose&&(e.hasClass(i,"pswp__img")||A(i)))return void t.close()},y.onMouseOver=function(t){t=t||window.event;var n=t.target||t.srcElement;A(n)?e.addClass(i,"pswp__ui--over-close"):e.removeClass(i,"pswp__ui--over-close")},y.hideControls=function(){e.addClass(i,"pswp__ui--hidden"),w=!1},y.showControls=function(){w=!0,b||y.update(),e.removeClass(i,"pswp__ui--hidden")},y.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},y.getFullscreenAPI=function(){var e,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return c=t.options.closeOnScroll,t.options.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?t.template[this.enterK]():void t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return t.options.closeOnScroll=c,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}};return t}),$(function(){$("div.alert.alert-danger").delay(6e3).slideUp(300)});var pat=window.pat||{};pat.constant={},pat.cookie={add:function(t,e,n){var i=t+"="+escape(e);if(0!=n){var o=new Date,r=3600*n*1e3;o.setTime(o.getTime()+r),i+="; expires="+o.toGMTString(),i+="; path=/"}document.cookie=i},del:function(t){var e=new Date;e.setTime(e.getTime()-1e4),document.cookie=t+"=a; expires="+e.toGMTString()},get:function(t){return document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),c_start!=-1&&(c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))))}},pat.common={xsImg:function(t,e,n){$("img["+t+"]").each(function(){n<768?$(this).attr({src:$(this).attr(t)}):$(this).attr({src:$(this).attr(e)})})}},function(){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),o=Math.max(0,16-(i-t)),r=window.setTimeout(function(){e(i+o)},o);return t=i+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(){var t=jQuery,e=function(){function t(){this.fadeDuration=100,this.fitImagesInViewport=!0,this.resizeDuration=700,this.positionFromTop=50,this.showImageNumberLabel=!0,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1}return t.prototype.albumLabel=function(t,e){return"Image "+t+" of "+e},t}(),n=function(){function e(t){this.options=t,this.album=[],this.currentImageIndex=void 0,this.init()}return e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(n){return e.start(t(n.currentTarget)),!1})},e.prototype.build=function(){var e=this;t("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$outerContainer.on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return e.changeImage(0===e.currentImageIndex?e.album.length-1:e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.changeImage(e.currentImageIndex===e.album.length-1?0:e.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1})},e.prototype.start=function(e){function n(t){i.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var i=this,o=t(window);o.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var r,a=0,s=e.attr("data-lightbox");if(s){r=t(e.prop("tagName")+'[data-lightbox="'+s+'"]');for(var l=0;l<r.length;l=++l)n(t(r[l])),r[l]===e[0]&&(a=l)}else if("lightbox"===e.attr("rel"))n(e);else{r=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var c=0;c<r.length;c=++c)n(t(r[c])),r[c]===e[0]&&(a=c)}var u=o.scrollTop()+this.options.positionFromTop,d=o.scrollLeft();this.$lightbox.css({top:u+"px",left:d+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(a)},e.prototype.changeImage=function(e){var n=this;this.disableKeyboardNav();var i=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var o=new Image;o.onload=function(){var r,a,s,l,c,u,d;i.attr("src",n.album[e].link),r=t(o),i.width(o.width),i.height(o.height),n.options.fitImagesInViewport&&(d=t(window).width(),u=t(window).height(),c=d-n.containerLeftPadding-n.containerRightPadding-20,l=u-n.containerTopPadding-n.containerBottomPadding-120,(o.width>c||o.height>l)&&(o.width/c>o.height/l?(s=c,a=parseInt(o.height/(o.width/s),10),i.width(s),i.height(a)):(a=l,s=parseInt(o.width/(o.height/a),10),i.width(s),i.height(a)))),n.sizeContainer(i.width(),i.height())},o.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(window).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function n(){i.$lightbox.find(".lb-dataContainer").width(a),i.$lightbox.find(".lb-prevLink").height(s),i.$lightbox.find(".lb-nextLink").height(s),i.showImage()}var i=this,o=this.$outerContainer.outerWidth(),r=this.$outerContainer.outerHeight(),a=t+this.containerLeftPadding+this.containerRightPadding,s=e+this.containerTopPadding+this.containerBottomPadding;o!==a||r!==s?this.$outerContainer.animate({width:a,height:s},this.options.resizeDuration,"swing",function(){n()}):n()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link}},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(t){var e=27,n=37,i=39,o=t.keyCode,r=String.fromCharCode(o).toLowerCase();o===e||r.match(/x|o|c/)?this.end():"p"===r||o===n?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===r||o===i)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"})},e}();t(function(){var t=new e;new n(t)})}.call(this),function(t){t.fn.hoverDelay=function(e){var n,i,o={hoverDuring:200,outDuring:0,hoverEvent:function(){t.noop()},outEvent:function(){t.noop()}},r=t.extend(o,e||{}),a=this;return t(this).each(function(){t(this).hover(function(){clearTimeout(i),n=setTimeout(function(){r.hoverEvent.apply(a)},r.hoverDuring)},function(){clearTimeout(n),i=setTimeout(function(){r.outEvent.apply(a)},r.outDuring)})})}}(jQuery),$(".img-responsive,.img-lazyload").lazyload({threshold:800,failure_limit:8,placeholder:"/assets/img/product_placeholder.png",effect:"fadeIn",skip_invisible:!1}),$(function(){$(".category-nav-inner").each(function(){var t,e,n,i=$(this),o=$(this).find(".category-list"),r=$(this).children("a.nav-tabs-js");i.hover(function(){var a=i.find("img[data-hover]");n=r.hasClass("bg4"),n||r.addClass("bg4"),clearTimeout(e),clearTimeout(t),t=setTimeout(function(){o.stop().fadeIn("fast"),a.each(function(){$(this).attr("src",$(this).attr("data-hover"))})},300)},function(){n||r.removeClass("bg4"),clearTimeout(e),clearTimeout(t),e=setTimeout(function(){o.stop().fadeOut("fast")},500)})});var t=$(".navbar-toggle-dy"),e=$(".canvas .mask-ind1"),n=$("#menu-mobile");t.on("click",function(){e.addClass("on"),n.addClass("in"),$(".nav-below-fixed").css({left:"0"}),$("#canvas").addClass("canvas-fixed"),$("#wap-top-search").removeClass("wap-top-search-click"),$(".default-bg").hide(),$(".top-search-wrap").hide(),$("body").scrollTop(0),$("body").unbind("touchmove")}),e.on("click",function(){$(this).removeClass("on"),$(".default-bg").show(),n.removeClass("in"),$("#canvas").removeClass("canvas-fixed"),$(".nav-below-fixed").css({left:"-100%"}),$(".filter-con").is(":visible")&&$("body").css("position","fixed"),$(".filter-btn a.tab-btn").find("em").removeClass("click"),$(".filter-btn a.tab-btn").parent().find(".filter-show").fadeOut(),$(".category-show-results").slideDown(),$(".search-show-results").slideDown(),$("#diy-banner-hide").slideDown()});var i=$("#site-header-search"),o=i.find(".form-control-search"),r=i.find(".search-down-con"),a=$(".logowrap .search-downnav-ulfir"),s=(r.find(".search-down-con2"),-1),l=-1;o.on({keyup:function(){if(38!=event.keyCode&&40!=event.keyCode||"none"==a.css("display"))13==event.keyCode?"none"!=a.css("display")&&t>0&&s!=-1&&(o.val(a.children("a").eq(s).text()),a.css({display:"none"}),s=-1,l=-1):(a.css({display:""}),s=-1,l=-1);else{var t=a.children("a").length;t>0&&(l=s,38==event.keyCode&&(s==-1?s=t-1:(s-=1,s<0&&(s=t-1)),s!=-1&&(a.children("a").eq(s).children("li").css({color:"#444"}),o.val(a.children("a").eq(s).text())),l!=-1&&a.children("a").eq(l).children("li").css({color:"#aaa"})),40==event.keyCode&&(s==t-1?s=0:(s+=1,s>t-1&&(s=0)),s!=-1&&(a.children("a").eq(s).children("li").css({color:"#444"}),o.val(a.children("a").eq(s).text())),l!=-1&&a.children("a").eq(l).children("li").css({color:"#aaa"})))}}}),o.keypress(function(t){38==t.keyCode,40==t.keyCode}),function(t){t.fn.gotop=function(e){var n={topHei:500,speed:600,endfn:function(){t.noop()}},i=t.extend(n,e||{}),o=t(this),r=0;return t(window).scroll(function(){r=t(this).scrollTop(),r>=i.topHei?o.stop().fadeIn():o.stop().fadeOut(function(){o.css("opacity","0.6")})}),o.on("click",function(){t("html,body").animate({scrollTop:"0px"},i.speed)}),t(this)}}(window.jQuery),$(".gotop-btn").gotop(),$(".patpat-img").gotop(),$("li#username").mouseover(function(){$(this).addClass("open")}).mouseout(function(){$(this).removeClass("open")}),$(".header-top .site-header-currency").hover(function(){$(this).children("#edit-info-currency-selector").show(),$(this).addClass("on")},function(){$(this).children("#edit-info-currency-selector").hide(),$(this).removeClass("on")}),$(".header-top .site-header-currency").children(".currency-show-selector").click(function(){$(this).next("#edit-info-currency-selector").toggle(),$(this).parent(".site-header-currency").toggleClass("on")}),$(".header-top .site-header-language").hover(function(){$(this).children("#edit-info-language-selector").show()},function(){$(this).children("#edit-info-language-selector").hide()}),$(".facebook-btn").click(function(){$(this).parents(".facebook-like").fadeOut()})});for(var productHoverTime={},times=[],i=0;i<80;i++)times[i]=i;var timeFun=null;$(document).ready(function(){var t=window.location;jQuery('ul a[href="'+t+'"]').parent().addClass("active"),jQuery("ul a").filter(function(){return this.href==t}).parent().addClass("active").parent().parent().addClass("active");var e=window.matchMedia("(min-width: 768px)"),n=$("#search-inner");e.matches&&n.show().removeClass("active"),$("p").each(function(){"&nbsp;"==$(this).html()&&$(this).css("font-size","10px").css("line-height",".4")}),$(".modal").on("hidden.bs.modal",function(t){$(".canvas .modal-backdrop").remove()}),$(".modal").on("shown.bs.modal",function(t){$(".modal-backdrop").remove(),$(".canvas").append('<div class="modal-backdrop fade in"></div>')}),$('[type="checkbox"]').flatcheckbox(),resizewindow(),$(".describe").click(function(){$(this).find("p").is(":hidden")?($(this).find("p").slideDown(),$(this).find("i").css({transform:"rotate(135deg)"}),$(this).find(".i1").css({top:"12px"})):($(this).find("p").slideUp(),$(this).find("i").css({transform:"rotate(-45deg)"}),$(this).find(".i1").css({top:"4px"}))})}),$.extend($.fn,{mousewheel:function(t,e){this.each(function(n,i){function o(n){var o=n||window.event;o.detail!=-3&&120!=o.wheelDelta||t&&t.call(i),3!=o.detail&&o.wheelDelta!=-120||e&&e.call(i),o.preventDefault?o.preventDefault():o.returnValue=!1}i.attachEvent?i.attachEvent("onmousewheel",o):i.addEventListener&&(i.addEventListener("mousewheel",o,!1),i.addEventListener("DOMMouseScroll",o,!1))})}}),$(window).load(function(){jQuery(window).resize(function(){resizewindow()}),resizewindow();var t=$(".list-unstyled"),e=$(".product-big"),n=$(".product-small"),i=$(".product-scroll"),o=$(".scroll-y");moveBottom(t,e,n,i,o);var r=$("#site-nav"),a=$(window).width(),s=$("#site-header>#patpat-header-country>.container").width(),l=(a-s)/2,c=$("#cart-dropdown"),u=($("#site-header-icon-cart"),$("#details-img")),d=u.height(),p=$(".prod-detail-right").height(),h=!0;$(window).resize(function(){if(a=$(window).width(),s=$("#site-header>#patpat-header-country>.container").width(),l=(a-s)/2,p=$(".prod-detail-right").height(),d=u.height(),a>1204){var t=$(document).scrollTop()+1;$(document).scrollTop(t)}a<768?(h=!0,l=0):h=!1,pat.common.xsImg("data-xs-img","data-pc-img",a)});var f=$(".services-about");f.click(function(){h?($(this).siblings("ul").toggle(),$(this).children("span").hasClass("glyphicon-menu-right")?($(this).children("span").removeClass("glyphicon-menu-right").addClass("glyphicon-menu-down"),$(this).css({"border-bottom":"1px solid #ccc"})):($(this).children("span").removeClass("glyphicon-menu-down").addClass("glyphicon-menu-right"),$(this).css({"border-bottom":"none"}),$(this).siblings("ul").css({display:"none"}))):$(this).siblings("ul").css({display:"block"})});var m,g=($(".category-nav"),$(document).scrollTop()),v=$(".account-and-cart"),y=$("#site-logo>.patpat-logo>img"),b=$("#site-header-icons");$(window).resize(),$(window).scroll(function(){var t=$(".js-top-banner").height()+$("#patpat-header-country").height()+$(".logowrap").height();g=$(document).scrollTop(),m=g-135,a>=768&&(g>t?(b.css({padding:"28px 0 0 0"}),$(".top-cart-empty-down").css("top","65px"),r.css({position:"fixed",top:"34px",left:0,background:"rgba(255,255,255,1)",width:"100%"}),u.css({position:"fixed",top:0,"margin-top":"85px"}),g>p-d+135&&u.css({position:"absolute",top:p-d,"margin-top":"0px"}),$("html").hasClass("country-ar")?(y.css({position:"fixed",top:"5px",right:l,"z-index":"10002",width:"60px"}),v.css({position:"fixed",top:0,right:0,height:"54px",background:"#f1f3f2",width:"100%","padding-left":l,"margin-top":"-20px","z-index":1001}),c.css({position:"fixed",top:"44px",left:l,right:"auto","z-index":10001}),$("#etalage").css({"float":"none"})):(y.css({position:"fixed",top:"5px",left:l,"z-index":"10002",width:"60px"}),v.css({position:"fixed",top:0,right:0,height:"54px",background:"#f1f3f2",width:"100%","padding-right":l,"margin-top":"-20px","z-index":1001}),c.css({position:"fixed",top:"44px",right:l,"z-index":10001}))):($(".top-cart-empty-down").css("top","90%"),b.css({padding:"44px 0 15px 0"}),r.css({position:"static","border-bottom":"1px solid #f1f3f2"}),c.css({position:"absolute",top:"90%",right:0,"z-index":10001}),$("html").hasClass("country-ar")?(y.css({position:"static",top:"",left:"","z-index":"10002",width:"120px"}),v.css({position:"static",height:"auto",background:"none",width:"","padding-left":"10px","margin-top":"0"}),$("#etalage").css({"float":"right"})):(y.css({position:"static",top:"",left:"","z-index":"10002",width:"120px"}),v.css({position:"static",height:"auto",background:"none",width:"","padding-right":"10px","margin-top":"0"})),u.css({position:"static",top:"","margin-top":"0px"})))}),$(".button-rss").click(function(){var t=$(".footer-services-search"),e=t.val().trim();return e.length<1?void t.focus():isEmail(e)?($(this).attr("disabled",!0),void $.ajax({url:"/subscription",type:"post",data:{email:e},success:function(e,n){1==e.status?(t.val(""),layer.msg("Subscription succeeded!",{icon:6})):layer.msg("Subscription failure!",{icon:5})},complete:function(){$(".button-rss").attr("disabled",!1)}})):void layer.tips("Please enter valid email",".footer-services-search",{tips:[3,"#e44f4f"]})})}),jQuery.fn.extend({uploadPreview:function(t){var e=this,n=$(this);t=jQuery.extend({Img:"ImgPr",Width:100,Height:100,ImgType:["gif","jpeg","jpg","bmp","png"],Callback:function(){}},t||{}),e.getObjectURL=function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},n.change(function(){if(this.value){if(!RegExp(".("+t.ImgType.join("|")+")$","i").test(this.value.toLowerCase()))return this.value="",!1;if($.browser.msie)try{$("#"+t.Img).attr("src",e.getObjectURL(this.files[0]))}catch(n){var i="",o=$("#"+t.Img),r=o.parent("div")[0];e.select(),top!=self?window.parent.document.body.focus():e.blur(),i=document.selection.createRange().text,document.selection.empty(),o.hide(),o.parent("div").css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)",width:t.Width+"px",height:t.Height+"px"}),r.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src=i}else $("#"+t.Img).attr("src",e.getObjectURL(this.files[0]));t.Callback()}})}}),$(function(){function t(t,e,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=t+"="+e+";expires="+i.toUTCString()}function e(t){for(var e=document.cookie.split("; "),n=0;n<e[n].length;n++){var i=e[n].split("=");return i[0]==t?i[1]:""}}$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}});var n=0;$("body").on("touchend click",".collect",function(){var i=this,o=$(this).data("id"),r=$(this).data("event_id"),a=$(this).data("get_liked_count");$(this).hasClass("collect-checked")?($(i).removeClass("collect-checked"),$.post("/cancelLikedProduct",{event_id:r,product_id:o},function(){if(1==a){var t=$(i).parent().find(".js_liked_count").text();t=parseInt(t),t-=1,$(i).parent().find(".js_liked_count").text(t)}n>=1&&(n-=1)})):($(i).addClass("collect-checked"),$.post("/likedProduct",{event_id:r,product_id:o},function(){if(1==a){var o=$(i).parent().find(".js_liked_count").text();o=parseInt(o),o+=1,$(i).parent().find(".js_liked_count").text(o)}n+=1;var r=e("facebook-like-popup");n>1&&"YES"!=r&&($(".facebook-like").stop().fadeIn(),t("facebook-like-popup","YES",3))}))}),$("body").on("touchend mouseover",".box-product a.img",function(){var t=$(this).siblings(".collect");if($(this).parents(".category-list-item").hasClass("link-hover")){$(this).parents(".category-list-item").removeClass("link-hover");var e=new Array,n=new Array,i=new Array;if($(t).each(function(){var t=$(this);e.push(t.data("id")),n.push(t.data("event_id")),i.push(!!t.data("get_liked_count"))}),e.length<1)return;$.post("/getProductLikeInfo",{product_id:e,event_id:n,get_liked_count:i},function(e){$(t).each(function(){for(var t=$(this).data("id"),n=$(this).data("event_id"),i=($(this).data("get_liked_count"),0);i<e.length;i++){var o=e[i];if(o.product_id==t&&o.event_id==n){o.liked?$(this).addClass("collect-checked"):$(this).removeClass("collect-checked");break}}})})}})}),$(function(){$("#wap-footer-nav strong").click(function(){$(this).hasClass("on")?($(this).next().slideUp(),$(this).removeClass("on")):($(this).siblings("ul").slideUp(),$(this).next().slideDown(),$(this).addClass("on"),$(this).siblings("strong").removeClass("on"))})}),$(document).ready(function(){function t(t){var e=$(".currency_display_symbol").text(),n=parseFloat($(".currency_exchange_rate").text()),i=parseFloat(t)*n;return e+i.toFixed(2)}function e(e,n){n.length>0?($("#direct_checkout").css("display",""),$(".total_quantity").css("display","")):($("#direct_checkout").css("display","none"),$(".total_quantity").css("display","none")),$(".total_quantity").text(e.cart_quantity);var i=e.saving;"undefined"==typeof e.saving&&(i=0),$(".total_saving").text(t(i));var o="";$(".header-cart-list-con").empty();for(var r=0;r<n.length;r++){var a=(replaceSpecialChar(n[r].product_name),n[r].url);o+="<li><div class='media'><div class='media-left'><a href='"+a+"'>",o+="<img class='media-object' src='"+n[r].icon+"/120x120' alt=''></a></div>",o+="<div class='media-body'><span class='list-group-item-heading'>",o+="<a href='"+a+"'>"+n[r].product_name+"</a></span>";var s,l=n[r].option,c="";for(s in l)c+=l[s].option_name+" "+l[s].option_value+"&nbsp;&nbsp;&nbsp;";o+='<div class="media-body-size">'+c+"</div>",o+="<input type='hidden' class='cart_hidden_sku' value='"+n[r].sku_id+"'/>",o+="<p><p class='text-right' style='position:absolute;bottom:17px;right:0;color:#9ba5a7'>x"+n[r].quantity+"</p>",o+="<p class='text-primary text-right'>"+t(n[r].event_price)+"</p></p>",o+="</div></div>",n[r].event_stock<=0&&(o+=$("html").hasClass("country-ar")?"<div class='cart-out' id='ar-out'><span> </span><div class='cart-out-bg'></div></div>":"<div class='cart-out'><span>Sold Out</span><div class='cart-out-bg'></div></div>"),o+="</li>"}$(".total_pay_with_shipping").text(t(e.total_pay)),$(".header-cart-list-con").append(o),$(".table-bordered-cart-subtotal>span").text(t(e.total_pay)),e.need_for_free>0?($(".table-bordered-cart-free>span").text(t(e.need_for_free)),$(".table-bordered-cart-free").parent().show()):$(".table-bordered-cart-free").parent().hide()}$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}});var n=$(".dropdown-toggle-account");n.hover(function(){$(this).siblings(".dropdown").children("a").attr("aria-expanded","true"),$(this).siblings(".dropdown").addClass("open")},function(){$(this).siblings(".dropdown").children("a").attr("aria-expanded","false"),$(this).siblings(".dropdown").removeClass("open")});var i=$(".dropdown-menu-account");i.hover(function(){$(this).siblings(n).attr("aria-expanded","true"),$(this).parent().addClass("open")},function(){$(this).siblings(n).attr("aria-expanded","false"),$(this).parent().removeClass("open")});var o=$(".dropdown-toggle-category");o.hover(function(){$(this).attr("aria-expanded","true"),$(this).parent().addClass("open")},function(){$(this).attr("aria-expanded","false"),$(this).parent().removeClass("open")});var r=$(".dropdown-menu-category");r.hover(function(){$(this).siblings(o).attr("aria-expanded","true"),$(this).parent().addClass("open")},function(){$(this).siblings(o).attr("aria-expanded","false"),$(this).parent().removeClass("open")});var a=[],s=[];$(".checkout-direct").click(function(){$(this).attr("disabled","true")}),$(".header-cart-list-con").on("click",".close-btn",function(){var t=$(this).data("cart-id"),n=$(this).data("cart-record-id"),i=0,o={cart_id:t,cart_record_id:n,quantity:i};$.ajax({method:"post",url:"/cart/delete",data:o,success:function(t){1==t.status&&$.ajax({method:"post",url:"/cart",data:{},success:function(t){if(1==t.status){var n="https://"+window.location.host+"/cart";window.location.href!=n?(a=t.content.cart_info,s=t.content.cart_records,e(a,s)):window.location.reload()}}})}})});var l=$(".loading"),c=$(".dropdown-menu-cart");$("#site-header-icon-cart").on({mouseenter:function(){var t=parseInt($(".total_quantity").text()),n=parseInt($(".invalid_quantity").text());isNaN(t)||t+n<1?$(".top-cart-empty-down").css({display:"block"}):(c.css({display:"block"}),$("#site-header-icon-cart").dropdown("toggle"),$.ajax({method:"post",url:"/order/cart?op=ajax",data:{},success:function(t){l.css({display:"none"}),1==t.status&&(a=t.content.cart_info,s=t.content.cart_records,e(a,s))}}))},mouseleave:function(){var t=parseInt($(".total_quantity").text());isNaN(t)||t<1?$(".top-cart-empty-down").css({display:"none"}):($("#site-header-icon-cart").dropdown(),c.css({display:"none"}))}}),c.hover(function(){$(this).css({display:"block"})},function(){$(this).css({display:"none"})}),$(".top-cart-empty-down").hover(function(){$(this).css({display:"block"})},function(){$(this).css({display:"none"})})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(i(o,e))return o;o=o.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function i(t,e,n,i,r){var a=o.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function o(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&i.call(t,n)}}var r=t("closest");e.exports=i},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return o(t,e,n);if(s.nodeList(t))return r(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return l(document.body,t,e,n)}var s=t("./is"),l=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=Element.prototype,r=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=i},{}],6:[function(t,e,n){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=i},{}],7:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,a=i.length;r<a;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);
return o.length?n[t]=o:delete n[t],this}},e.exports=i},{}],8:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof i)r(n,e("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,o["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},a(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},{select:6}],9:[function(e,n,i){!function(o,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=o(e),u=o(n),d=o(i),p=function(t){function e(n,i){r(this,e);var o=a(this,t.call(this));return o.resolveOptions(i),o.listenClick(n),o}return s(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,d["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return l("action",t)},e.prototype.defaultTarget=function(t){var e=l("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return l("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u["default"]);t.exports=p})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(6),n(7),t.exports=n(8)},function(t,e,n){(function(e){!function(n){function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,i(a,this),i(s,this))}function r(t){var e=this;return null===this._state?void this._deferreds.push(t):void d(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(o){return void t.reject(o)}t.resolve(i)})}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(i(e,t),i(a,this),i(s,this))}this._state=!0,this._value=t,l.call(this)}catch(n){s.call(this,n)}}function s(t){this._state=!1,this._value=t,l.call(this)}function l(){for(var t=0,e=this._deferreds.length;e>t;t++)r.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(o){if(i)return;i=!0,n(o)}}var d="function"==typeof e&&e||function(t){setTimeout(t,1)},p=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};o.prototype["catch"]=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=this;return new o(function(i,o){r.call(n,new c(t,e,i,o))})},o.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&p(arguments[0])?arguments[0]:arguments);return new o(function(e,n){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(r,t)},n)}t[r]=a,0===--o&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})},o._setImmediateFn=function(t){d=t},o.prototype.always=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},"undefined"!=typeof t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(e,n(2).setImmediate)},function(t,e,n){(function(t,i){function o(t,e){this._id=t,this._clearFn=e}var r=n(3).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},c=0;e.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,i=!(arguments.length<2)&&s.call(arguments,1);return l[n]=!0,r(function(){l[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete l[t]}}).call(e,n(2).setImmediate,n(2).clearImmediate)},function(t,e){function n(){c=!1,a.length?l=a.concat(l):u=-1,l.length&&i()}function i(){if(!c){var t=setTimeout(n);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function r(){}var a,s=t.exports={},l=[],c=!1,u=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new o(t,e)),1!==l.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=r,s.addListener=r,s.once=r,s.off=r,s.removeListener=r,s.removeAllListeners=r,s.emit=r,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){function n(){var t=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return t&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}var i=function(){try{return new Blob,!0}catch(t){return!1}}()?window.Blob:function(t,e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return t.forEach(function(t){n.append(t)}),n.getBlob(e?e.type:void 0)},o=function(){var t=0;return function(){var e=this,n=[],o=Array(21).join("-")+(+new Date*(1e16*Math.random())).toString(36),r=XMLHttpRequest.prototype.send;this.getParts=function(){return n.toString()},this.append=function(t,e,i){n.push("--"+o+'\r\nContent-Disposition: form-data; name="'+t+'"'),e instanceof Blob?(n.push('; filename="'+(i||"blob")+'"\r\nContent-Type: '+e.type+"\r\n\r\n"),n.push(e)):n.push("\r\n\r\n"+e),n.push("\r\n")},t++,XMLHttpRequest.prototype.send=function(a){var s,l,c=this;a===e?(n.push("--"+o+"--\r\n"),l=new i(n),s=new FileReader,s.onload=function(){r.call(c,s.result)},s.onerror=function(t){throw t},s.readAsArrayBuffer(l),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+o),t--,0==t&&(XMLHttpRequest.prototype.send=r)):r.call(this,a)}}}();t.exports={Blob:i,FormData:n()?o:FormData}},function(t,e,n){var i,o;(function(){function n(t){return!!t.exifdata}function r(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),i=n.length,o=new ArrayBuffer(i),r=new Uint8Array(o),a=0;i>a;a++)r[a]=n.charCodeAt(a);return o}function a(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){(200==this.status||0===this.status)&&e(this.response)},n.send()}function s(t,e){function n(n){var i=l(n),o=c(n);t.exifdata=i||{},t.iptcdata=o||{},e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var i=r(t.src);n(i)}else if(/^blob\:/i.test(t.src)){var o=new FileReader;o.onload=function(t){n(t.target.result)},a(t.src,function(t){o.readAsArrayBuffer(t)})}else{var s=new XMLHttpRequest;s.onload=function(){200==this.status||0===this.status?n(s.response):e(new Error("Could not load image")),s=null},s.open("GET",t.src,!0),s.responseType="arraybuffer",s.send(null)}else if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){var o=new FileReader;o.onload=function(t){n(t.target.result)},o.readAsArrayBuffer(t)}}function l(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n,i=2,o=t.byteLength;o>i;){if(255!=e.getUint8(i))return!1;if(n=e.getUint8(i+1),225==n)return f(e,i+4,e.getUint16(i+2)-2);i+=2+e.getUint16(i+2)}}function c(t){var e=new DataView(t);if(255!=e.getUint8(0)||216!=e.getUint8(1))return!1;for(var n=2,i=t.byteLength,o=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};i>n;){if(o(e,n)){var r=e.getUint8(n+7);r%2!==0&&(r+=1),0===r&&(r=4);var a=n+8+r,s=e.getUint16(n+6+r);return u(t,a,s)}n++}}function u(t,e,n){for(var i,o,r,a,s,l=new DataView(t),c={},u=e;e+n>u;)28===l.getUint8(u)&&2===l.getUint8(u+1)&&(a=l.getUint8(u+2),a in w&&(r=l.getInt16(u+3),s=r+5,o=w[a],i=h(l,u+5,r),c.hasOwnProperty(o)?c[o]instanceof Array?c[o].push(i):c[o]=[c[o],i]:c[o]=i)),u++;return c}function d(t,e,n,i,o){var r,a,s,l=t.getUint16(n,!o),c={};for(s=0;l>s;s++)r=n+12*s+2,a=i[t.getUint16(r,!o)],c[a]=p(t,r,e,n,o);return c}function p(t,e,n,i,o){var r,a,s,l,c,u,d=t.getUint16(e+2,!o),p=t.getUint32(e+4,!o),f=t.getUint32(e+8,!o)+n;switch(d){case 1:case 7:if(1==p)return t.getUint8(e+8,!o);for(r=p>4?f:e+8,a=[],l=0;p>l;l++)a[l]=t.getUint8(r+l);return a;case 2:return r=p>4?f:e+8,h(t,r,p-1);case 3:if(1==p)return t.getUint16(e+8,!o);for(r=p>2?f:e+8,a=[],l=0;p>l;l++)a[l]=t.getUint16(r+2*l,!o);return a;case 4:if(1==p)return t.getUint32(e+8,!o);for(a=[],l=0;p>l;l++)a[l]=t.getUint32(f+4*l,!o);return a;case 5:if(1==p)return c=t.getUint32(f,!o),u=t.getUint32(f+4,!o),s=new Number(c/u),s.numerator=c,s.denominator=u,s;for(a=[],l=0;p>l;l++)c=t.getUint32(f+8*l,!o),u=t.getUint32(f+4+8*l,!o),a[l]=new Number(c/u),a[l].numerator=c,a[l].denominator=u;return a;case 9:if(1==p)return t.getInt32(e+8,!o);for(a=[],l=0;p>l;l++)a[l]=t.getInt32(f+4*l,!o);return a;case 10:if(1==p)return t.getInt32(f,!o)/t.getInt32(f+4,!o);for(a=[],l=0;p>l;l++)a[l]=t.getInt32(f+8*l,!o)/t.getInt32(f+4+8*l,!o);return a}}function h(t,e,n){var i,o="";for(i=e;e+n>i;i++)o+=String.fromCharCode(t.getUint8(i));return o}function f(t,e){if("Exif"!=h(t,e,4))return!1;var n,i,o,r,a,s=e+6;if(18761==t.getUint16(s))n=!1;else{if(19789!=t.getUint16(s))return!1;n=!0}if(42!=t.getUint16(s+2,!n))return!1;var l=t.getUint32(s+4,!n);if(8>l)return!1;if(i=d(t,s,s+l,v,n),i.ExifIFDPointer){r=d(t,s,s+i.ExifIFDPointer,g,n);for(o in r){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":r[o]=b[o][r[o]];break;case"ExifVersion":case"FlashpixVersion":r[o]=String.fromCharCode(r[o][0],r[o][1],r[o][2],r[o][3]);break;case"ComponentsConfiguration":r[o]=b.Components[r[o][0]]+b.Components[r[o][1]]+b.Components[r[o][2]]+b.Components[r[o][3]]}i[o]=r[o]}}if(i.GPSInfoIFDPointer){a=d(t,s,s+i.GPSInfoIFDPointer,y,n);for(o in a){switch(o){case"GPSVersionID":a[o]=a[o][0]+"."+a[o][1]+"."+a[o][2]+"."+a[o][3]}i[o]=a[o]}}return i}var m=function(t){return t instanceof m?t:this instanceof m?void(this.EXIFwrapped=t):new m(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=m),e.EXIF=m;var g=m.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},v=m.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},y=m.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},b=m.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},w={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};m.getData=function(t,e){return!((t instanceof Image||t instanceof HTMLImageElement)&&!t.complete)&&(n(t)?e&&e.call(t):s(t,e),!0)},m.getTag=function(t,e){return n(t)?t.exifdata[e]:void 0},m.getAllTags=function(t){if(!n(t))return{};var e,i=t.exifdata,o={};for(e in i)i.hasOwnProperty(e)&&(o[e]=i[e]);return o},m.pretty=function(t){if(!n(t))return"";var e,i=t.exifdata,o="";for(e in i)i.hasOwnProperty(e)&&(o+="object"==typeof i[e]?i[e]instanceof Number?e+" : "+i[e]+" ["+i[e].numerator+"/"+i[e].denominator+"]\r\n":e+" : ["+i[e].length+" values]\r\n":e+" : "+i[e]+"\r\n");return o},m.readFromBinaryFile=function(t){return l(t)},i=[],o=function(){return m}.apply(e,i),!(void 0!==o&&(t.exports=o))}).call(this)},function(t,e,n){var i,o;!function(){function n(t){var e=t.naturalWidth,n=t.naturalHeight;if(e*n>1048576){var i=document.createElement("canvas");i.width=i.height=1;var o=i.getContext("2d");return o.drawImage(t,-e+1,0),0===o.getImageData(0,0,1,1).data[3]}return!1}function r(t,e,n){var i=document.createElement("canvas");i.width=1,i.height=n;var o=i.getContext("2d");o.drawImage(t,0,0);for(var r=o.getImageData(0,0,1,n).data,a=0,s=n,l=n;l>a;){var c=r[4*(l-1)+3];0===c?s=l:a=l,l=s+a>>1}var u=l/n;return 0===u?1:u}function a(t,e,n){var i=document.createElement("canvas");return s(t,i,e,n),i.toDataURL("image/jpeg",e.quality||.8)}function s(t,e,i,o){var a=t.naturalWidth,s=t.naturalHeight,c=i.width,u=i.height,d=e.getContext("2d");d.save(),l(e,d,c,u,i.orientation);var p=n(t);p&&(a/=2,s/=2);var h=1024,f=document.createElement("canvas");f.width=f.height=h;for(var m=f.getContext("2d"),g=o?r(t,a,s):1,v=Math.ceil(h*c/a),y=Math.ceil(h*u/s/g),b=0,w=0;s>b;){for(var x=0,k=0;a>x;)m.clearRect(0,0,h,h),m.drawImage(t,-x,-b),d.drawImage(f,0,0,h,h,k,w,v,y),x+=h,k+=v;b+=h,w+=y}d.restore(),f=m=null}function l(t,e,n,i,o){switch(o){case 5:case 6:case 7:case 8:t.width=i,t.height=n;break;default:t.width=n,t.height=i}switch(o){case 2:e.translate(n,0),e.scale(-1,1);break;case 3:e.translate(n,i),e.rotate(Math.PI);break;case 4:e.translate(0,i),e.scale(1,-1);break;case 5:e.rotate(.5*Math.PI),e.scale(1,-1);break;case 6:e.rotate(.5*Math.PI),e.translate(0,-i);break;case 7:e.rotate(.5*Math.PI),e.translate(n,-i),e.scale(-1,1);break;case 8:e.rotate(-.5*Math.PI),e.translate(-n,0)}}function c(t){if(window.Blob&&t instanceof Blob){var e=new Image,n=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!n)throw Error("No createObjectURL function found to create blob url");e.src=n.createObjectURL(t),this.blob=t,t=e}if(!t.naturalWidth&&!t.naturalHeight){var i=this;t.onload=function(){var t=i.imageLoadListeners;if(t){i.imageLoadListeners=null;for(var e=0,n=t.length;n>e;e++)t[e]()}},this.imageLoadListeners=[]}this.srcImage=t}c.prototype.render=function(t,e,n){if(this.imageLoadListeners){var i=this;return void this.imageLoadListeners.push(function(){i.render(t,e,n)})}e=e||{};var o=this.srcImage,r=o.src,l=r.length,c=o.naturalWidth,u=o.naturalHeight,d=e.width,p=e.height,h=e.maxWidth,f=e.maxHeight,m=this.blob&&"image/jpeg"===this.blob.type||0===r.indexOf("data:image/jpeg")||r.indexOf(".jpg")===l-4||r.indexOf(".jpeg")===l-5;d&&!p?p=u*d/c<<0:p&&!d?d=c*p/u<<0:(d=c,p=u),h&&d>h&&(d=h,p=u*d/c<<0),f&&p>f&&(p=f,d=c*p/u<<0);var g={width:d,height:p};for(var v in e)g[v]=e[v];var y=t.tagName.toLowerCase();"img"===y?t.src=a(this.srcImage,g,m):"canvas"===y&&s(this.srcImage,t,g,m),"function"==typeof this.onrender&&this.onrender(t),n&&n()},i=[],o=function(){return c}.apply(e,i),!(void 0!==o&&(t.exports=o))}()},function(t,e){function n(t){function e(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;64>n;n++){var i=T((e[n]*t+50)/100);1>i?i=1:i>255&&(i=255),S[U[n]]=i}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],r=0;64>r;r++){var a=T((o[r]*t+50)/100);1>a?a=1:a>255&&(a=255),$[U[r]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,c=0;8>c;c++)for(var u=0;8>u;u++)_[l]=1/(S[U[l]]*s[c]*s[u]*8),A[l]=1/($[U[l]]*s[c]*s[u]*8),l++}function n(t,e){for(var n=0,i=0,o=new Array,r=1;16>=r;r++){for(var a=1;a<=t[r];a++)o[e[i]]=[],o[e[i]][0]=n,o[e[i]][1]=r,i++,n++;n*=2}return o}function i(){b=n(H,z),w=n(W,G),x=n(q,K),k=n(Z,V)}function o(){for(var t=1,e=2,n=1;15>=n;n++){for(var i=t;e>i;i++)E[32767+i]=n,I[32767+i]=[],I[32767+i][1]=n,I[32767+i][0]=i;for(var o=-(e-1);-t>=o;o++)E[32767+o]=n,I[32767+o]=[],I[32767+o][1]=n,I[32767+o][0]=e-1+o;t<<=1,e<<=1}}function r(){for(var t=0;256>t;t++)B[t]=19595*t,B[t+256>>0]=38470*t,B[t+512>>0]=7471*t+32768,B[t+768>>0]=-11059*t,B[t+1024>>0]=-21709*t,B[t+1280>>0]=32768*t+8421375,B[t+1536>>0]=-27439*t,B[t+1792>>0]=-5329*t}function a(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(N|=1<<P),n--,P--,0>P&&(255==N?(s(255),s(0)):s(N),P=7,N=0)}function s(t){R.push(j[t])}function l(t){s(t>>8&255),s(255&t)}function c(t,e){var n,i,o,r,a,s,l,c,u,d=0;const p=8,h=64;for(u=0;p>u;++u){n=t[d],i=t[d+1],o=t[d+2],r=t[d+3],a=t[d+4],s=t[d+5],l=t[d+6],c=t[d+7];var f=n+c,m=n-c,g=i+l,v=i-l,y=o+s,b=o-s,w=r+a,x=r-a,k=f+w,C=f-w,T=g+y,S=g-y;t[d]=k+T,t[d+4]=k-T;var $=.707106781*(S+C);t[d+2]=C+$,t[d+6]=C-$,k=x+b,T=b+v,S=v+m;var _=.382683433*(k-S),A=.5411961*k+_,I=1.306562965*S+_,E=.707106781*T,O=m+E,R=m-E;t[d+5]=R+A,t[d+3]=R-A,t[d+1]=O+I,t[d+7]=O-I,d+=8}for(d=0,u=0;p>u;++u){n=t[d],i=t[d+8],o=t[d+16],r=t[d+24],a=t[d+32],s=t[d+40],l=t[d+48],c=t[d+56];var N=n+c,P=n-c,M=i+l,L=i-l,F=o+s,j=o-s,B=r+a,U=r-a,H=N+B,z=N-B,q=M+F,K=M-F;t[d]=H+q,t[d+32]=H-q;var W=.707106781*(K+z);t[d+16]=z+W,t[d+48]=z-W,H=U+j,q=j+L,K=L+P;var G=.382683433*(H-K),Z=.5411961*H+G,V=1.306562965*K+G,Q=.707106781*q,Y=P+Q,X=P-Q;t[d+40]=X+Z,t[d+24]=X-Z,t[d+8]=Y+V,t[d+56]=Y-V,d++}var J;for(u=0;h>u;++u)J=t[u]*e[u],D[u]=J>0?J+.5|0:J-.5|0;return D}function u(){l(65504),l(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),l(1),l(1),s(0),s(0)}function d(t,e){l(65472),l(17),s(8),l(e),l(t),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function p(){l(65499),l(132),s(0);for(var t=0;64>t;t++)s(S[t]);s(1);for(var e=0;64>e;e++)s($[e])}function h(){l(65476),l(418),s(0);for(var t=0;16>t;t++)s(H[t+1]);for(var e=0;11>=e;e++)s(z[e]);s(16);for(var n=0;16>n;n++)s(q[n+1]);for(var i=0;161>=i;i++)s(K[i]);s(1);for(var o=0;16>o;o++)s(W[o+1]);for(var r=0;11>=r;r++)s(G[r]);s(17);for(var a=0;16>a;a++)s(Z[a+1]);for(var c=0;161>=c;c++)s(V[c])}function f(){l(65498),l(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function m(t,e,n,i,o){var r,s=o[0],l=o[240];const u=16,d=63,p=64;for(var h=c(t,e),f=0;p>f;++f)O[U[f]]=h[f];var m=O[0]-n;n=O[0],0==m?a(i[0]):(r=32767+m,a(i[E[r]]),a(I[r]));for(var g=63;g>0&&0==O[g];g--);if(0==g)return a(s),n;for(var v,y=1;g>=y;){for(var b=y;0==O[y]&&g>=y;++y);var w=y-b;if(w>=u){v=w>>4;for(var x=1;v>=x;++x)a(l);w=15&w}r=32767+O[y],a(o[(w<<4)+E[r]]),a(I[r]),y++}return g!=d&&a(s),n}function g(){for(var t=String.fromCharCode,e=0;256>e;e++)j[e]=t(e)}function v(t){if(0>=t&&(t=1),t>100&&(t=100),C!=t){var n=0;n=50>t?Math.floor(5e3/t):Math.floor(200-2*t),e(n),C=t}}function y(){var e=(new Date).getTime();t||(t=50),g(),i(),o(),r(),v(t),(new Date).getTime()-e}var b,w,x,k,C,T=(Math.round,Math.floor),S=new Array(64),$=new Array(64),_=new Array(64),A=new Array(64),I=new Array(65535),E=new Array(65535),D=new Array(64),O=new Array(64),R=[],N=0,P=7,M=new Array(64),L=new Array(64),F=new Array(64),j=new Array(256),B=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],K=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];
this.encode=function(t,e,n){var i=(new Date).getTime();e&&v(e),R=new Array,N=0,P=7,l(65496),u(),p(),d(t.width,t.height),h(),f();var o=0,r=0,s=0;N=0,P=7,this.encode.displayName="_encode_";for(var c,g,y,C,T,S,$,I,E,D=t.data,O=t.width,j=t.height,U=4*O,H=0;j>H;){for(c=0;U>c;){for(T=U*H+c,S=T,$=-1,I=0,E=0;64>E;E++)I=E>>3,$=4*(7&E),S=T+I*U+$,H+I>=j&&(S-=U*(H+1+I-j)),c+$>=U&&(S-=c+$-U+4),g=D[S++],y=D[S++],C=D[S++],M[E]=(B[g]+B[y+256>>0]+B[C+512>>0]>>16)-128,L[E]=(B[g+768>>0]+B[y+1024>>0]+B[C+1280>>0]>>16)-128,F[E]=(B[g+1280>>0]+B[y+1536>>0]+B[C+1792>>0]>>16)-128;o=m(M,_,o,b,x),r=m(L,A,r,w,k),s=m(F,A,s,w,k),c+=32}H+=8}if(P>=0){var z=[];z[1]=P+1,z[0]=(1<<P+1)-1,a(z)}if(l(65497),n){for(var q=R.length,K=new Uint8Array(q),W=0;q>W;W++)K[W]=R[W].charCodeAt();return R=[],(new Date).getTime()-i,K}var G="data:image/jpeg;base64,"+btoa(R.join(""));return R=[],(new Date).getTime()-i,G},y()}t.exports=n},function(t,e,n){function i(t,e){var n=this;if(!t)throw new Error("https://github.com/think2011/localResizeIMG/issues/7");e=e||{},n.defaults={width:null,height:null,fieldName:"file",quality:.7},n.file=t;for(var i in e)e.hasOwnProperty(i)&&(n.defaults[i]=e[i]);return this.init()}function o(t){var e=null;return e=t?[].filter.call(document.scripts,function(e){return-1!==e.src.indexOf(t)})[0]:document.scripts[document.scripts.length-1],e?e.src.substr(0,e.src.lastIndexOf("/")):null}function r(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new s.Blob([i.buffer],{type:n})}n.p=o("lrz")+"/",window.URL=window.URL||window.webkitURL;var a=n(1),s=n(4),l=n(5),c=function(t){var e=/OS (\d)_.* like Mac OS X/g.exec(t),n=/Android (\d.*?);/g.exec(t)||/Android\/(\d.*?) /g.exec(t);return{oldIOS:!!e&&+e.pop()<8,oldAndroid:!!n&&+n.pop().substr(0,3)<4.5,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(t),android:/Android/g.test(t),mQQBrowser:/MQQBrowser/g.test(t)}}(navigator.userAgent);i.prototype.init=function(){var t=this,e=t.file,n="string"==typeof e,i=/^data:/.test(e),o=new Image,l=document.createElement("canvas"),c=n?e:URL.createObjectURL(e);if(t.img=o,t.blob=c,t.canvas=l,n?t.fileName=i?"base64.jpg":e.split("/").pop():t.fileName=e.name,!document.createElement("canvas").getContext)throw new Error("canvas");return new a(function(n,a){o.onerror=function(){throw new Error("")},o.onload=function(){t._getBase64().then(function(t){return t.length<10&&a("base64"),t}).then(function(i){var o=null;"object"==typeof t.file&&i.length>t.file.size?(o=new FormData,e=t.file):(o=new s.FormData,e=r(i)),o.append(t.defaults.fieldName,e,t.fileName.replace(/\..+/g,".jpg")),n({formData:o,fileLen:+e.size,base64:i,base64Len:i.length,origin:t.file,file:e});for(var a in t)t.hasOwnProperty(a)&&(t[a]=null);URL.revokeObjectURL(t.blob)})},!i&&(o.crossOrigin="*"),o.src=c})},i.prototype._getBase64=function(){var t=this,e=t.img,n=t.file,i=t.canvas;return new a(function(o){try{l.getData("object"==typeof n?n:e,function(){t.orientation=l.getTag(this,"Orientation"),t.resize=t._getResize(),t.ctx=i.getContext("2d"),i.width=t.resize.width,i.height=t.resize.height,t.ctx.fillStyle="#fff",t.ctx.fillRect(0,0,i.width,i.height),c.oldIOS?t._createBase64ForOldIOS().then(o):t._createBase64().then(o)})}catch(r){throw new Error(r)}})},i.prototype._createBase64ForOldIOS=function(){var t=this,e=t.img,i=t.canvas,o=t.defaults,r=t.orientation;return new a(function(t){!function(){var a=[n(6)];(function(n){var a=new n(e);"5678".indexOf(r)>-1?a.render(i,{width:i.height,height:i.width,orientation:r}):a.render(i,{width:i.width,height:i.height,orientation:r}),t(i.toDataURL("image/jpeg",o.quality))}).apply(null,a)}()})},i.prototype._createBase64=function(){var t=this,e=t.resize,i=t.img,o=t.canvas,r=t.ctx,s=t.defaults,l=t.orientation;switch(l){case 3:r.rotate(180*Math.PI/180),r.drawImage(i,-e.width,-e.height,e.width,e.height);break;case 6:r.rotate(90*Math.PI/180),r.drawImage(i,0,-e.width,e.height,e.width);break;case 8:r.rotate(270*Math.PI/180),r.drawImage(i,-e.height,0,e.height,e.width);break;case 2:r.translate(e.width,0),r.scale(-1,1),r.drawImage(i,0,0,e.width,e.height);break;case 4:r.translate(e.width,0),r.scale(-1,1),r.rotate(180*Math.PI/180),r.drawImage(i,-e.width,-e.height,e.width,e.height);break;case 5:r.translate(e.width,0),r.scale(-1,1),r.rotate(90*Math.PI/180),r.drawImage(i,0,-e.width,e.height,e.width);break;case 7:r.translate(e.width,0),r.scale(-1,1),r.rotate(270*Math.PI/180),r.drawImage(i,-e.height,0,e.height,e.width);break;default:r.drawImage(i,0,0,e.width,e.height)}return new a(function(t){c.oldAndroid||c.mQQBrowser||!navigator.userAgent?!function(){var e=[n(7)];(function(e){var n=new e,i=r.getImageData(0,0,o.width,o.height);t(n.encode(i,100*s.quality))}).apply(null,e)}():t(o.toDataURL("image/jpeg",s.quality))})},i.prototype._getResize=function(){var t=this,e=t.img,n=t.defaults,i=n.width,o=n.height,r=t.orientation,a={width:e.width,height:e.height};if("5678".indexOf(r)>-1&&(a.width=e.height,a.height=e.width),a.width<i||a.height<o)return a;var s=a.width/a.height;for(i&&o?s>=i/o?a.width>i&&(a.width=i,a.height=Math.ceil(i/s)):a.height>o&&(a.height=o,a.width=Math.ceil(o*s)):i?i<a.width&&(a.width=i,a.height=Math.ceil(i/s)):o&&o<a.height&&(a.width=Math.ceil(o*s),a.height=o);a.width>=3264||a.height>=2448;)a.width*=.8,a.height*=.8;return a},window.lrz=function(t,e){return new i(t,e)},window.lrz.version="4.9.36",t.exports=window.lrz}])});